/*! For license information please see main.29f1cbe8.js.LICENSE.txt */
!function(){var e={2110:function(e,t,n){"use strict";var r=n(8309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var s=u(t),v=u(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!s||!s[y])){var g=h(n,y);try{c(t,y,g)}catch(b){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,k=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case s:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case u:return e;default:return t}}case i:return t}}}function _(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return _(e)||w(e)===l},t.isConcurrentMode=_,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===s||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===u||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===b||e.$$typeof===k||e.$$typeof===y)},t.typeOf=w},8309:function(e,t,n){"use strict";e.exports=n(746)},908:function(e,t,n){var r=n(8136)(n(7009),"DataView");e.exports=r},9676:function(e,t,n){var r=n(5403),i=n(2747),a=n(6037),o=n(4154),s=n(7728);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=o,u.prototype.set=s,e.exports=u},8384:function(e,t,n){var r=n(3894),i=n(8699),a=n(4957),o=n(7184),s=n(7109);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=o,u.prototype.set=s,e.exports=u},5797:function(e,t,n){var r=n(8136)(n(7009),"Map");e.exports=r},8059:function(e,t,n){var r=n(4086),i=n(9255),a=n(9186),o=n(3423),s=n(3739);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=o,u.prototype.set=s,e.exports=u},8319:function(e,t,n){var r=n(8136)(n(7009),"Promise");e.exports=r},3924:function(e,t,n){var r=n(8136)(n(7009),"Set");e.exports=r},692:function(e,t,n){var r=n(8059),i=n(5774),a=n(1596);function o(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}o.prototype.add=o.prototype.push=i,o.prototype.has=a,e.exports=o},2854:function(e,t,n){var r=n(8384),i=n(511),a=n(835),o=n(707),s=n(8832),u=n(5077);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=i,c.prototype.delete=a,c.prototype.get=o,c.prototype.has=s,c.prototype.set=u,e.exports=c},7197:function(e,t,n){var r=n(7009).Symbol;e.exports=r},6219:function(e,t,n){var r=n(7009).Uint8Array;e.exports=r},7091:function(e,t,n){var r=n(8136)(n(7009),"WeakMap");e.exports=r},4903:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}},7538:function(e,t,n){var r=n(6478),i=n(4963),a=n(3629),o=n(5174),s=n(6800),u=n(9102),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=a(e),l=!n&&i(e),f=!n&&!l&&o(e),h=!n&&!l&&!f&&u(e),d=n||l||f||h,p=d?r(e.length,String):[],v=p.length;for(var m in e)!t&&!c.call(e,m)||d&&("length"==m||f&&("offset"==m||"parent"==m)||h&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||s(m,v))||p.push(m);return p}},8950:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},1705:function(e){e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},2095:function(e){e.exports=function(e,t,n,r){var i=-1,a=null==e?0:e.length;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n}},7897:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},4622:function(e){e.exports=function(e){return e.split("")}},240:function(e){var t=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;e.exports=function(e){return e.match(t)||[]}},7112:function(e,t,n){var r=n(9231);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},2526:function(e,t,n){var r=n(8528);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},5099:function(e,t,n){var r=n(372)();e.exports=r},5358:function(e,t,n){var r=n(5099),i=n(2742);e.exports=function(e,t){return e&&r(e,t,i)}},8667:function(e,t,n){var r=n(3082),i=n(9793);e.exports=function(e,t){for(var n=0,a=(t=r(t,e)).length;null!=e&&n<a;)e=e[i(t[n++])];return n&&n==a?e:void 0}},1986:function(e,t,n){var r=n(1705),i=n(3629);e.exports=function(e,t,n){var a=t(e);return i(e)?a:r(a,n(e))}},9066:function(e,t,n){var r=n(7197),i=n(1587),a=n(3581),o=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?i(e):a(e)}},7852:function(e){var t=Object.prototype.hasOwnProperty;e.exports=function(e,n){return null!=e&&t.call(e,n)}},529:function(e){e.exports=function(e,t){return null!=e&&t in Object(e)}},4906:function(e,t,n){var r=n(9066),i=n(3141);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},1848:function(e,t,n){var r=n(3355),i=n(3141);e.exports=function e(t,n,a,o,s){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!==t&&n!==n:r(t,n,a,o,e,s))}},3355:function(e,t,n){var r=n(2854),i=n(5305),a=n(2206),o=n(8078),s=n(8383),u=n(3629),c=n(5174),l=n(9102),f="[object Arguments]",h="[object Array]",d="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,v,m,y){var g=u(e),b=u(t),k=g?h:s(e),w=b?h:s(t),_=(k=k==f?d:k)==d,x=(w=w==f?d:w)==d,C=k==w;if(C&&c(e)){if(!c(t))return!1;g=!0,_=!1}if(C&&!_)return y||(y=new r),g||l(e)?i(e,t,n,v,m,y):a(e,t,k,n,v,m,y);if(!(1&n)){var S=_&&p.call(e,"__wrapped__"),E=x&&p.call(t,"__wrapped__");if(S||E){var T=S?e.value():e,I=E?t.value():t;return y||(y=new r),m(T,I,n,v,y)}}return!!C&&(y||(y=new r),o(e,t,n,v,m,y))}},8856:function(e,t,n){var r=n(2854),i=n(1848);e.exports=function(e,t,n,a){var o=n.length,s=o,u=!a;if(null==e)return!s;for(e=Object(e);o--;){var c=n[o];if(u&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++o<s;){var l=(c=n[o])[0],f=e[l],h=c[1];if(u&&c[2]){if(void 0===f&&!(l in e))return!1}else{var d=new r;if(a)var p=a(f,h,l,e,t,d);if(!(void 0===p?i(h,f,3,a,d):p))return!1}}return!0}},6703:function(e,t,n){var r=n(4786),i=n(257),a=n(8092),o=n(7907),s=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,l=u.toString,f=c.hasOwnProperty,h=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!a(e)||i(e))&&(r(e)?h:s).test(o(e))}},8150:function(e,t,n){var r=n(9066),i=n(4635),a=n(3141),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function(e){return a(e)&&i(e.length)&&!!o[r(e)]}},6025:function(e,t,n){var r=n(7080),i=n(4322),a=n(2100),o=n(3629),s=n(38);e.exports=function(e){return"function"==typeof e?e:null==e?a:"object"==typeof e?o(e)?i(e[0],e[1]):r(e):s(e)}},3654:function(e,t,n){var r=n(2936),i=n(8836),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))a.call(e,n)&&"constructor"!=n&&t.push(n);return t}},7080:function(e,t,n){var r=n(8856),i=n(9091),a=n(284);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?a(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},4322:function(e,t,n){var r=n(1848),i=n(6181),a=n(5658),o=n(5823),s=n(5072),u=n(284),c=n(9793);e.exports=function(e,t){return o(e)&&s(t)?u(c(e),t):function(n){var o=i(n,e);return void 0===o&&o===t?a(n,e):r(t,o,3)}}},9586:function(e){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},4084:function(e,t,n){var r=n(8667);e.exports=function(e){return function(t){return r(t,e)}}},4632:function(e){e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},2646:function(e){e.exports=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(i);++r<i;)a[r]=e[r+t];return a}},6478:function(e){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},2446:function(e,t,n){var r=n(7197),i=n(8950),a=n(3629),o=n(152),s=r?r.prototype:void 0,u=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(a(t))return i(t,e)+"";if(o(t))return u?u.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n}},6194:function(e){e.exports=function(e){return function(t){return e(t)}}},75:function(e){e.exports=function(e,t){return e.has(t)}},3082:function(e,t,n){var r=n(3629),i=n(5823),a=n(170),o=n(3518);e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:a(o(e))}},9813:function(e,t,n){var r=n(2646);e.exports=function(e,t,n){var i=e.length;return n=void 0===n?i:n,!t&&n>=i?e:r(e,t,n)}},5525:function(e,t,n){var r=n(7009)["__core-js_shared__"];e.exports=r},372:function(e){e.exports=function(e){return function(t,n,r){for(var i=-1,a=Object(t),o=r(t),s=o.length;s--;){var u=o[e?s:++i];if(!1===n(a[u],u,a))break}return t}}},322:function(e,t,n){var r=n(9813),i=n(7302),a=n(7580),o=n(3518);e.exports=function(e){return function(t){t=o(t);var n=i(t)?a(t):void 0,s=n?n[0]:t.charAt(0),u=n?r(n,1).join(""):t.slice(1);return s[e]()+u}}},7810:function(e,t,n){var r=n(2095),i=n(4857),a=n(5660),o=RegExp("['\u2019]","g");e.exports=function(e){return function(t){return r(a(i(t).replace(o,"")),e,"")}}},5868:function(e,t,n){var r=n(4632)({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"});e.exports=r},8528:function(e,t,n){var r=n(8136),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=i},5305:function(e,t,n){var r=n(692),i=n(7897),a=n(75);e.exports=function(e,t,n,o,s,u){var c=1&n,l=e.length,f=t.length;if(l!=f&&!(c&&f>l))return!1;var h=u.get(e),d=u.get(t);if(h&&d)return h==t&&d==e;var p=-1,v=!0,m=2&n?new r:void 0;for(u.set(e,t),u.set(t,e);++p<l;){var y=e[p],g=t[p];if(o)var b=c?o(g,y,p,t,e,u):o(y,g,p,e,t,u);if(void 0!==b){if(b)continue;v=!1;break}if(m){if(!i(t,(function(e,t){if(!a(m,t)&&(y===e||s(y,e,n,o,u)))return m.push(t)}))){v=!1;break}}else if(y!==g&&!s(y,g,n,o,u)){v=!1;break}}return u.delete(e),u.delete(t),v}},2206:function(e,t,n){var r=n(7197),i=n(6219),a=n(9231),o=n(5305),s=n(234),u=n(2230),c=r?r.prototype:void 0,l=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,f,h){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!f(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return a(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var d=s;case"[object Set]":var p=1&r;if(d||(d=u),e.size!=t.size&&!p)return!1;var v=h.get(e);if(v)return v==t;r|=2,h.set(e,t);var m=o(d(e),d(t),r,c,f,h);return h.delete(e),m;case"[object Symbol]":if(l)return l.call(e)==l.call(t)}return!1}},8078:function(e,t,n){var r=n(8248),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,a,o,s){var u=1&n,c=r(e),l=c.length;if(l!=r(t).length&&!u)return!1;for(var f=l;f--;){var h=c[f];if(!(u?h in t:i.call(t,h)))return!1}var d=s.get(e),p=s.get(t);if(d&&p)return d==t&&p==e;var v=!0;s.set(e,t),s.set(t,e);for(var m=u;++f<l;){var y=e[h=c[f]],g=t[h];if(a)var b=u?a(g,y,h,t,e,s):a(y,g,h,e,t,s);if(!(void 0===b?y===g||o(y,g,n,a,s):b)){v=!1;break}m||(m="constructor"==h)}if(v&&!m){var k=e.constructor,w=t.constructor;k==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof k&&k instanceof k&&"function"==typeof w&&w instanceof w||(v=!1)}return s.delete(e),s.delete(t),v}},1032:function(e,t,n){var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},8248:function(e,t,n){var r=n(1986),i=n(5918),a=n(2742);e.exports=function(e){return r(e,a,i)}},2799:function(e,t,n){var r=n(5964);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},9091:function(e,t,n){var r=n(5072),i=n(2742);e.exports=function(e){for(var t=i(e),n=t.length;n--;){var a=t[n],o=e[a];t[n]=[a,o,r(o)]}return t}},8136:function(e,t,n){var r=n(6703),i=n(40);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},1587:function(e,t,n){var r=n(7197),i=Object.prototype,a=i.hasOwnProperty,o=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=a.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(u){}var i=o.call(e);return r&&(t?e[s]=n:delete e[s]),i}},5918:function(e,t,n){var r=n(4903),i=n(8174),a=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,s=o?function(e){return null==e?[]:(e=Object(e),r(o(e),(function(t){return a.call(e,t)})))}:i;e.exports=s},8383:function(e,t,n){var r=n(908),i=n(5797),a=n(8319),o=n(3924),s=n(7091),u=n(9066),c=n(7907),l="[object Map]",f="[object Promise]",h="[object Set]",d="[object WeakMap]",p="[object DataView]",v=c(r),m=c(i),y=c(a),g=c(o),b=c(s),k=u;(r&&k(new r(new ArrayBuffer(1)))!=p||i&&k(new i)!=l||a&&k(a.resolve())!=f||o&&k(new o)!=h||s&&k(new s)!=d)&&(k=function(e){var t=u(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case v:return p;case m:return l;case y:return f;case g:return h;case b:return d}return t}),e.exports=k},40:function(e){e.exports=function(e,t){return null==e?void 0:e[t]}},6417:function(e,t,n){var r=n(3082),i=n(4963),a=n(3629),o=n(6800),s=n(4635),u=n(9793);e.exports=function(e,t,n){for(var c=-1,l=(t=r(t,e)).length,f=!1;++c<l;){var h=u(t[c]);if(!(f=null!=e&&n(e,h)))break;e=e[h]}return f||++c!=l?f:!!(l=null==e?0:e.length)&&s(l)&&o(h,l)&&(a(e)||i(e))}},7302:function(e){var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},7137:function(e){var t=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;e.exports=function(e){return t.test(e)}},5403:function(e,t,n){var r=n(9620);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},2747:function(e){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},6037:function(e,t,n){var r=n(9620),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},4154:function(e,t,n){var r=n(9620),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},7728:function(e,t,n){var r=n(9620);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},6800:function(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},5823:function(e,t,n){var r=n(3629),i=n(152),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||(o.test(e)||!a.test(e)||null!=t&&e in Object(t))}},5964:function(e){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},257:function(e,t,n){var r=n(5525),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!i&&i in e}},2936:function(e){var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},5072:function(e,t,n){var r=n(8092);e.exports=function(e){return e===e&&!r(e)}},3894:function(e){e.exports=function(){this.__data__=[],this.size=0}},8699:function(e,t,n){var r=n(7112),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},4957:function(e,t,n){var r=n(7112);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},7184:function(e,t,n){var r=n(7112);e.exports=function(e){return r(this.__data__,e)>-1}},7109:function(e,t,n){var r=n(7112);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},4086:function(e,t,n){var r=n(9676),i=n(8384),a=n(5797);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(a||i),string:new r}}},9255:function(e,t,n){var r=n(2799);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},9186:function(e,t,n){var r=n(2799);e.exports=function(e){return r(this,e).get(e)}},3423:function(e,t,n){var r=n(2799);e.exports=function(e){return r(this,e).has(e)}},3739:function(e,t,n){var r=n(2799);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},234:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},284:function(e){e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},4634:function(e,t,n){var r=n(9151);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},9620:function(e,t,n){var r=n(8136)(Object,"create");e.exports=r},8836:function(e,t,n){var r=n(2709)(Object.keys,Object);e.exports=r},9494:function(e,t,n){e=n.nmd(e);var r=n(1032),i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,o=a&&a.exports===i&&r.process,s=function(){try{var e=a&&a.require&&a.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(t){}}();e.exports=s},3581:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},2709:function(e){e.exports=function(e,t){return function(n){return e(t(n))}}},7009:function(e,t,n){var r=n(1032),i="object"==typeof self&&self&&self.Object===Object&&self,a=r||i||Function("return this")();e.exports=a},5774:function(e){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},1596:function(e){e.exports=function(e){return this.__data__.has(e)}},2230:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},511:function(e,t,n){var r=n(8384);e.exports=function(){this.__data__=new r,this.size=0}},835:function(e){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},707:function(e){e.exports=function(e){return this.__data__.get(e)}},8832:function(e){e.exports=function(e){return this.__data__.has(e)}},5077:function(e,t,n){var r=n(8384),i=n(5797),a=n(8059);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var o=n.__data__;if(!i||o.length<199)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new a(o)}return n.set(e,t),this.size=n.size,this}},7580:function(e,t,n){var r=n(4622),i=n(7302),a=n(2129);e.exports=function(e){return i(e)?a(e):r(e)}},170:function(e,t,n){var r=n(4634),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,o=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,n,r,i){t.push(r?i.replace(a,"$1"):n||e)})),t}));e.exports=o},9793:function(e,t,n){var r=n(152);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}},7907:function(e){var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},2129:function(e){var t="\\ud800-\\udfff",n="["+t+"]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\\ud83c[\\udffb-\\udfff]",a="[^"+t+"]",o="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",u="(?:"+r+"|"+i+")"+"?",c="[\\ufe0e\\ufe0f]?",l=c+u+("(?:\\u200d(?:"+[a,o,s].join("|")+")"+c+u+")*"),f="(?:"+[a+r+"?",r,o,s,n].join("|")+")",h=RegExp(i+"(?="+i+")|"+f+l,"g");e.exports=function(e){return e.match(h)||[]}},1029:function(e){var t="\\ud800-\\udfff",n="\\u2700-\\u27bf",r="a-z\\xdf-\\xf6\\xf8-\\xff",i="A-Z\\xc0-\\xd6\\xd8-\\xde",a="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",o="["+a+"]",s="\\d+",u="["+n+"]",c="["+r+"]",l="[^"+t+a+s+n+r+i+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",h="[\\ud800-\\udbff][\\udc00-\\udfff]",d="["+i+"]",p="(?:"+c+"|"+l+")",v="(?:"+d+"|"+l+")",m="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",y="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",g="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",b="[\\ufe0e\\ufe0f]?",k=b+g+("(?:\\u200d(?:"+["[^"+t+"]",f,h].join("|")+")"+b+g+")*"),w="(?:"+[u,f,h].join("|")+")"+k,_=RegExp([d+"?"+c+"+"+m+"(?="+[o,d,"$"].join("|")+")",v+"+"+y+"(?="+[o,d+p,"$"].join("|")+")",d+"?"+p+"+"+m,d+"+"+y,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",s,w].join("|"),"g");e.exports=function(e){return e.match(_)||[]}},567:function(e,t,n){var r=n(3131),i=n(7810)((function(e,t,n){return t=t.toLowerCase(),e+(n?r(t):t)}));e.exports=i},3131:function(e,t,n){var r=n(3518),i=n(2085);e.exports=function(e){return i(r(e).toLowerCase())}},4857:function(e,t,n){var r=n(5868),i=n(3518),a=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,o=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");e.exports=function(e){return(e=i(e))&&e.replace(a,r).replace(o,"")}},9231:function(e){e.exports=function(e,t){return e===t||e!==e&&t!==t}},6181:function(e,t,n){var r=n(8667);e.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}},7805:function(e,t,n){var r=n(7852),i=n(6417);e.exports=function(e,t){return null!=e&&i(e,t,r)}},5658:function(e,t,n){var r=n(529),i=n(6417);e.exports=function(e,t){return null!=e&&i(e,t,r)}},2100:function(e){e.exports=function(e){return e}},4963:function(e,t,n){var r=n(4906),i=n(3141),a=Object.prototype,o=a.hasOwnProperty,s=a.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(e){return i(e)&&o.call(e,"callee")&&!s.call(e,"callee")};e.exports=u},3629:function(e){var t=Array.isArray;e.exports=t},1473:function(e,t,n){var r=n(4786),i=n(4635);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},5174:function(e,t,n){e=n.nmd(e);var r=n(7009),i=n(9488),a=t&&!t.nodeType&&t,o=a&&e&&!e.nodeType&&e,s=o&&o.exports===a?r.Buffer:void 0,u=(s?s.isBuffer:void 0)||i;e.exports=u},4786:function(e,t,n){var r=n(9066),i=n(8092);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},4635:function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},8092:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},3141:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},152:function(e,t,n){var r=n(9066),i=n(3141);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},9102:function(e,t,n){var r=n(8150),i=n(6194),a=n(9494),o=a&&a.isTypedArray,s=o?i(o):r;e.exports=s},2742:function(e,t,n){var r=n(7538),i=n(3654),a=n(1473);e.exports=function(e){return a(e)?r(e):i(e)}},9029:function(e,t,n){var r=n(2526),i=n(5358),a=n(6025);e.exports=function(e,t){var n={};return t=a(t,3),i(e,(function(e,i,a){r(n,t(e,i,a),e)})),n}},7702:function(e,t,n){var r=n(2526),i=n(5358),a=n(6025);e.exports=function(e,t){var n={};return t=a(t,3),i(e,(function(e,i,a){r(n,i,t(e,i,a))})),n}},9151:function(e,t,n){var r=n(8059);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},38:function(e,t,n){var r=n(9586),i=n(4084),a=n(5823),o=n(9793);e.exports=function(e){return a(e)?r(o(e)):i(e)}},7499:function(e,t,n){var r=n(7810)((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));e.exports=r},8174:function(e){e.exports=function(){return[]}},9488:function(e){e.exports=function(){return!1}},3518:function(e,t,n){var r=n(2446);e.exports=function(e){return null==e?"":r(e)}},2085:function(e,t,n){var r=n(322)("toUpperCase");e.exports=r},5660:function(e,t,n){var r=n(240),i=n(7137),a=n(3518),o=n(1029);e.exports=function(e,t,n){return e=a(e),void 0===(t=n?void 0:t)?i(e)?o(e):r(e):e.match(t)||[]}},2758:function(e){"use strict";function t(e){this._maxSize=e,this.clear()}t.prototype.clear=function(){this._size=0,this._values=Object.create(null)},t.prototype.get=function(e){return this._values[e]},t.prototype.set=function(e,t){return this._size>=this._maxSize&&this.clear(),e in this._values||this._size++,this._values[e]=t};var n=/[^.^\]^[]+|(?=\[\]|\.\.)/g,r=/^\d+$/,i=/^\d/,a=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,o=/^\s*(['"]?)(.*?)(\1)\s*$/,s=new t(512),u=new t(512),c=new t(512);function l(e){return s.get(e)||s.set(e,f(e).map((function(e){return e.replace(o,"$2")})))}function f(e){return e.match(n)||[""]}function h(e){return"string"===typeof e&&e&&-1!==["'",'"'].indexOf(e.charAt(0))}function d(e){return!h(e)&&(function(e){return e.match(i)&&!e.match(r)}(e)||function(e){return a.test(e)}(e))}e.exports={Cache:t,split:f,normalizePath:l,setter:function(e){var t=l(e);return u.get(e)||u.set(e,(function(e,n){for(var r=0,i=t.length,a=e;r<i-1;){var o=t[r];if("__proto__"===o||"constructor"===o||"prototype"===o)return e;a=a[t[r++]]}a[t[r]]=n}))},getter:function(e,t){var n=l(e);return c.get(e)||c.set(e,(function(e){for(var r=0,i=n.length;r<i;){if(null==e&&t)return;e=e[n[r++]]}return e}))},join:function(e){return e.reduce((function(e,t){return e+(h(t)||r.test(t)?"["+t+"]":(e?".":"")+t)}),"")},forEach:function(e,t,n){!function(e,t,n){var r,i,a,o,s=e.length;for(i=0;i<s;i++)(r=e[i])&&(d(r)&&(r='"'+r+'"'),a=!(o=h(r))&&/^\d+$/.test(r),t.call(n,r,o,a,i,e))}(Array.isArray(e)?e:f(e),t,n)}}},4463:function(e,t,n){"use strict";var r=n(2791),i=n(5296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),_=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),T=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),N=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var A=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function F(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var j,L=Object.assign;function M(e){if(void 0===j)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);j=t&&t[1]||""}return"\n"+j+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?M(e):""}function z(e){switch(e.tag){case 5:return M(e.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case _:return"Portal";case S:return"Profiler";case C:return"StrictMode";case R:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case N:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function $(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&$(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ae(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,xe=null,Ce=null;function Se(e){if(e=bi(e)){if("function"!==typeof _e)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),_e(e.stateNode,e.type,t))}}function Ee(e){xe?Ce?Ce.push(e):Ce=[e]:xe=e}function Te(){if(xe){var e=xe,t=Ce;if(Ce=xe=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ie(e,t){return e(t)}function Re(){}var Pe=!1;function Oe(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Ie(e,t,n)}finally{Pe=!1,(null!==xe||null!==Ce)&&(Re(),Te())}}function Ne(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Ae=!1;if(l)try{var De={};Object.defineProperty(De,"passive",{get:function(){Ae=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(le){Ae=!1}function Fe(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var je=!1,Le=null,Me=!1,Ue=null,Ve={onError:function(e){je=!0,Le=e}};function ze(e,t,n,r,i,a,o,s,u){je=!1,Le=null,Fe.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Be(e)!==e)throw Error(a(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return He(i),e;if(o===r)return He(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,$e=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ft(s):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function kt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,_t,xt,Ct,St,Et=!1,Tt=[],It=null,Rt=null,Pt=null,Ot=new Map,Nt=new Map,At=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ft(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Rt=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nt.delete(t.pointerId)}}function jt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Lt(e){var t=gi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void St(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Mt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ke=r,n.target.dispatchEvent(r),ke=null,t.shift()}return!0}function Ut(e,t,n){Mt(e)&&n.delete(t)}function Vt(){Et=!1,null!==It&&Mt(It)&&(It=null),null!==Rt&&Mt(Rt)&&(Rt=null),null!==Pt&&Mt(Pt)&&(Pt=null),Ot.forEach(Ut),Nt.forEach(Ut)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return zt(t,e)}if(0<Tt.length){zt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&zt(It,e),null!==Rt&&zt(Rt,e),null!==Pt&&zt(Pt,e),Ot.forEach(t),Nt.forEach(t),n=0;n<At.length;n++)(r=At[n]).blockedOn===e&&(r.blockedOn=null);for(;0<At.length&&null===(n=At[0]).blockedOn;)Lt(n),null===n.blockedOn&&At.shift()}var qt=k.ReactCurrentBatchConfig,Ht=!0;function Wt(e,t,n,r){var i=bt,a=qt.transition;qt.transition=null;try{bt=1,Kt(e,t,n,r)}finally{bt=i,qt.transition=a}}function Gt(e,t,n,r){var i=bt,a=qt.transition;qt.transition=null;try{bt=4,Kt(e,t,n,r)}finally{bt=i,qt.transition=a}}function Kt(e,t,n,r){if(Ht){var i=Qt(e,t,n,r);if(null===i)Hr(e,t,r,$t,n),Ft(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=jt(It,e,t,n,r,i),!0;case"dragenter":return Rt=jt(Rt,e,t,n,r,i),!0;case"mouseover":return Pt=jt(Pt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Ot.set(a,jt(Ot.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Nt.set(a,jt(Nt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Ft(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&wt(a),null===(a=Qt(e,t,n,r))&&Hr(e,t,r,$t,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var $t=null;function Qt(e,t,n,r){if($t=null,null!==(e=gi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $t=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=L({},cn,{view:0,detail:0}),hn=an(fn),dn=L({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(dn),vn=an(L({},dn,{dataTransfer:0})),mn=an(L({},fn,{relatedTarget:0})),yn=an(L({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=L({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(gn),kn=an(L({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function Sn(){return Cn}var En=L({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(En),In=an(L({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Rn=an(L({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Pn=an(L({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=L({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nn=an(On),An=[9,13,27,32],Dn=l&&"CompositionEvent"in window,Fn=null;l&&"documentMode"in document&&(Fn=document.documentMode);var jn=l&&"TextEvent"in window&&!Fn,Ln=l&&(!Dn||Fn&&8<Fn&&11>=Fn),Mn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==An.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Wn(e,t,n,r){Ee(r),0<(t=Gr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Kn=null;function $n(e){Mr(e,0)}function Qn(e){if(K(ki(e)))return e}function Yn(e,t){if("change"===e)return t}var Xn=!1;if(l){var Jn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Kn=Gn=null)}function nr(e){if("value"===e.propertyName&&Qn(Kn)){var t=[];Wn(t,Kn,e,we(e)),Oe($n,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Kn)}function ar(e,t){if("click"===e)return Qn(t)}function or(e,t){if("input"===e||"change"===e)return Qn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=$();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=$((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,br=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==$(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&ur(gr,r)||(gr=r,0<(r=Gr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},xr={},Cr={};function Sr(e){if(xr[e])return xr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in Cr)return xr[e]=n[t];return e}l&&(Cr=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Er=Sr("animationend"),Tr=Sr("animationiteration"),Ir=Sr("animationstart"),Rr=Sr("transitionend"),Pr=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nr(e,t){Pr.set(e,t),u(t,[e])}for(var Ar=0;Ar<Or.length;Ar++){var Dr=Or[Ar];Nr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Nr(Er,"onAnimationEnd"),Nr(Tr,"onAnimationIteration"),Nr(Ir,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr(Rr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if(ze.apply(this,arguments),je){if(!je)throw Error(a(198));var l=Le;je=!1,Le=null,Me||(Me=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function Mr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Lr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Lr(i,s,c),a=u}}}if(Me)throw e=Ue,Me=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(jr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Yt(t)){case 1:var i=Wt;break;case 4:i=Gt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Ae||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=gi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Oe((function(){var r=a,i=we(n),o=[];e:{var s=Pr.get(e);if(void 0!==s){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Tn;break;case"focusin":c="focus",u=mn;break;case"focusout":c="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Rn;break;case Er:case Tr:case Ir:u=yn;break;case Rr:u=Pn;break;case"scroll":u=hn;break;case"wheel":u=Nn;break;case"copy":case"cut":case"paste":u=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=In}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ne(p,h))&&l.push(Wr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===ke||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=In,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:ki(u),d=null==c?s:ki(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Kr(d))p++;for(d=0,v=h;v;v=Kr(v))d++;for(;0<p-d;)l=Kr(l),p--;for(;0<d-p;)h=Kr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Kr(l),h=Kr(h)}l=null}else l=null;null!==u&&$r(o,s,u,l,!1),null!==c&&null!==f&&$r(o,f,c,l,!0)}if("select"===(u=(s=r?ki(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Yn;else if(Hn(s))if(Xn)m=or;else{m=ir;var y=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ar);switch(m&&(m=m(e,r))?Wn(o,m,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?ki(r):window,e){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,kr(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":kr(o,n,i)}var g;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?Vn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(g=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,Bn=!0)),0<(y=Gr(r,b)).length&&(b=new kn(b,e,null,n,i),o.push({event:b,listeners:y}),g?b.data=g:null!==(g=zn(n))&&(b.data=g))),(g=jn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Un=!0,Mn);case"textInput":return(e=t.data)===Mn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Dn&&Vn(e,t)?(e=en(),Zt=Jt=Xt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new kn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Mr(o,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ne(e,n))&&r.unshift(Wr(e,a,i)),null!=(a=Ne(e,t))&&r.push(Wr(e,a,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function $r(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Ne(n,a))&&o.unshift(Wr(n,u,s)):i||null!=(u=Ne(n,a))&&o.push(Wr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Qr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ki(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var _i=[],xi=-1;function Ci(e){return{current:e}}function Si(e){0>xi||(e.current=_i[xi],_i[xi]=null,xi--)}function Ei(e,t){xi++,_i[xi]=e.current,e.current=t}var Ti={},Ii=Ci(Ti),Ri=Ci(!1),Pi=Ti;function Oi(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ni(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ai(){Si(Ri),Si(Ii)}function Di(e,t,n){if(Ii.current!==Ti)throw Error(a(168));Ei(Ii,t),Ei(Ri,n)}function Fi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return L({},n,r)}function ji(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Pi=Ii.current,Ei(Ii,e),Ei(Ri,Ri.current),!0}function Li(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Fi(e,t,Pi),r.__reactInternalMemoizedMergedChildContext=e,Si(Ri),Si(Ii),Ei(Ii,e)):Si(Ri),Ei(Ri,n)}var Mi=null,Ui=!1,Vi=!1;function zi(e){null===Mi?Mi=[e]:Mi.push(e)}function Bi(){if(!Vi&&null!==Mi){Vi=!0;var e=0,t=bt;try{var n=Mi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Mi=null,Ui=!1}catch(i){throw null!==Mi&&(Mi=Mi.slice(e+1)),Ke(Ze,Bi),i}finally{bt=t,Vi=!1}}return null}var qi=[],Hi=0,Wi=null,Gi=0,Ki=[],$i=0,Qi=null,Yi=1,Xi="";function Ji(e,t){qi[Hi++]=Gi,qi[Hi++]=Wi,Wi=e,Gi=t}function Zi(e,t,n){Ki[$i++]=Yi,Ki[$i++]=Xi,Ki[$i++]=Qi,Qi=e;var r=Yi;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yi=1<<32-ot(t)+i|n<<i|r,Xi=a+e}else Yi=1<<a|n<<i|r,Xi=e}function ea(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ta(e){for(;e===Wi;)Wi=qi[--Hi],qi[Hi]=null,Gi=qi[--Hi],qi[Hi]=null;for(;e===Qi;)Qi=Ki[--$i],Ki[$i]=null,Xi=Ki[--$i],Ki[$i]=null,Yi=Ki[--$i],Ki[$i]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Oc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:Yi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Oc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(ua(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(ua(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=k.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Ci(null),ga=null,ba=null,ka=null;function wa(){ka=ba=ga=null}function _a(e){var t=ya.current;Si(ya),e._currentValue=t}function xa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ca(e,t){ga=e,ka=ba=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ks=!0),e.firstContext=null)}function Sa(e){var t=e._currentValue;if(ka!==e)if(e={context:e,memoizedValue:t,next:null},null===ba){if(null===ga)throw Error(a(308));ba=e,ga.dependencies={lanes:0,firstContext:e}}else ba=ba.next=e;return t}var Ea=null;function Ta(e){null===Ea?Ea=[e]:Ea.push(e)}function Ia(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ra(e,r)}function Ra(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Pa=!1;function Oa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Na(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Aa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Da(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Iu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ra(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ra(e,n)}function Fa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function ja(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function La(e,t,n,r){var i=e.updateQueue;Pa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===o?a=c:o.next=c,o=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==a){var f=i.baseState;for(o=0,l=c=u=null,s=a;;){var h=s.lane,d=s.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=L({},f,h);break e;case 2:Pa=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else d={eventTime:d,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=d,u=f):l=l.next=d,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);ju|=o,e.lanes=o,e.memoizedState=f}}function Ma(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ua=(new r.Component).refs;function Va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var za={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Aa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(nc(t,e,i,r),Fa(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Aa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(nc(t,e,i,r),Fa(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Aa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Da(e,i,r))&&(nc(t,e,r,n),Fa(t,e,r))}};function Ba(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function qa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Sa(a):(i=Ni(t)?Pi:Ii.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oi(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=za,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ha(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&za.enqueueReplaceState(t,t.state,null)}function Wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ua,Oa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Sa(a):(a=Ni(t)?Pi:Ii.current,i.context=Oi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&za.enqueueReplaceState(i,i.state,null),La(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ga(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ka(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function $a(e){return(0,e._init)(e._payload)}function Qa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ac(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Lc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===x?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===N&&$a(a)===t.type)?((r=i(t,n.props)).ref=Ga(e,t,n),r.return=e,r):((r=Dc(n.type,n.key,n.props,null,e.mode,r)).ref=Ga(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Mc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Fc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Lc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=Ga(e,null,t),n.return=e,n;case _:return(t=Mc(t,e.mode,n)).return=e,t;case N:return h(e,(0,t._init)(t._payload),n)}if(te(t)||F(t))return(t=Fc(t,e.mode,n,null)).return=e,t;Ka(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case _:return n.key===i?l(e,t,n,r):null;case N:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||F(n))return null!==i?null:f(e,t,n,r,null);Ka(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case N:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||F(r))return f(t,e=e.get(n)||null,r,i,null);Ka(t,r)}return null}function v(i,a,s,u){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,s[v],u);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===s.length)return n(i,f),ia&&Ji(i,v),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Ji(i,v),c}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),c}function m(i,s,u,c){var l=F(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var f=l=null,v=s,m=s=0,y=null,g=u.next();null!==v&&!g.done;m++,g=u.next()){v.index>m?(y=v,v=null):y=v.sibling;var b=d(i,v,g.value,c);if(null===b){null===v&&(v=y);break}e&&v&&null===b.alternate&&t(i,v),s=o(b,s,m),null===f?l=b:f.sibling=b,f=b,v=y}if(g.done)return n(i,v),ia&&Ji(i,m),l;if(null===v){for(;!g.done;m++,g=u.next())null!==(g=h(i,g.value,c))&&(s=o(g,s,m),null===f?l=g:f.sibling=g,f=g);return ia&&Ji(i,m),l}for(v=r(i,v);!g.done;m++,g=u.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),s=o(g,s,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Ji(i,m),l}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===x&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===x){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===N&&$a(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ga(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===x?((a=Fc(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Dc(o.type,o.key,o.props,null,r.mode,u)).ref=Ga(r,a,o),u.return=r,r=u)}return s(r);case _:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Mc(o,r.mode,u)).return=r,r=a}return s(r);case N:return e(r,a,(l=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(F(o))return m(r,a,o,u);Ka(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Lc(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var Ya=Qa(!0),Xa=Qa(!1),Ja={},Za=Ci(Ja),eo=Ci(Ja),to=Ci(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(Ei(to,t),Ei(eo,e),Ei(Za,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si(Za),Ei(Za,t)}function io(){Si(Za),Si(eo),Si(to)}function ao(e){no(to.current);var t=no(Za.current),n=ue(t,e.type);t!==n&&(Ei(eo,e),Ei(Za,n))}function oo(e){eo.current===e&&(Si(Za),Si(eo))}var so=Ci(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=k.ReactCurrentDispatcher,ho=k.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,bo=!1,ko=0,wo=0;function _o(){throw Error(a(321))}function xo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Co(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),bo){o=0;do{if(bo=!1,ko=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cs,e=n(r,i)}while(bo)}if(fo.current=os,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function So(){var e=0!==ko;return ko=0,e}function Eo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function To(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Io(e,t){return"function"===typeof t?t(e):t}function Ro(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=h,s=r):c=c.next=h,vo.lanes|=f,ju|=f}l=l.next}while(null!==l&&l!==o);null===c?s=r:c.next=u,sr(r,t.memoizedState)||(ks=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,ju|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Po(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(ks=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Oo(){}function No(e,t){var n=vo,r=To(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,ks=!0),r=r.queue,Ho(Fo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Uo(9,Do.bind(null,n,r,i,t),void 0,null),null===Ru)throw Error(a(349));0!==(30&po)||Ao(n,t,i)}return i}function Ao(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Do(e,t,n,r){t.value=n,t.getSnapshot=r,jo(t)&&Lo(e)}function Fo(e,t,n){return n((function(){jo(t)&&Lo(e)}))}function jo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Lo(e){var t=Ra(e,1);null!==t&&nc(t,e,1,-1)}function Mo(e){var t=Eo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Io,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,vo,e),[t.memoizedState,e]}function Uo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vo(){return To().memoizedState}function zo(e,t,n,r){var i=Eo();vo.flags|=e,i.memoizedState=Uo(1|t,n,void 0,void 0===r?null:r)}function Bo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&xo(r,o.deps))return void(i.memoizedState=Uo(t,n,a,r))}vo.flags|=e,i.memoizedState=Uo(1|t,n,a,r)}function qo(e,t){return zo(8390656,8,e,t)}function Ho(e,t){return Bo(2048,8,e,t)}function Wo(e,t){return Bo(4,2,e,t)}function Go(e,t){return Bo(4,4,e,t)}function Ko(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function $o(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4,4,Ko.bind(null,t,e),n)}function Qo(){}function Yo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,ks=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),vo.lanes|=n,ju|=n,e.baseState=!0),t)}function Zo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{bt=n,ho.transition=r}}function es(){return To().memoizedState}function ts(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Ia(e,t,n,r))){nc(n,e,r,ec()),as(n,t,r)}}function ns(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var u=t.interleaved;return null===u?(i.next=i,Ta(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ia(e,t,i,r))&&(nc(n,e,r,i=ec()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function is(e,t){bo=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var os={readContext:Sa,useCallback:_o,useContext:_o,useEffect:_o,useImperativeHandle:_o,useInsertionEffect:_o,useLayoutEffect:_o,useMemo:_o,useReducer:_o,useRef:_o,useState:_o,useDebugValue:_o,useDeferredValue:_o,useTransition:_o,useMutableSource:_o,useSyncExternalStore:_o,useId:_o,unstable_isNewReconciler:!1},ss={readContext:Sa,useCallback:function(e,t){return Eo().memoizedState=[e,void 0===t?null:t],e},useContext:Sa,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4194308,4,Ko.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return zo(4,2,e,t)},useMemo:function(e,t){var n=Eo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Eo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Eo().memoizedState=e},useState:Mo,useDebugValue:Qo,useDeferredValue:function(e){return Eo().memoizedState=e},useTransition:function(){var e=Mo(!1),t=e[0];return e=Zo.bind(null,e[1]),Eo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Eo();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Ru)throw Error(a(349));0!==(30&po)||Ao(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Fo.bind(null,r,o,e),[e]),r.flags|=2048,Uo(9,Do.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Eo(),t=Ru.identifierPrefix;if(ia){var n=Xi;t=":"+t+"R"+(n=(Yi&~(1<<32-ot(Yi)-1)).toString(32)+n),0<(n=ko++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Sa,useCallback:Yo,useContext:Sa,useEffect:Ho,useImperativeHandle:$o,useInsertionEffect:Wo,useLayoutEffect:Go,useMemo:Xo,useReducer:Ro,useRef:Vo,useState:function(){return Ro(Io)},useDebugValue:Qo,useDeferredValue:function(e){return Jo(To(),mo.memoizedState,e)},useTransition:function(){return[Ro(Io)[0],To().memoizedState]},useMutableSource:Oo,useSyncExternalStore:No,useId:es,unstable_isNewReconciler:!1},cs={readContext:Sa,useCallback:Yo,useContext:Sa,useEffect:Ho,useImperativeHandle:$o,useInsertionEffect:Wo,useLayoutEffect:Go,useMemo:Xo,useReducer:Po,useRef:Vo,useState:function(){return Po(Io)},useDebugValue:Qo,useDeferredValue:function(e){var t=To();return null===mo?t.memoizedState=e:Jo(t,mo.memoizedState,e)},useTransition:function(){return[Po(Io)[0],To().memoizedState]},useMutableSource:Oo,useSyncExternalStore:No,useId:es,unstable_isNewReconciler:!1};function ls(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Aa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hu||(Hu=!0,Wu=r),hs(0,t)},n}function vs(e,t,n){(n=Aa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof r&&(null===Gu?Gu=new Set([this]):Gu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function ys(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Aa(-1,1)).tag=2,Da(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bs=k.ReactCurrentOwner,ks=!1;function ws(e,t,n,r){t.child=null===e?Xa(t,null,n,r):Ya(t,e.child,n,r)}function _s(e,t,n,r,i){n=n.render;var a=t.ref;return Ca(t,i),r=Co(e,t,n,r,a,i),n=So(),null===e||ks?(ia&&n&&ea(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function xs(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Nc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Cs(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return Hs(e,t,i)}return t.flags|=1,(e=Ac(a,r)).ref=t.ref,e.return=t,t.child=e}function Cs(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(ks=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Hs(e,t,i);0!==(131072&e.flags)&&(ks=!0)}}return Ts(e,t,n,r,i)}function Ss(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Au,Nu),Nu|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Au,Nu),Nu|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ei(Au,Nu),Nu|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ei(Au,Nu),Nu|=r;return ws(e,t,i,n),t.child}function Es(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ts(e,t,n,r,i){var a=Ni(n)?Pi:Ii.current;return a=Oi(t,a),Ca(t,i),n=Co(e,t,n,r,a,i),r=So(),null===e||ks?(ia&&r&&ea(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function Is(e,t,n,r,i){if(Ni(n)){var a=!0;ji(t)}else a=!1;if(Ca(t,i),null===t.stateNode)qs(e,t),qa(t,n,r),Wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Sa(c):c=Oi(t,c=Ni(n)?Pi:Ii.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&Ha(t,o,r,c),Pa=!1;var h=t.memoizedState;o.state=h,La(t,r,o,i),u=t.memoizedState,s!==r||h!==u||Ri.current||Pa?("function"===typeof l&&(Va(t,n,l,r),u=t.memoizedState),(s=Pa||Ba(t,n,s,r,h,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Na(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ma(t.type,s),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=Sa(u):u=Oi(t,u=Ni(n)?Pi:Ii.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&Ha(t,o,r,u),Pa=!1,h=t.memoizedState,o.state=h,La(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||Ri.current||Pa?("function"===typeof d&&(Va(t,n,d,r),p=t.memoizedState),(c=Pa||Ba(t,n,c,r,h,p,u)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Rs(e,t,n,r,a,i)}function Rs(e,t,n,r,i,a){Es(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Li(t,n,!1),Hs(e,t,a);r=t.stateNode,bs.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ya(t,e.child,null,a),t.child=Ya(t,null,s,a)):ws(e,t,s,a),t.memoizedState=r.state,i&&Li(t,n,!0),t.child}function Ps(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),ro(e,t.containerInfo)}function Os(e,t,n,r,i){return da(),pa(i),t.flags|=256,ws(e,t,n,r),t.child}var Ns,As,Ds,Fs={dehydrated:null,treeContext:null,retryLane:0};function js(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ls(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ei(so,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=jc(u,i,0,null),e=Fc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=js(n),t.memoizedState=Fs,e):Ms(t,u));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Us(e,t,s,r=fs(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=jc({mode:"visible",children:r.children},i,0,null),(o=Fc(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ya(t,e.child,null,s),t.child.memoizedState=js(s),t.memoizedState=Fs,o);if(0===(1&t.mode))return Us(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Us(e,t,s,r=fs(o=Error(a(419)),r,void 0))}if(u=0!==(s&e.childLanes),ks||u){if(null!==(r=Ru)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ra(e,i),nc(r,e,i,-1))}return vc(),Us(e,t,s,r=fs(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Ki[$i++]=Yi,Ki[$i++]=Xi,Ki[$i++]=Qi,Yi=e.id,Xi=e.overflow,Qi=t),t=Ms(t,r.children),t.flags|=4096,t)}(e,t,u,i,r,o,n);if(s){s=i.fallback,u=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Ac(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Ac(r,s):(s=Fc(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?js(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Fs,i}return e=(s=e.child).sibling,i=Ac(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Ms(e,t){return(t=jc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Us(e,t,n,r){return null!==r&&pa(r),Ya(t,e.child,null,n),(e=Ms(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xa(e.return,t,n)}function zs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Bs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vs(e,n,t);else if(19===e.tag)Vs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zs(t,!0,n,null,a);break;case"together":zs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),ju|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Ac(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ac(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ws(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ks(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gs(t),null;case 1:case 17:return Ni(t.type)&&Ai(),Gs(t),null;case 3:return r=t.stateNode,io(),Si(Ri),Si(Ii),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),Gs(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)As(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Gs(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Fr.length;i++)Ur(Fr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Y(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var u in ge(n,o),i=null,o)if(o.hasOwnProperty(u)){var c=o[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Ur("scroll",r)}switch(n){case"input":G(r),Z(r,o,!0);break;case"textarea":G(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[hi]=t,e[di]=r,Ns(e,t),t.stateNode=e;e:{switch(u=be(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Fr.length;i++)Ur(Fr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":Y(e,r),i=Q(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=L({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Ur("scroll",e):null!=l&&b(e,o,l,u))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gs(t),null;case 6:if(e&&null!=t.stateNode)Ds(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Gs(t),null;case 13:if(Si(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gs(t),o=!1}else null!==aa&&(oc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Du&&(Du=3):vc())),null!==t.updateQueue&&(t.flags|=4),Gs(t),null);case 4:return io(),null===e&&Br(t.stateNode.containerInfo),Gs(t),null;case 10:return _a(t.type._context),Gs(t),null;case 19:if(Si(so),null===(o=t.memoizedState))return Gs(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)Ws(o,!1);else{if(0!==Du||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=uo(e))){for(t.flags|=128,Ws(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>Bu&&(t.flags|=128,r=!0,Ws(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ws(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ia)return Gs(t),null}else 2*Xe()-o.renderingStartTime>Bu&&1073741824!==n&&(t.flags|=128,r=!0,Ws(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=so.current,Ei(so,r?1&n|2:1&n),t):(Gs(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Nu)&&(Gs(t),6&t.subtreeFlags&&(t.flags|=8192)):Gs(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function $s(e,t){switch(ta(t),t.tag){case 1:return Ni(t.type)&&Ai(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Si(Ri),Si(Ii),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Si(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si(so),null;case 4:return io(),null;case 10:return _a(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Ns=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},As=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),o=[];break;case"select":i=L({},i,{value:void 0}),r=L({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ur("scroll",e),o||u===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Ds=function(e,t,n,r){n!==r&&(t.flags|=4)};var Qs=!1,Ys=!1,Xs="function"===typeof WeakSet?WeakSet:Set,Js=null;function Zs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Cc(e,t,r)}else n.current=null}function eu(e,t,n){try{n()}catch(r){Cc(e,t,r)}}var tu=!1;function nu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&eu(t,n,a)}i=i.next}while(i!==r)}}function ru(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function iu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function au(e){var t=e.alternate;null!==t&&(e.alternate=null,au(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ou(e){return 5===e.tag||3===e.tag||4===e.tag}function su(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ou(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function uu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(uu(e,t,n),e=e.sibling;null!==e;)uu(e,t,n),e=e.sibling}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}var lu=null,fu=!1;function hu(e,t,n){for(n=n.child;null!==n;)du(e,t,n),n=n.sibling}function du(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Ys||Zs(n,t);case 6:var r=lu,i=fu;lu=null,hu(e,t,n),fu=i,null!==(lu=r)&&(fu?(e=lu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):lu.removeChild(n.stateNode));break;case 18:null!==lu&&(fu?(e=lu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),Bt(e)):ui(lu,n.stateNode));break;case 4:r=lu,i=fu,lu=n.stateNode.containerInfo,fu=!0,hu(e,t,n),lu=r,fu=i;break;case 0:case 11:case 14:case 15:if(!Ys&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&eu(n,t,o),i=i.next}while(i!==r)}hu(e,t,n);break;case 1:if(!Ys&&(Zs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Cc(n,t,s)}hu(e,t,n);break;case 21:hu(e,t,n);break;case 22:1&n.mode?(Ys=(r=Ys)||null!==n.memoizedState,hu(e,t,n),Ys=r):hu(e,t,n);break;default:hu(e,t,n)}}function pu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xs),t.forEach((function(t){var r=Ic.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:lu=u.stateNode,fu=!1;break e;case 3:case 4:lu=u.stateNode.containerInfo,fu=!0;break e}u=u.return}if(null===lu)throw Error(a(160));du(o,s,i),lu=null,fu=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Cc(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)mu(t,e),t=t.sibling}function mu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vu(t,e),yu(e),4&r){try{nu(3,e,e.return),ru(3,e)}catch(m){Cc(e,e.return,m)}try{nu(5,e,e.return)}catch(m){Cc(e,e.return,m)}}break;case 1:vu(t,e),yu(e),512&r&&null!==n&&Zs(n,n.return);break;case 5:if(vu(t,e),yu(e),512&r&&null!==n&&Zs(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Cc(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===o.type&&null!=o.name&&X(i,o),be(u,s);var l=be(u,o);for(s=0;s<c.length;s+=2){var f=c[s],h=c[s+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):b(i,f,h,l)}switch(u){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Cc(e,e.return,m)}}break;case 6:if(vu(t,e),yu(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Cc(e,e.return,m)}}break;case 3:if(vu(t,e),yu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(m){Cc(e,e.return,m)}break;case 4:default:vu(t,e),yu(e);break;case 13:vu(t,e),yu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(zu=Xe())),4&r&&pu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Ys=(l=Ys)||f,vu(t,e),Ys=l):vu(t,e),yu(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Js=e,f=e.child;null!==f;){for(h=Js=f;null!==Js;){switch(p=(d=Js).child,d.tag){case 0:case 11:case 14:case 15:nu(4,d,d.return);break;case 1:Zs(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Cc(r,n,m)}}break;case 5:Zs(d,d.return);break;case 22:if(null!==d.memoizedState){wu(h);continue}}null!==p?(p.return=d,Js=p):wu(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=ve("display",s))}catch(m){Cc(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){Cc(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vu(t,e),yu(e),4&r&&pu(e);case 21:}}function yu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ou(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cu(e,su(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;uu(e,su(e),o);break;default:throw Error(a(161))}}catch(s){Cc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gu(e,t,n){Js=e,bu(e,t,n)}function bu(e,t,n){for(var r=0!==(1&e.mode);null!==Js;){var i=Js,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Qs;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Ys;s=Qs;var c=Ys;if(Qs=o,(Ys=u)&&!c)for(Js=i;null!==Js;)u=(o=Js).child,22===o.tag&&null!==o.memoizedState?_u(i):null!==u?(u.return=o,Js=u):_u(i);for(;null!==a;)Js=a,bu(a,t,n),a=a.sibling;Js=i,Qs=s,Ys=c}ku(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Js=a):ku(e)}}function ku(e){for(;null!==Js;){var t=Js;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ys||ru(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ys)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Ma(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ma(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(a(163))}Ys||512&t.flags&&iu(t)}catch(d){Cc(t,t.return,d)}}if(t===e){Js=null;break}if(null!==(n=t.sibling)){n.return=t.return,Js=n;break}Js=t.return}}function wu(e){for(;null!==Js;){var t=Js;if(t===e){Js=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Js=n;break}Js=t.return}}function _u(e){for(;null!==Js;){var t=Js;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ru(4,t)}catch(u){Cc(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Cc(t,i,u)}}var a=t.return;try{iu(t)}catch(u){Cc(t,a,u)}break;case 5:var o=t.return;try{iu(t)}catch(u){Cc(t,o,u)}}}catch(u){Cc(t,t.return,u)}if(t===e){Js=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Js=s;break}Js=t.return}}var xu,Cu=Math.ceil,Su=k.ReactCurrentDispatcher,Eu=k.ReactCurrentOwner,Tu=k.ReactCurrentBatchConfig,Iu=0,Ru=null,Pu=null,Ou=0,Nu=0,Au=Ci(0),Du=0,Fu=null,ju=0,Lu=0,Mu=0,Uu=null,Vu=null,zu=0,Bu=1/0,qu=null,Hu=!1,Wu=null,Gu=null,Ku=!1,$u=null,Qu=0,Yu=0,Xu=null,Ju=-1,Zu=0;function ec(){return 0!==(6&Iu)?Xe():-1!==Ju?Ju:Ju=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Iu)&&0!==Ou?Ou&-Ou:null!==va.transition?(0===Zu&&(Zu=vt()),Zu):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nc(e,t,n,r){if(50<Yu)throw Yu=0,Xu=null,Error(a(185));yt(e,n,r),0!==(2&Iu)&&e===Ru||(e===Ru&&(0===(2&Iu)&&(Lu|=n),4===Du&&sc(e,Ou)),rc(e,r),1===n&&0===Iu&&0===(1&t.mode)&&(Bu=Xe()+500,Ui&&Bi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=dt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ht(e,e===Ru?Ou:0);if(0===r)null!==n&&$e(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&$e(n),1===t)0===e.tag?function(e){Ui=!0,zi(e)}(uc.bind(null,e)):zi(uc.bind(null,e)),oi((function(){0===(6&Iu)&&Bi()})),n=null;else{switch(kt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Rc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Ju=-1,Zu=0,0!==(6&Iu))throw Error(a(327));var n=e.callbackNode;if(_c()&&e.callbackNode!==n)return null;var r=ht(e,e===Ru?Ou:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var i=Iu;Iu|=2;var o=pc();for(Ru===e&&Ou===t||(qu=null,Bu=Xe()+500,hc(e,t));;)try{gc();break}catch(u){dc(e,u)}wa(),Su.current=o,Iu=i,null!==Pu?t=0:(Ru=null,Ou=0,t=Du)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Fu,hc(e,0),sc(e,r),rc(e,Xe()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ac(e,o))),1===t))throw n=Fu,hc(e,0),sc(e,r),rc(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,Vu,qu);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=zu+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,Vu,qu),t);break}wc(e,Vu,qu);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Cu(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,Vu,qu),r);break}wc(e,Vu,qu);break;default:throw Error(a(329))}}}return rc(e,Xe()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=Uu;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=Vu,Vu=n,null!==t&&oc(t)),e}function oc(e){null===Vu?Vu=e:Vu.push.apply(Vu,e)}function sc(e,t){for(t&=~Mu,t&=~Lu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function uc(e){if(0!==(6&Iu))throw Error(a(327));_c();var t=ht(e,0);if(0===(1&t))return rc(e,Xe()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Fu,hc(e,0),sc(e,t),rc(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Vu,qu),rc(e,Xe()),null}function cc(e,t){var n=Iu;Iu|=1;try{return e(t)}finally{0===(Iu=n)&&(Bu=Xe()+500,Ui&&Bi())}}function lc(e){null!==$u&&0===$u.tag&&0===(6&Iu)&&_c();var t=Iu;Iu|=1;var n=Tu.transition,r=bt;try{if(Tu.transition=null,bt=1,e)return e()}finally{bt=r,Tu.transition=n,0===(6&(Iu=t))&&Bi()}}function fc(){Nu=Au.current,Si(Au)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Pu)for(n=Pu.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ai();break;case 3:io(),Si(Ri),Si(Ii),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Si(so);break;case 10:_a(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Ru=e,Pu=e=Ac(e.current,null),Ou=Nu=t,Du=0,Fu=null,Mu=Lu=ju=0,Vu=Uu=null,null!==Ea){for(t=0;t<Ea.length;t++)if(null!==(r=(n=Ea[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ea=null}return e}function dc(e,t){for(;;){var n=Pu;try{if(wa(),fo.current=os,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,bo=!1,ko=0,Eu.current=null,null===n||null===n.return){Du=1,Fu=t,Pu=null;break}e:{var o=e,s=n.return,u=n,c=t;if(t=Ou,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=u,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=ys(s);if(null!==p){p.flags&=-257,gs(p,s,u,0,t),1&p.mode&&ms(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){ms(o,l,t),vc();break e}c=Error(a(426))}else if(ia&&1&u.mode){var y=ys(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gs(y,s,u,0,t),pa(ls(c,u));break e}}o=c=ls(c,u),4!==Du&&(Du=2),null===Uu?Uu=[o]:Uu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,ja(o,ps(0,c,t));break e;case 1:u=c;var g=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Gu||!Gu.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,ja(o,vs(o,u,t));break e}}o=o.return}while(null!==o)}kc(n)}catch(k){t=k,Pu===n&&null!==n&&(Pu=n=n.return);continue}break}}function pc(){var e=Su.current;return Su.current=os,null===e?os:e}function vc(){0!==Du&&3!==Du&&2!==Du||(Du=4),null===Ru||0===(268435455&ju)&&0===(268435455&Lu)||sc(Ru,Ou)}function mc(e,t){var n=Iu;Iu|=2;var r=pc();for(Ru===e&&Ou===t||(qu=null,hc(e,t));;)try{yc();break}catch(i){dc(e,i)}if(wa(),Iu=n,Su.current=r,null!==Pu)throw Error(a(261));return Ru=null,Ou=0,Du}function yc(){for(;null!==Pu;)bc(Pu)}function gc(){for(;null!==Pu&&!Qe();)bc(Pu)}function bc(e){var t=xu(e.alternate,e,Nu);e.memoizedProps=e.pendingProps,null===t?kc(e):Pu=t,Eu.current=null}function kc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ks(n,t,Nu)))return void(Pu=n)}else{if(null!==(n=$s(n,t)))return n.flags&=32767,void(Pu=n);if(null===e)return Du=6,void(Pu=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pu=t);Pu=t=e}while(null!==t);0===Du&&(Du=5)}function wc(e,t,n){var r=bt,i=Tu.transition;try{Tu.transition=null,bt=1,function(e,t,n,r){do{_c()}while(null!==$u);if(0!==(6&Iu))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Ru&&(Pu=Ru=null,Ou=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ku||(Ku=!0,Rc(tt,(function(){return _c(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Tu.transition,Tu.transition=null;var s=bt;bt=1;var u=Iu;Iu|=4,Eu.current=null,function(e,t){if(ei=Ht,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var s=0,u=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(u=s+i),h!==o||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(u=s),d===o&&++f===r&&(c=s),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Js=t;null!==Js;)if(e=(t=Js).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Js=e;else for(;null!==Js;){t=Js;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,b=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var k=t.stateNode.containerInfo;1===k.nodeType?k.textContent="":9===k.nodeType&&k.documentElement&&k.removeChild(k.documentElement);break;default:throw Error(a(163))}}catch(w){Cc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Js=e;break}Js=t.return}v=tu,tu=!1}(e,n),mu(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,gu(n,e,i),Ye(),Iu=u,bt=s,Tu.transition=o}else e.current=n;if(Ku&&(Ku=!1,$u=e,Qu=i),o=e.pendingLanes,0===o&&(Gu=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hu)throw Hu=!1,e=Wu,Wu=null,e;0!==(1&Qu)&&0!==e.tag&&_c(),o=e.pendingLanes,0!==(1&o)?e===Xu?Yu++:(Yu=0,Xu=e):Yu=0,Bi()}(e,t,n,r)}finally{Tu.transition=i,bt=r}return null}function _c(){if(null!==$u){var e=kt(Qu),t=Tu.transition,n=bt;try{if(Tu.transition=null,bt=16>e?16:e,null===$u)var r=!1;else{if(e=$u,$u=null,Qu=0,0!==(6&Iu))throw Error(a(331));var i=Iu;for(Iu|=4,Js=e.current;null!==Js;){var o=Js,s=o.child;if(0!==(16&Js.flags)){var u=o.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Js=l;null!==Js;){var f=Js;switch(f.tag){case 0:case 11:case 15:nu(8,f,o)}var h=f.child;if(null!==h)h.return=f,Js=h;else for(;null!==Js;){var d=(f=Js).sibling,p=f.return;if(au(f),f===l){Js=null;break}if(null!==d){d.return=p,Js=d;break}Js=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Js=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Js=s;else e:for(;null!==Js;){if(0!==(2048&(o=Js).flags))switch(o.tag){case 0:case 11:case 15:nu(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Js=g;break e}Js=o.return}}var b=e.current;for(Js=b;null!==Js;){var k=(s=Js).child;if(0!==(2064&s.subtreeFlags)&&null!==k)k.return=s,Js=k;else e:for(s=b;null!==Js;){if(0!==(2048&(u=Js).flags))try{switch(u.tag){case 0:case 11:case 15:ru(9,u)}}catch(_){Cc(u,u.return,_)}if(u===s){Js=null;break e}var w=u.sibling;if(null!==w){w.return=u.return,Js=w;break e}Js=u.return}}if(Iu=i,Bi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{bt=n,Tu.transition=t}}return!1}function xc(e,t,n){e=Da(e,t=ps(0,t=ls(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function Cc(e,t,n){if(3===e.tag)xc(e,e,n);else for(;null!==t;){if(3===t.tag){xc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gu||!Gu.has(r))){t=Da(t,e=vs(t,e=ls(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Ru===e&&(Ou&n)===n&&(4===Du||3===Du&&(130023424&Ou)===Ou&&500>Xe()-zu?hc(e,0):Mu|=n),rc(e,t)}function Ec(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Ra(e,t))&&(yt(e,t,n),rc(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ec(e,n)}function Ic(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Ec(e,n)}function Rc(e,t){return Ke(e,t)}function Pc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oc(e,t,n,r){return new Pc(e,t,n,r)}function Nc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ac(e,t){var n=e.alternate;return null===n?((n=Oc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Nc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case x:return Fc(n.children,i,o,t);case C:s=8,i|=8;break;case S:return(e=Oc(12,n,t,2|i)).elementType=S,e.lanes=o,e;case R:return(e=Oc(13,n,t,i)).elementType=R,e.lanes=o,e;case P:return(e=Oc(19,n,t,i)).elementType=P,e.lanes=o,e;case A:return jc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:s=10;break e;case T:s=9;break e;case I:s=11;break e;case O:s=14;break e;case N:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Oc(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Fc(e,t,n,r){return(e=Oc(7,e,r,t)).lanes=n,e}function jc(e,t,n,r){return(e=Oc(22,e,r,t)).elementType=A,e.lanes=n,e.stateNode={isHidden:!1},e}function Lc(e,t,n){return(e=Oc(6,e,null,t)).lanes=n,e}function Mc(e,t,n){return(t=Oc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,i,a,o,s,u){return e=new Uc(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Oc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oa(a),e}function zc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Bc(e){if(!e)return Ti;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ni(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ni(n))return Fi(e,n,t)}return t}function qc(e,t,n,r,i,a,o,s,u){return(e=Vc(n,r,!0,e,0,a,0,s,u)).context=Bc(null),n=e.current,(a=Aa(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Da(n,a,i),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function Hc(e,t,n,r){var i=t.current,a=ec(),o=tc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Aa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Da(i,t,o))&&(nc(e,i,o,a),Fa(e,i,o)),o}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}xu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ri.current)ks=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ks=!1,function(e,t,n){switch(t.tag){case 3:Ps(t),da();break;case 5:ao(t);break;case 1:Ni(t.type)&&ji(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ls(e,t,n):(Ei(so,1&so.current),null!==(e=Hs(e,t,n))?e.sibling:null);Ei(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Bs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,Ss(e,t,n)}return Hs(e,t,n)}(e,t,n);ks=0!==(131072&e.flags)}else ks=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qs(e,t),e=t.pendingProps;var i=Oi(t,Ii.current);Ca(t,n),i=Co(null,t,r,e,i,n);var o=So();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ni(r)?(o=!0,ji(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Oa(t),i.updater=za,t.stateNode=i,i._reactInternals=t,Wa(t,r,e,n),t=Rs(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Nc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===O)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Ts(null,t,r,e,n);break e;case 1:t=Is(null,t,r,e,n);break e;case 11:t=_s(null,t,r,e,n);break e;case 14:t=xs(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ts(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Is(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Ps(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Na(e,t),La(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Os(e,t,r,n,i=ls(Error(a(423)),t));break e}if(r!==i){t=Os(e,t,r,n,i=ls(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Hs(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Es(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Ls(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ya(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_s(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ei(ya,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ri.current){t=Hs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Aa(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),xa(o.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),xa(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ca(t,n),r=r(i=Sa(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),xs(e,t,r,i=ma(r.type,i),n);case 15:return Cs(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),qs(e,t),t.tag=1,Ni(r)?(e=!0,ji(t)):e=!1,Ca(t,n),qa(t,r,i),Wa(t,r,i,n),Rs(null,t,r,!0,e,n);case 19:return Bs(e,t,n);case 22:return Ss(e,t,n)}throw Error(a(156,t.tag))};var $c="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Wc(o);s.call(e)}}Hc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Wc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),lc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Wc(u);s.call(e)}}var u=Vc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=u,e[pi]=u.current,Br(8===e.nodeType?e.parentNode:e),lc((function(){Hc(t,u,n,r)})),u}(n,t,e,i,r);return Wc(o)}Yc.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Hc(e,t,null,null)},Yc.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){Hc(null,e,null,null)})),t[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ct();e={blockedOn:null,target:e,priority:t};for(var n=0;n<At.length&&0!==t&&t<At[n].priority;n++);At.splice(n,0,e),0===n&&Lt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),rc(t,Xe()),0===(6&Iu)&&(Bu=Xe()+500,Bi()))}break;case 13:lc((function(){var t=Ra(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Kc(e,1)}},_t=function(e){if(13===e.tag){var t=Ra(e,134217728);if(null!==t)nc(t,e,134217728,ec());Kc(e,134217728)}},xt=function(e){if(13===e.tag){var t=tc(e),n=Ra(e,t);if(null!==n)nc(n,e,t,ec());Kc(e,t)}},Ct=function(){return bt},St=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},_e=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));K(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=cc,Re=lc;var tl={usingClientEntryPoint:!1,Events:[bi,ki,wi,Ee,Te,cc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(a(200));return zc(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(a(299));var n=!1,r="",i=$c;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=$c;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(a(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:function(e,t,n){"use strict";var r=n(4164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},77:function(e){"use strict";var t=Array.isArray,n=Object.keys,r=Object.prototype.hasOwnProperty,i="undefined"!==typeof Element;function a(e,o){if(e===o)return!0;if(e&&o&&"object"==typeof e&&"object"==typeof o){var s,u,c,l=t(e),f=t(o);if(l&&f){if((u=e.length)!=o.length)return!1;for(s=u;0!==s--;)if(!a(e[s],o[s]))return!1;return!0}if(l!=f)return!1;var h=e instanceof Date,d=o instanceof Date;if(h!=d)return!1;if(h&&d)return e.getTime()==o.getTime();var p=e instanceof RegExp,v=o instanceof RegExp;if(p!=v)return!1;if(p&&v)return e.toString()==o.toString();var m=n(e);if((u=m.length)!==n(o).length)return!1;for(s=u;0!==s--;)if(!r.call(o,m[s]))return!1;if(i&&e instanceof Element&&o instanceof Element)return e===o;for(s=u;0!==s--;)if(("_owner"!==(c=m[s])||!e.$$typeof)&&!a(e[c],o[c]))return!1;return!0}return e!==e&&o!==o}e.exports=function(e,t){try{return a(e,t)}catch(n){if(n.message&&n.message.match(/stack|recursion/i)||-2146828260===n.number)return console.warn("Warning: react-fast-compare does not handle circular references.",n.name,n.message),!1;throw n}}},1372:function(e,t){"use strict";var n=60103,r=60106,i=60107,a=60108,o=60114,s=60109,u=60110,c=60112,l=60113,f=60120,h=60115,d=60116,p=60121,v=60122,m=60117,y=60129,g=60131;if("function"===typeof Symbol&&Symbol.for){var b=Symbol.for;n=b("react.element"),r=b("react.portal"),i=b("react.fragment"),a=b("react.strict_mode"),o=b("react.profiler"),s=b("react.provider"),u=b("react.context"),c=b("react.forward_ref"),l=b("react.suspense"),f=b("react.suspense_list"),h=b("react.memo"),d=b("react.lazy"),p=b("react.block"),v=b("react.server.block"),m=b("react.fundamental"),y=b("react.debug_trace_mode"),g=b("react.legacy_hidden")}function k(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case o:case a:case l:case f:return e;default:switch(e=e&&e.$$typeof){case u:case c:case d:case h:case s:return e;default:return t}}case r:return t}}}t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===o||e===y||e===a||e===l||e===f||e===g||"object"===typeof e&&null!==e&&(e.$$typeof===d||e.$$typeof===h||e.$$typeof===s||e.$$typeof===u||e.$$typeof===c||e.$$typeof===m||e.$$typeof===p||e[0]===v)},t.typeOf=k},7441:function(e,t,n){"use strict";e.exports=n(1372)},1707:function(e,t,n){var r=n(7061).default;!function(e,t){"use strict";function n(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(i,a){var o=e.apply(t,r);function s(e){n(o,i,a,s,u,"next",e)}function u(e){n(o,i,a,s,u,"throw",e)}s(void 0)}))}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function o(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function s(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;var u={init:"init"},c=function(e){var t=e.value;return void 0===t?"":t},l=function(){return t.createElement(t.Fragment,null,"\xa0")},f={Cell:c,width:150,minWidth:0,maxWidth:Number.MAX_SAFE_INTEGER};function h(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){var n=t.style,r=t.className;return e=a({},e,{},o(t,["style","className"])),n&&(e.style=e.style?a({},e.style||{},{},n||{}):n),r&&(e.className=e.className?e.className+" "+r:r),""===e.className&&delete e.className,e}),{})}var d=function(e,t){return void 0===t&&(t={}),function(n){return void 0===n&&(n={}),[].concat(e,[n]).reduce((function(e,r){return function e(t,n,r){return"function"==typeof n?e({},n(t,r)):Array.isArray(n)?h.apply(void 0,[t].concat(n)):h(t,n)}(e,r,a({},t,{userProps:n}))}),{})}},p=function(e,t,n,r){return void 0===n&&(n={}),e.reduce((function(e,t){return t(e,n)}),t)},v=function(e,t,n){return void 0===n&&(n={}),e.forEach((function(e){e(t,n)}))};function m(e,t,n,r){e.findIndex((function(e){return e.pluginName===n})),t.forEach((function(t){e.findIndex((function(e){return e.pluginName===t}))}))}function y(e,t){return"function"==typeof e?e(t):e}function g(e){var n=t.useRef();return n.current=e,t.useCallback((function(){return n.current}),[])}var b="undefined"!=typeof document?t.useLayoutEffect:t.useEffect;function k(e,n){var r=t.useRef(!1);b((function(){r.current&&e(),r.current=!0}),n)}function w(e,t,n){return void 0===n&&(n={}),function(r,i){void 0===i&&(i={});var o="string"==typeof r?t[r]:r;if(void 0===o)throw console.info(t),new Error("Renderer Error \u261d\ufe0f");return _(o,a({},e,{column:t},n,{},i))}}function _(e,n){return function(e){return"function"==typeof e&&(t=Object.getPrototypeOf(e)).prototype&&t.prototype.isReactComponent;var t}(r=e)||"function"==typeof r||function(e){return"object"==typeof e&&"symbol"==typeof e.$$typeof&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}(r)?t.createElement(e,n):e;var r}function x(e,t,n){return void 0===n&&(n=0),e.map((function(e){return S(e=a({},e,{parent:t,depth:n})),e.columns&&(e.columns=x(e.columns,e,n+1)),e}))}function C(e){return O(e,"columns")}function S(e){var t=e.id,n=e.accessor,r=e.Header;if("string"==typeof n){t=t||n;var i=n.split(".");n=function(e){return function(e,t,n){if(!t)return e;var r,i="function"==typeof t?t:JSON.stringify(t),a=I.get(i)||function(){var e=function(e){return function e(t,n){if(void 0===n&&(n=[]),Array.isArray(t))for(var r=0;r<t.length;r+=1)e(t[r],n);else n.push(t);return n}(e).map((function(e){return String(e).replace(".","_")})).join(".").replace(L,".").replace(M,"").split(".")}(t);return I.set(i,e),e}();try{r=a.reduce((function(e,t){return e[t]}),e)}catch(e){}return void 0!==r?r:n}(e,i)}}if(!t&&"string"==typeof r&&r&&(t=r),!t&&e.columns)throw console.error(e),new Error('A column ID (or unique "Header" value) is required!');if(!t)throw console.error(e),new Error("A column ID (or string accessor) is required!");return Object.assign(e,{id:t,accessor:n}),e}function E(e,t){if(!t)throw new Error;return Object.assign(e,a({Header:l,Footer:l},f,{},t,{},e)),Object.assign(e,{originalWidth:e.width}),e}function T(e,t,n){void 0===n&&(n=function(){return{}});for(var r=[],i=e,o=0,s=function(){return o++},u=function(){var e={headers:[]},o=[],u=i.some((function(e){return e.parent}));i.forEach((function(r){var i,c=[].concat(o).reverse()[0];u&&(i=r.parent?a({},r.parent,{originalId:r.parent.id,id:r.parent.id+"_"+s(),headers:[r]},n(r)):E(a({originalId:r.id+"_placeholder",id:r.id+"_placeholder_"+s(),placeholderOf:r,headers:[r]},n(r)),t),c&&c.originalId===i.originalId?c.headers.push(r):o.push(i)),e.headers.push(r)})),r.push(e),i=o};i.length;)u();return r.reverse()}var I=new Map;function R(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0;r<t.length;r+=1)if(void 0!==t[r])return t[r]}function P(e){if("function"==typeof e)return e}function O(e,t){var n=[];return function e(r){r.forEach((function(r){r[t]?e(r[t]):n.push(r)}))}(e),n}function N(e,t){var n=t.manualExpandedKey,r=t.expanded,i=t.expandSubRows,a=void 0===i||i,o=[];return e.forEach((function(e){return function e(t,i){void 0===i&&(i=!0),t.isExpanded=t.original&&t.original[n]||r[t.id],t.canExpand=t.subRows&&!!t.subRows.length,i&&o.push(t),t.subRows&&t.subRows.length&&t.isExpanded&&t.subRows.forEach((function(t){return e(t,a)}))}(e)})),o}function A(e,t,n){return P(e)||t[e]||n[e]||n.text}function D(e,t,n){return e?e(t,n):void 0===t}function F(){throw new Error("React-Table: You have not called prepareRow(row) one or more rows you are attempting to render.")}var j=null,L=/\[/g,M=/\]/g,U=function(e){return a({role:"table"},e)},V=function(e){return a({role:"rowgroup"},e)},z=function(e,t){var n=t.column;return a({key:"header_"+n.id,colSpan:n.totalVisibleHeaderCount,role:"columnheader"},e)},B=function(e,t){var n=t.column;return a({key:"footer_"+n.id,colSpan:n.totalVisibleHeaderCount},e)},q=function(e,t){return a({key:"headerGroup_"+t.index,role:"row"},e)},H=function(e,t){return a({key:"footerGroup_"+t.index},e)},W=function(e,t){return a({key:"row_"+t.row.id,role:"row"},e)},G=function(e,t){var n=t.cell;return a({key:"cell_"+n.row.id+"_"+n.column.id,role:"cell"},e)};function K(){return{useOptions:[],stateReducers:[],useControlledState:[],columns:[],columnsDeps:[],allColumns:[],allColumnsDeps:[],accessValue:[],materializedColumns:[],materializedColumnsDeps:[],useInstanceAfterData:[],visibleColumns:[],visibleColumnsDeps:[],headerGroups:[],headerGroupsDeps:[],useInstanceBeforeDimensions:[],useInstance:[],prepareRow:[],getTableProps:[U],getTableBodyProps:[V],getHeaderGroupProps:[q],getFooterGroupProps:[H],getHeaderProps:[z],getFooterProps:[B],getRowProps:[W],getCellProps:[G],useFinalInstance:[]}}u.resetHiddenColumns="resetHiddenColumns",u.toggleHideColumn="toggleHideColumn",u.setHiddenColumns="setHiddenColumns",u.toggleHideAllColumns="toggleHideAllColumns";var $=function(e){e.getToggleHiddenProps=[Q],e.getToggleHideAllColumnsProps=[Y],e.stateReducers.push(X),e.useInstanceBeforeDimensions.push(J),e.headerGroupsDeps.push((function(e,t){var n=t.instance;return[].concat(e,[n.state.hiddenColumns])})),e.useInstance.push(Z)};$.pluginName="useColumnVisibility";var Q=function(e,t){var n=t.column;return[e,{onChange:function(e){n.toggleHidden(!e.target.checked)},style:{cursor:"pointer"},checked:n.isVisible,title:"Toggle Column Visible"}]},Y=function(e,t){var n=t.instance;return[e,{onChange:function(e){n.toggleHideAllColumns(!e.target.checked)},style:{cursor:"pointer"},checked:!n.allColumnsHidden&&!n.state.hiddenColumns.length,title:"Toggle All Columns Hidden",indeterminate:!n.allColumnsHidden&&n.state.hiddenColumns.length}]};function X(e,t,n,r){if(t.type===u.init)return a({hiddenColumns:[]},e);if(t.type===u.resetHiddenColumns)return a({},e,{hiddenColumns:r.initialState.hiddenColumns||[]});if(t.type===u.toggleHideColumn){var i=(void 0!==t.value?t.value:!e.hiddenColumns.includes(t.columnId))?[].concat(e.hiddenColumns,[t.columnId]):e.hiddenColumns.filter((function(e){return e!==t.columnId}));return a({},e,{hiddenColumns:i})}return t.type===u.setHiddenColumns?a({},e,{hiddenColumns:y(t.value,e.hiddenColumns)}):t.type===u.toggleHideAllColumns?a({},e,{hiddenColumns:(void 0!==t.value?t.value:!e.hiddenColumns.length)?r.allColumns.map((function(e){return e.id})):[]}):void 0}function J(e){var n=e.headers,r=e.state.hiddenColumns;t.useRef(!1).current;var i=0;n.forEach((function(e){return i+=function e(t,n){t.isVisible=n&&!r.includes(t.id);var i=0;return t.headers&&t.headers.length?t.headers.forEach((function(n){return i+=e(n,t.isVisible)})):i=t.isVisible?1:0,t.totalVisibleHeaderCount=i,i}(e,!0)}))}function Z(e){var n=e.columns,r=e.flatHeaders,i=e.dispatch,a=e.allColumns,o=e.getHooks,s=e.state.hiddenColumns,c=e.autoResetHiddenColumns,l=void 0===c||c,f=g(e),h=a.length===s.length,p=t.useCallback((function(e,t){return i({type:u.toggleHideColumn,columnId:e,value:t})}),[i]),v=t.useCallback((function(e){return i({type:u.setHiddenColumns,value:e})}),[i]),m=t.useCallback((function(e){return i({type:u.toggleHideAllColumns,value:e})}),[i]),y=d(o().getToggleHideAllColumnsProps,{instance:f()});r.forEach((function(e){e.toggleHidden=function(t){i({type:u.toggleHideColumn,columnId:e.id,value:t})},e.getToggleHiddenProps=d(o().getToggleHiddenProps,{instance:f(),column:e})}));var b=g(l);k((function(){b()&&i({type:u.resetHiddenColumns})}),[i,n]),Object.assign(e,{allColumnsHidden:h,toggleHideColumn:p,setHiddenColumns:v,toggleHideAllColumns:m,getToggleHideAllColumnsProps:y})}var ee={},te={},ne=function(e,t,n){return e},re=function(e,t){return e.subRows||[]},ie=function(e,t,n){return""+(n?[n.id,t].join("."):t)},ae=function(e){return e};function oe(e){var t=e.initialState,n=void 0===t?ee:t,r=e.defaultColumn,i=void 0===r?te:r,s=e.getSubRows,u=void 0===s?re:s,c=e.getRowId,l=void 0===c?ie:c,f=e.stateReducer,h=void 0===f?ne:f,d=e.useControlledState,p=void 0===d?ae:d;return a({},o(e,["initialState","defaultColumn","getSubRows","getRowId","stateReducer","useControlledState"]),{initialState:n,defaultColumn:i,getSubRows:u,getRowId:l,stateReducer:h,useControlledState:p})}function se(e,t){void 0===t&&(t=0);var n=0,r=0,i=0,a=0;return e.forEach((function(e){var o=e.headers;if(e.totalLeft=t,o&&o.length){var s=se(o,t),u=s[0],c=s[1],l=s[2],f=s[3];e.totalMinWidth=u,e.totalWidth=c,e.totalMaxWidth=l,e.totalFlexWidth=f}else e.totalMinWidth=e.minWidth,e.totalWidth=Math.min(Math.max(e.minWidth,e.width),e.maxWidth),e.totalMaxWidth=e.maxWidth,e.totalFlexWidth=e.canResize?e.totalWidth:0;e.isVisible&&(t+=e.totalWidth,n+=e.totalMinWidth,r+=e.totalWidth,i+=e.totalMaxWidth,a+=e.totalFlexWidth)})),[n,r,i,a]}function ue(e){var t=e.data,n=e.rows,r=e.flatRows,i=e.rowsById,a=e.column,o=e.getRowId,s=e.getSubRows,u=e.accessValueHooks,c=e.getInstance;t.forEach((function(e,l){return function e(n,l,f,h,d){void 0===f&&(f=0);var v=n,m=o(n,l,h),y=i[m];if(y)y.subRows&&y.originalSubRows.forEach((function(t,n){return e(t,n,f+1,y)}));else if((y={id:m,original:v,index:l,depth:f,cells:[{}]}).cells.map=F,y.cells.filter=F,y.cells.forEach=F,y.cells[0].getCellProps=F,y.values={},d.push(y),r.push(y),i[m]=y,y.originalSubRows=s(n,l),y.originalSubRows){var g=[];y.originalSubRows.forEach((function(t,n){return e(t,n,f+1,y,g)})),y.subRows=g}a.accessor&&(y.values[a.id]=a.accessor(n,l,y,d,t)),y.values[a.id]=p(u,y.values[a.id],{row:y,column:a,instance:c()})}(e,l,0,void 0,n)}))}u.resetExpanded="resetExpanded",u.toggleRowExpanded="toggleRowExpanded",u.toggleAllRowsExpanded="toggleAllRowsExpanded";var ce=function(e){e.getToggleAllRowsExpandedProps=[le],e.getToggleRowExpandedProps=[fe],e.stateReducers.push(he),e.useInstance.push(de),e.prepareRow.push(pe)};ce.pluginName="useExpanded";var le=function(e,t){var n=t.instance;return[e,{onClick:function(e){n.toggleAllRowsExpanded()},style:{cursor:"pointer"},title:"Toggle All Rows Expanded"}]},fe=function(e,t){var n=t.row;return[e,{onClick:function(){n.toggleRowExpanded()},style:{cursor:"pointer"},title:"Toggle Row Expanded"}]};function he(e,t,n,r){if(t.type===u.init)return a({expanded:{}},e);if(t.type===u.resetExpanded)return a({},e,{expanded:r.initialState.expanded||{}});if(t.type===u.toggleAllRowsExpanded){var i=t.value,c=r.rowsById,l=Object.keys(c).length===Object.keys(e.expanded).length;if(void 0!==i?i:!l){var f={};return Object.keys(c).forEach((function(e){f[e]=!0})),a({},e,{expanded:f})}return a({},e,{expanded:{}})}if(t.type===u.toggleRowExpanded){var h,d=t.id,p=t.value,v=e.expanded[d],m=void 0!==p?p:!v;if(!v&&m)return a({},e,{expanded:a({},e.expanded,(h={},h[d]=!0,h))});if(v&&!m){var y=e.expanded;return y[d],a({},e,{expanded:o(y,[d].map(s))})}return e}}function de(e){var n=e.data,r=e.rows,i=e.rowsById,a=e.manualExpandedKey,o=void 0===a?"expanded":a,s=e.paginateExpandedRows,c=void 0===s||s,l=e.expandSubRows,f=void 0===l||l,h=e.autoResetExpanded,p=void 0===h||h,v=e.getHooks,y=e.plugins,b=e.state.expanded,w=e.dispatch;m(y,["useSortBy","useGroupBy","usePivotColumns","useGlobalFilter"],"useExpanded");var _=g(p),x=Boolean(Object.keys(i).length&&Object.keys(b).length);x&&Object.keys(i).some((function(e){return!b[e]}))&&(x=!1),k((function(){_()&&w({type:u.resetExpanded})}),[w,n]);var C=t.useCallback((function(e,t){w({type:u.toggleRowExpanded,id:e,value:t})}),[w]),S=t.useCallback((function(e){return w({type:u.toggleAllRowsExpanded,value:e})}),[w]),E=t.useMemo((function(){return c?N(r,{manualExpandedKey:o,expanded:b,expandSubRows:f}):r}),[c,r,o,b,f]),T=t.useMemo((function(){return function(e){var t=0;return Object.keys(e).forEach((function(e){var n=e.split(".");t=Math.max(t,n.length)})),t}(b)}),[b]),I=g(e),R=d(v().getToggleAllRowsExpandedProps,{instance:I()});Object.assign(e,{preExpandedRows:r,expandedRows:E,rows:E,expandedDepth:T,isAllRowsExpanded:x,toggleRowExpanded:C,toggleAllRowsExpanded:S,getToggleAllRowsExpandedProps:R})}function pe(e,t){var n=t.instance.getHooks,r=t.instance;e.toggleRowExpanded=function(t){return r.toggleRowExpanded(e.id,t)},e.getToggleRowExpandedProps=d(n().getToggleRowExpandedProps,{instance:r,row:e})}var ve=function(e,t,n){return e.filter((function(e){return t.some((function(t){var r=e.values[t];return String(r).toLowerCase().includes(String(n).toLowerCase())}))}))};ve.autoRemove=function(e){return!e};var me=function(e,t,n){return e.filter((function(e){return t.some((function(t){var r=e.values[t];return void 0===r||String(r).toLowerCase()===String(n).toLowerCase()}))}))};me.autoRemove=function(e){return!e};var ye=function(e,t,n){return e.filter((function(e){return t.some((function(t){var r=e.values[t];return void 0===r||String(r)===String(n)}))}))};ye.autoRemove=function(e){return!e};var ge=function(e,t,n){return e.filter((function(e){return t.some((function(t){return e.values[t].includes(n)}))}))};ge.autoRemove=function(e){return!e||!e.length};var be=function(e,t,n){return e.filter((function(e){return t.some((function(t){var r=e.values[t];return r&&r.length&&n.every((function(e){return r.includes(e)}))}))}))};be.autoRemove=function(e){return!e||!e.length};var ke=function(e,t,n){return e.filter((function(e){return t.some((function(t){var r=e.values[t];return r&&r.length&&n.some((function(e){return r.includes(e)}))}))}))};ke.autoRemove=function(e){return!e||!e.length};var we=function(e,t,n){return e.filter((function(e){return t.some((function(t){var r=e.values[t];return n.includes(r)}))}))};we.autoRemove=function(e){return!e||!e.length};var _e=function(e,t,n){return e.filter((function(e){return t.some((function(t){return e.values[t]===n}))}))};_e.autoRemove=function(e){return void 0===e};var xe=function(e,t,n){return e.filter((function(e){return t.some((function(t){return e.values[t]==n}))}))};xe.autoRemove=function(e){return null==e};var Ce=function(e,t,n){var r=n||[],i=r[0],a=r[1];if((i="number"==typeof i?i:-1/0)>(a="number"==typeof a?a:1/0)){var o=i;i=a,a=o}return e.filter((function(e){return t.some((function(t){var n=e.values[t];return n>=i&&n<=a}))}))};Ce.autoRemove=function(e){return!e||"number"!=typeof e[0]&&"number"!=typeof e[1]};var Se=Object.freeze({__proto__:null,text:ve,exactText:me,exactTextCase:ye,includes:ge,includesAll:be,includesSome:ke,includesValue:we,exact:_e,equals:xe,between:Ce});u.resetFilters="resetFilters",u.setFilter="setFilter",u.setAllFilters="setAllFilters";var Ee=function(e){e.stateReducers.push(Te),e.useInstance.push(Ie)};function Te(e,t,n,r){if(t.type===u.init)return a({filters:[]},e);if(t.type===u.resetFilters)return a({},e,{filters:r.initialState.filters||[]});if(t.type===u.setFilter){var i=t.columnId,o=t.filterValue,s=r.allColumns,c=r.filterTypes,l=s.find((function(e){return e.id===i}));if(!l)throw new Error("React-Table: Could not find a column with id: "+i);var f=A(l.filter,c||{},Se),h=e.filters.find((function(e){return e.id===i})),d=y(o,h&&h.value);return D(f.autoRemove,d,l)?a({},e,{filters:e.filters.filter((function(e){return e.id!==i}))}):a({},e,h?{filters:e.filters.map((function(e){return e.id===i?{id:i,value:d}:e}))}:{filters:[].concat(e.filters,[{id:i,value:d}])})}if(t.type===u.setAllFilters){var p=t.filters,v=r.allColumns,m=r.filterTypes;return a({},e,{filters:y(p,e.filters).filter((function(e){var t=v.find((function(t){return t.id===e.id}));return!D(A(t.filter,m||{},Se).autoRemove,e.value,t)}))})}}function Ie(e){var n=e.data,r=e.rows,i=e.flatRows,a=e.rowsById,o=e.allColumns,s=e.filterTypes,c=e.manualFilters,l=e.defaultCanFilter,f=void 0!==l&&l,h=e.disableFilters,d=e.state.filters,p=e.dispatch,v=e.autoResetFilters,m=void 0===v||v,y=t.useCallback((function(e,t){p({type:u.setFilter,columnId:e,filterValue:t})}),[p]),b=t.useCallback((function(e){p({type:u.setAllFilters,filters:e})}),[p]);o.forEach((function(e){var t=e.id,n=e.accessor,r=e.defaultCanFilter,i=e.disableFilters;e.canFilter=n?R(!0!==i&&void 0,!0!==h&&void 0,!0):R(r,f,!1),e.setFilter=function(t){return y(e.id,t)};var a=d.find((function(e){return e.id===t}));e.filterValue=a&&a.value}));var w=t.useMemo((function(){if(c||!d.length)return[r,i,a];var e=[],t={};return[function n(r,i){void 0===i&&(i=0);var a=r;return(a=d.reduce((function(e,t){var n=t.id,r=t.value,a=o.find((function(e){return e.id===n}));if(!a)return e;0===i&&(a.preFilteredRows=e);var u=A(a.filter,s||{},Se);return u?(a.filteredRows=u(e,[n],r),a.filteredRows):(console.warn("Could not find a valid 'column.filter' for column with the ID: "+a.id+"."),e)}),r)).forEach((function(r){e.push(r),t[r.id]=r,r.subRows&&(r.subRows=r.subRows&&r.subRows.length>0?n(r.subRows,i+1):r.subRows)})),a}(r),e,t]}),[c,d,r,i,a,o,s]),_=w[0],x=w[1],C=w[2];t.useMemo((function(){o.filter((function(e){return!d.find((function(t){return t.id===e.id}))})).forEach((function(e){e.preFilteredRows=_,e.filteredRows=_}))}),[_,d,o]);var S=g(m);k((function(){S()&&p({type:u.resetFilters})}),[p,c?null:n]),Object.assign(e,{preFilteredRows:r,preFilteredFlatRows:i,preFilteredRowsById:a,filteredRows:_,filteredFlatRows:x,filteredRowsById:C,rows:_,flatRows:x,rowsById:C,setFilter:y,setAllFilters:b})}Ee.pluginName="useFilters",u.resetGlobalFilter="resetGlobalFilter",u.setGlobalFilter="setGlobalFilter";var Re=function(e){e.stateReducers.push(Pe),e.useInstance.push(Oe)};function Pe(e,t,n,r){if(t.type===u.resetGlobalFilter)return a({},e,{globalFilter:r.initialState.globalFilter||void 0});if(t.type===u.setGlobalFilter){var i=t.filterValue,s=r.userFilterTypes,c=A(r.globalFilter,s||{},Se),l=y(i,e.globalFilter);return D(c.autoRemove,l)?(e.globalFilter,o(e,["globalFilter"])):a({},e,{globalFilter:l})}}function Oe(e){var n=e.data,r=e.rows,i=e.flatRows,a=e.rowsById,o=e.allColumns,s=e.filterTypes,c=e.globalFilter,l=e.manualGlobalFilter,f=e.state.globalFilter,h=e.dispatch,d=e.autoResetGlobalFilter,p=void 0===d||d,v=e.disableGlobalFilter,m=t.useCallback((function(e){h({type:u.setGlobalFilter,filterValue:e})}),[h]),y=t.useMemo((function(){if(l||void 0===f)return[r,i,a];var e=[],t={},n=A(c,s||{},Se);if(!n)return console.warn("Could not find a valid 'globalFilter' option."),r;o.forEach((function(e){var t=e.disableGlobalFilter;e.canFilter=R(!0!==t&&void 0,!0!==v&&void 0,!0)}));var u=o.filter((function(e){return!0===e.canFilter}));return[function r(i){return(i=n(i,u.map((function(e){return e.id})),f)).forEach((function(n){e.push(n),t[n.id]=n,n.subRows=n.subRows&&n.subRows.length?r(n.subRows):n.subRows})),i}(r),e,t]}),[l,f,c,s,o,r,i,a,v]),b=y[0],w=y[1],_=y[2],x=g(p);k((function(){x()&&h({type:u.resetGlobalFilter})}),[h,l?null:n]),Object.assign(e,{preGlobalFilteredRows:r,preGlobalFilteredFlatRows:i,preGlobalFilteredRowsById:a,globalFilteredRows:b,globalFilteredFlatRows:w,globalFilteredRowsById:_,rows:b,flatRows:w,rowsById:_,setGlobalFilter:m,disableGlobalFilter:v})}function Ne(e,t){return t.reduce((function(e,t){return e+("number"==typeof t?t:0)}),0)}Re.pluginName="useGlobalFilter";var Ae=Object.freeze({__proto__:null,sum:Ne,min:function(e){var t=e[0]||0;return e.forEach((function(e){"number"==typeof e&&(t=Math.min(t,e))})),t},max:function(e){var t=e[0]||0;return e.forEach((function(e){"number"==typeof e&&(t=Math.max(t,e))})),t},minMax:function(e){var t=e[0]||0,n=e[0]||0;return e.forEach((function(e){"number"==typeof e&&(t=Math.min(t,e),n=Math.max(n,e))})),t+".."+n},average:function(e){return Ne(0,e)/e.length},median:function(e){if(!e.length)return null;var t=Math.floor(e.length/2),n=[].concat(e).sort((function(e,t){return e-t}));return e.length%2!=0?n[t]:(n[t-1]+n[t])/2},unique:function(e){return Array.from(new Set(e).values())},uniqueCount:function(e){return new Set(e).size},count:function(e){return e.length}}),De=[],Fe={};u.resetGroupBy="resetGroupBy",u.setGroupBy="setGroupBy",u.toggleGroupBy="toggleGroupBy";var je=function(e){e.getGroupByToggleProps=[Le],e.stateReducers.push(Me),e.visibleColumnsDeps.push((function(e,t){var n=t.instance;return[].concat(e,[n.state.groupBy])})),e.visibleColumns.push(Ue),e.useInstance.push(ze),e.prepareRow.push(Be)};je.pluginName="useGroupBy";var Le=function(e,t){var n=t.header;return[e,{onClick:n.canGroupBy?function(e){e.persist(),n.toggleGroupBy()}:void 0,style:{cursor:n.canGroupBy?"pointer":void 0},title:"Toggle GroupBy"}]};function Me(e,t,n,r){if(t.type===u.init)return a({groupBy:[]},e);if(t.type===u.resetGroupBy)return a({},e,{groupBy:r.initialState.groupBy||[]});if(t.type===u.setGroupBy)return a({},e,{groupBy:t.value});if(t.type===u.toggleGroupBy){var i=t.columnId,o=t.value,s=void 0!==o?o:!e.groupBy.includes(i);return a({},e,s?{groupBy:[].concat(e.groupBy,[i])}:{groupBy:e.groupBy.filter((function(e){return e!==i}))})}}function Ue(e,t){var n=t.instance.state.groupBy,r=n.map((function(t){return e.find((function(e){return e.id===t}))})).filter(Boolean),i=e.filter((function(e){return!n.includes(e.id)}));return(e=[].concat(r,i)).forEach((function(e){e.isGrouped=n.includes(e.id),e.groupedIndex=n.indexOf(e.id)})),e}var Ve={};function ze(e){var n=e.data,r=e.rows,i=e.flatRows,o=e.rowsById,s=e.allColumns,c=e.flatHeaders,l=e.groupByFn,f=void 0===l?qe:l,h=e.manualGroupBy,p=e.aggregations,v=void 0===p?Ve:p,y=e.plugins,b=e.state.groupBy,w=e.dispatch,_=e.autoResetGroupBy,x=void 0===_||_,C=e.disableGroupBy,S=e.defaultCanGroupBy,E=e.getHooks;m(y,["useColumnOrder","useFilters"],"useGroupBy");var T=g(e);s.forEach((function(t){var n=t.accessor,r=t.defaultGroupBy,i=t.disableGroupBy;t.canGroupBy=n?R(t.canGroupBy,!0!==i&&void 0,!0!==C&&void 0,!0):R(t.canGroupBy,r,S,!1),t.canGroupBy&&(t.toggleGroupBy=function(){return e.toggleGroupBy(t.id)}),t.Aggregated=t.Aggregated||t.Cell}));var I=t.useCallback((function(e,t){w({type:u.toggleGroupBy,columnId:e,value:t})}),[w]),P=t.useCallback((function(e){w({type:u.setGroupBy,value:e})}),[w]);c.forEach((function(e){e.getGroupByToggleProps=d(E().getGroupByToggleProps,{instance:T(),header:e})}));var N=t.useMemo((function(){if(h||!b.length)return[r,i,o,De,Fe,i,o];var e=b.filter((function(e){return s.find((function(t){return t.id===e}))})),t=[],n={},u=[],c={},l=[],d={},p=function r(i,o,h){if(void 0===o&&(o=0),o===e.length)return i.map((function(e){return a({},e,{depth:o})}));var p=e[o],m=f(i,p);return Object.entries(m).map((function(i,a){var f=i[0],m=i[1],y=p+":"+f,g=r(m,o+1,y=h?h+">"+y:y),b=o?O(m,"leafRows"):m,k=function(t,n,r){var i={};return s.forEach((function(a){if(e.includes(a.id))i[a.id]=n[0]?n[0].values[a.id]:null;else{var o="function"==typeof a.aggregate?a.aggregate:v[a.aggregate]||Ae[a.aggregate];if(o){var s=n.map((function(e){return e.values[a.id]})),u=t.map((function(e){var t=e.values[a.id];if(!r&&a.aggregateValue){var n="function"==typeof a.aggregateValue?a.aggregateValue:v[a.aggregateValue]||Ae[a.aggregateValue];if(!n)throw console.info({column:a}),new Error("React Table: Invalid column.aggregateValue option for column listed above");t=n(t,e,a)}return t}));i[a.id]=o(u,s)}else{if(a.aggregate)throw console.info({column:a}),new Error("React Table: Invalid column.aggregate option for column listed above");i[a.id]=null}}})),i}(b,m,o),w={id:y,isGrouped:!0,groupByID:p,groupByVal:f,values:k,subRows:g,leafRows:b,depth:o,index:a};return g.forEach((function(e){t.push(e),n[e.id]=e,e.isGrouped?(u.push(e),c[e.id]=e):(l.push(e),d[e.id]=e)})),w}))}(r);return p.forEach((function(e){t.push(e),n[e.id]=e,e.isGrouped?(u.push(e),c[e.id]=e):(l.push(e),d[e.id]=e)})),[p,t,n,u,c,l,d]}),[h,b,r,i,o,s,v,f]),A=N[0],D=N[1],F=N[2],j=N[3],L=N[4],M=N[5],U=N[6],V=g(x);k((function(){V()&&w({type:u.resetGroupBy})}),[w,h?null:n]),Object.assign(e,{preGroupedRows:r,preGroupedFlatRow:i,preGroupedRowsById:o,groupedRows:A,groupedFlatRows:D,groupedRowsById:F,onlyGroupedFlatRows:j,onlyGroupedRowsById:L,nonGroupedFlatRows:M,nonGroupedRowsById:U,rows:A,flatRows:D,rowsById:F,toggleGroupBy:I,setGroupBy:P})}function Be(e){e.allCells.forEach((function(t){var n;t.isGrouped=t.column.isGrouped&&t.column.id===e.groupByID,t.isPlaceholder=!t.isGrouped&&t.column.isGrouped,t.isAggregated=!t.isGrouped&&!t.isPlaceholder&&(null==(n=e.subRows)?void 0:n.length)}))}function qe(e,t){return e.reduce((function(e,n,r){var i=""+n.values[t];return e[i]=Array.isArray(e[i])?e[i]:[],e[i].push(n),e}),{})}var He=/([0-9]+)/gm;function We(e,t){return e===t?0:e>t?1:-1}function Ge(e,t,n){return[e.values[n],t.values[n]]}function Ke(e){return"number"==typeof e?isNaN(e)||e===1/0||e===-1/0?"":String(e):"string"==typeof e?e:""}var $e=Object.freeze({__proto__:null,alphanumeric:function(e,t,n){var r=Ge(e,t,n),i=r[0],a=r[1];for(i=Ke(i),a=Ke(a),i=i.split(He).filter(Boolean),a=a.split(He).filter(Boolean);i.length&&a.length;){var o=i.shift(),s=a.shift(),u=parseInt(o,10),c=parseInt(s,10),l=[u,c].sort();if(isNaN(l[0])){if(o>s)return 1;if(s>o)return-1}else{if(isNaN(l[1]))return isNaN(u)?-1:1;if(u>c)return 1;if(c>u)return-1}}return i.length-a.length},datetime:function(e,t,n){var r=Ge(e,t,n),i=r[0],a=r[1];return We(i=i.getTime(),a=a.getTime())},basic:function(e,t,n){var r=Ge(e,t,n);return We(r[0],r[1])},string:function(e,t,n){var r=Ge(e,t,n),i=r[0],a=r[1];for(i=i.split("").filter(Boolean),a=a.split("").filter(Boolean);i.length&&a.length;){var o=i.shift(),s=a.shift(),u=o.toLowerCase(),c=s.toLowerCase();if(u>c)return 1;if(c>u)return-1;if(o>s)return 1;if(s>o)return-1}return i.length-a.length},number:function(e,t,n){var r=Ge(e,t,n),i=r[0],a=r[1],o=/[^0-9.]/gi;return We(i=Number(String(i).replace(o,"")),a=Number(String(a).replace(o,"")))}});u.resetSortBy="resetSortBy",u.setSortBy="setSortBy",u.toggleSortBy="toggleSortBy",u.clearSortBy="clearSortBy",f.sortType="alphanumeric",f.sortDescFirst=!1;var Qe=function(e){e.getSortByToggleProps=[Ye],e.stateReducers.push(Xe),e.useInstance.push(Je)};Qe.pluginName="useSortBy";var Ye=function(e,t){var n=t.instance,r=t.column,i=n.isMultiSortEvent,a=void 0===i?function(e){return e.shiftKey}:i;return[e,{onClick:r.canSort?function(e){e.persist(),r.toggleSortBy(void 0,!n.disableMultiSort&&a(e))}:void 0,style:{cursor:r.canSort?"pointer":void 0},title:r.canSort?"Toggle SortBy":void 0}]};function Xe(e,t,n,r){if(t.type===u.init)return a({sortBy:[]},e);if(t.type===u.resetSortBy)return a({},e,{sortBy:r.initialState.sortBy||[]});if(t.type===u.clearSortBy)return a({},e,{sortBy:e.sortBy.filter((function(e){return e.id!==t.columnId}))});if(t.type===u.setSortBy)return a({},e,{sortBy:t.sortBy});if(t.type===u.toggleSortBy){var i,o=t.columnId,s=t.desc,c=t.multi,l=r.allColumns,f=r.disableMultiSort,h=r.disableSortRemove,d=r.disableMultiRemove,p=r.maxMultiSortColCount,v=void 0===p?Number.MAX_SAFE_INTEGER:p,m=e.sortBy,y=l.find((function(e){return e.id===o})).sortDescFirst,g=m.find((function(e){return e.id===o})),b=m.findIndex((function(e){return e.id===o})),k=null!=s,w=[];return"toggle"!==(i=!f&&c?g?"toggle":"add":b!==m.length-1||1!==m.length?"replace":g?"toggle":"replace")||h||k||c&&d||!(g&&g.desc&&!y||!g.desc&&y)||(i="remove"),"replace"===i?w=[{id:o,desc:k?s:y}]:"add"===i?(w=[].concat(m,[{id:o,desc:k?s:y}])).splice(0,w.length-v):"toggle"===i?w=m.map((function(e){return e.id===o?a({},e,{desc:k?s:!g.desc}):e})):"remove"===i&&(w=m.filter((function(e){return e.id!==o}))),a({},e,{sortBy:w})}}function Je(e){var n=e.data,r=e.rows,i=e.flatRows,a=e.allColumns,o=e.orderByFn,s=void 0===o?Ze:o,c=e.sortTypes,l=e.manualSortBy,f=e.defaultCanSort,h=e.disableSortBy,p=e.flatHeaders,v=e.state.sortBy,y=e.dispatch,b=e.plugins,w=e.getHooks,_=e.autoResetSortBy,x=void 0===_||_;m(b,["useFilters","useGlobalFilter","useGroupBy","usePivotColumns"],"useSortBy");var C=t.useCallback((function(e){y({type:u.setSortBy,sortBy:e})}),[y]),S=t.useCallback((function(e,t,n){y({type:u.toggleSortBy,columnId:e,desc:t,multi:n})}),[y]),E=g(e);p.forEach((function(e){var t=e.accessor,n=e.canSort,r=e.disableSortBy,i=e.id,a=t?R(!0!==r&&void 0,!0!==h&&void 0,!0):R(f,n,!1);e.canSort=a,e.canSort&&(e.toggleSortBy=function(t,n){return S(e.id,t,n)},e.clearSortBy=function(){y({type:u.clearSortBy,columnId:e.id})}),e.getSortByToggleProps=d(w().getSortByToggleProps,{instance:E(),column:e});var o=v.find((function(e){return e.id===i}));e.isSorted=!!o,e.sortedIndex=v.findIndex((function(e){return e.id===i})),e.isSortedDesc=e.isSorted?o.desc:void 0}));var T=t.useMemo((function(){if(l||!v.length)return[r,i];var e=[],t=v.filter((function(e){return a.find((function(t){return t.id===e.id}))}));return[function n(r){var i=s(r,t.map((function(e){var t=a.find((function(t){return t.id===e.id}));if(!t)throw new Error("React-Table: Could not find a column with id: "+e.id+" while sorting");var n=t.sortType,r=P(n)||(c||{})[n]||$e[n];if(!r)throw new Error("React-Table: Could not find a valid sortType of '"+n+"' for column '"+e.id+"'.");return function(t,n){return r(t,n,e.id,e.desc)}})),t.map((function(e){var t=a.find((function(t){return t.id===e.id}));return t&&t.sortInverted?e.desc:!e.desc})));return i.forEach((function(t){e.push(t),t.subRows&&0!==t.subRows.length&&(t.subRows=n(t.subRows))})),i}(r),e]}),[l,v,r,i,a,s,c]),I=T[0],O=T[1],N=g(x);k((function(){N()&&y({type:u.resetSortBy})}),[l?null:n]),Object.assign(e,{preSortedRows:r,preSortedFlatRows:i,sortedRows:I,sortedFlatRows:O,rows:I,flatRows:O,setSortBy:C,toggleSortBy:S})}function Ze(e,t,n){return[].concat(e).sort((function(e,r){for(var i=0;i<t.length;i+=1){var a=t[i],o=!1===n[i]||"desc"===n[i],s=a(e,r);if(0!==s)return o?-s:s}return n[0]?e.index-r.index:r.index-e.index}))}u.resetPage="resetPage",u.gotoPage="gotoPage",u.setPageSize="setPageSize";var et=function(e){e.stateReducers.push(tt),e.useInstance.push(nt)};function tt(e,t,n,r){if(t.type===u.init)return a({pageSize:10,pageIndex:0},e);if(t.type===u.resetPage)return a({},e,{pageIndex:r.initialState.pageIndex||0});if(t.type===u.gotoPage){var i=r.pageCount,o=r.page,s=y(t.pageIndex,e.pageIndex),c=!1;return s>e.pageIndex?c=-1===i?o.length>=e.pageSize:s<i:s<e.pageIndex&&(c=s>-1),c?a({},e,{pageIndex:s}):e}if(t.type===u.setPageSize){var l=t.pageSize,f=e.pageSize*e.pageIndex;return a({},e,{pageIndex:Math.floor(f/l),pageSize:l})}}function nt(e){var n=e.rows,r=e.autoResetPage,i=void 0===r||r,a=e.manualExpandedKey,o=void 0===a?"expanded":a,s=e.plugins,c=e.pageCount,l=e.paginateExpandedRows,f=void 0===l||l,h=e.expandSubRows,d=void 0===h||h,p=e.state,v=p.pageSize,y=p.pageIndex,b=p.expanded,w=p.globalFilter,_=p.filters,x=p.groupBy,C=p.sortBy,S=e.dispatch,E=e.data,T=e.manualPagination;m(s,["useGlobalFilter","useFilters","useGroupBy","useSortBy","useExpanded"],"usePagination");var I=g(i);k((function(){I()&&S({type:u.resetPage})}),[S,T?null:E,w,_,x,C]);var R=T?c:Math.ceil(n.length/v),P=t.useMemo((function(){return R>0?[].concat(new Array(R)).fill(null).map((function(e,t){return t})):[]}),[R]),O=t.useMemo((function(){var e;if(T)e=n;else{var t=v*y,r=t+v;e=n.slice(t,r)}return f?e:N(e,{manualExpandedKey:o,expanded:b,expandSubRows:d})}),[d,b,o,T,y,v,f,n]),A=y>0,D=-1===R?O.length>=v:y<R-1,F=t.useCallback((function(e){S({type:u.gotoPage,pageIndex:e})}),[S]),j=t.useCallback((function(){return F((function(e){return e-1}))}),[F]),L=t.useCallback((function(){return F((function(e){return e+1}))}),[F]),M=t.useCallback((function(e){S({type:u.setPageSize,pageSize:e})}),[S]);Object.assign(e,{pageOptions:P,pageCount:R,page:O,canPreviousPage:A,canNextPage:D,gotoPage:F,previousPage:j,nextPage:L,setPageSize:M})}et.pluginName="usePagination",u.resetPivot="resetPivot",u.togglePivot="togglePivot";var rt=function(e){e.getPivotToggleProps=[at],e.stateReducers.push(ot),e.useInstanceAfterData.push(st),e.allColumns.push(ut),e.accessValue.push(ct),e.materializedColumns.push(lt),e.materializedColumnsDeps.push(ft),e.visibleColumns.push(ht),e.visibleColumnsDeps.push(dt),e.useInstance.push(pt),e.prepareRow.push(vt)};rt.pluginName="usePivotColumns";var it=[],at=function(e,t){var n=t.header;return[e,{onClick:n.canPivot?function(e){e.persist(),n.togglePivot()}:void 0,style:{cursor:n.canPivot?"pointer":void 0},title:"Toggle Pivot"}]};function ot(e,t,n,r){if(t.type===u.init)return a({pivotColumns:it},e);if(t.type===u.resetPivot)return a({},e,{pivotColumns:r.initialState.pivotColumns||it});if(t.type===u.togglePivot){var i=t.columnId,o=t.value,s=void 0!==o?o:!e.pivotColumns.includes(i);return a({},e,s?{pivotColumns:[].concat(e.pivotColumns,[i])}:{pivotColumns:e.pivotColumns.filter((function(e){return e!==i}))})}}function st(e){e.allColumns.forEach((function(t){t.isPivotSource=e.state.pivotColumns.includes(t.id)}))}function ut(e,t){var n=t.instance;return e.forEach((function(e){e.isPivotSource=n.state.pivotColumns.includes(e.id),e.uniqueValues=new Set})),e}function ct(e,t){var n=t.column;return n.uniqueValues&&void 0!==e&&n.uniqueValues.add(e),e}function lt(e,t){var n=t.instance,r=n.allColumns,i=n.state;if(!i.pivotColumns.length||!i.groupBy||!i.groupBy.length)return e;var o=i.pivotColumns.map((function(e){return r.find((function(t){return t.id===e}))})).filter(Boolean),s=r.filter((function(e){return!e.isPivotSource&&!i.groupBy.includes(e.id)&&!i.pivotColumns.includes(e.id)})),u=C(function e(t,n,r){void 0===t&&(t=0),void 0===r&&(r=[]);var i=o[t];return i?Array.from(i.uniqueValues).sort().map((function(o){var s=a({},i,{Header:i.PivotHeader||"string"==typeof i.header?i.Header+": "+o:o,isPivotGroup:!0,parent:n,depth:t,id:n?n.id+"."+i.id+"."+o:i.id+"."+o,pivotValue:o});return s.columns=e(t+1,s,[].concat(r,[function(e){return e.values[i.id]===o}])),s})):s.map((function(e){return a({},e,{canPivot:!1,isPivoted:!0,parent:n,depth:t,id:""+(n?n.id+"."+e.id:e.id),accessor:function(t,n,i){if(r.every((function(e){return e(i)})))return i.values[e.id]}})}))}());return[].concat(e,u)}function ft(e,t){var n=t.instance.state,r=n.pivotColumns,i=n.groupBy;return[].concat(e,[r,i])}function ht(e,t){var n=t.instance.state;return e=e.filter((function(e){return!e.isPivotSource})),n.pivotColumns.length&&n.groupBy&&n.groupBy.length&&(e=e.filter((function(e){return e.isGrouped||e.isPivoted}))),e}function dt(e,t){var n=t.instance;return[].concat(e,[n.state.pivotColumns,n.state.groupBy])}function pt(e){var t=e.columns,n=e.allColumns,r=e.flatHeaders,i=e.getHooks,a=e.plugins,o=e.dispatch,s=e.autoResetPivot,c=void 0===s||s,l=e.manaulPivot,f=e.disablePivot,h=e.defaultCanPivot;m(a,["useGroupBy"],"usePivotColumns");var p=g(e);n.forEach((function(t){var n=t.accessor,r=t.defaultPivot,i=t.disablePivot;t.canPivot=n?R(t.canPivot,!0!==i&&void 0,!0!==f&&void 0,!0):R(t.canPivot,r,h,!1),t.canPivot&&(t.togglePivot=function(){return e.togglePivot(t.id)}),t.Aggregated=t.Aggregated||t.Cell})),r.forEach((function(e){e.getPivotToggleProps=d(i().getPivotToggleProps,{instance:p(),header:e})}));var v=g(c);k((function(){v()&&o({type:u.resetPivot})}),[o,l?null:t]),Object.assign(e,{togglePivot:function(e,t){o({type:u.togglePivot,columnId:e,value:t})}})}function vt(e){e.allCells.forEach((function(e){e.isPivoted=e.column.isPivoted}))}u.resetSelectedRows="resetSelectedRows",u.toggleAllRowsSelected="toggleAllRowsSelected",u.toggleRowSelected="toggleRowSelected",u.toggleAllPageRowsSelected="toggleAllPageRowsSelected";var mt=function(e){e.getToggleRowSelectedProps=[yt],e.getToggleAllRowsSelectedProps=[gt],e.getToggleAllPageRowsSelectedProps=[bt],e.stateReducers.push(kt),e.useInstance.push(wt),e.prepareRow.push(_t)};mt.pluginName="useRowSelect";var yt=function(e,t){var n=t.instance,r=t.row,i=n.manualRowSelectedKey,a=void 0===i?"isSelected":i;return[e,{onChange:function(e){r.toggleRowSelected(e.target.checked)},style:{cursor:"pointer"},checked:!(!r.original||!r.original[a])||r.isSelected,title:"Toggle Row Selected",indeterminate:r.isSomeSelected}]},gt=function(e,t){var n=t.instance;return[e,{onChange:function(e){n.toggleAllRowsSelected(e.target.checked)},style:{cursor:"pointer"},checked:n.isAllRowsSelected,title:"Toggle All Rows Selected",indeterminate:Boolean(!n.isAllRowsSelected&&Object.keys(n.state.selectedRowIds).length)}]},bt=function(e,t){var n=t.instance;return[e,{onChange:function(e){n.toggleAllPageRowsSelected(e.target.checked)},style:{cursor:"pointer"},checked:n.isAllPageRowsSelected,title:"Toggle All Current Page Rows Selected",indeterminate:Boolean(!n.isAllPageRowsSelected&&n.page.some((function(e){var t=e.id;return n.state.selectedRowIds[t]})))}]};function kt(e,t,n,r){if(t.type===u.init)return a({selectedRowIds:{}},e);if(t.type===u.resetSelectedRows)return a({},e,{selectedRowIds:r.initialState.selectedRowIds||{}});if(t.type===u.toggleAllRowsSelected){var i=t.value,o=r.isAllRowsSelected,s=r.rowsById,c=r.nonGroupedRowsById,l=void 0===c?s:c,f=void 0!==i?i:!o,h=Object.assign({},e.selectedRowIds);return f?Object.keys(l).forEach((function(e){h[e]=!0})):Object.keys(l).forEach((function(e){delete h[e]})),a({},e,{selectedRowIds:h})}if(t.type===u.toggleRowSelected){var d=t.id,p=t.value,v=r.rowsById,m=r.selectSubRows,y=void 0===m||m,g=r.getSubRows,b=e.selectedRowIds[d],k=void 0!==p?p:!b;if(b===k)return e;var w=a({},e.selectedRowIds);return function e(t){var n=v[t];if(n&&(n.isGrouped||(k?w[t]=!0:delete w[t]),y&&g(n)))return g(n).forEach((function(t){return e(t.id)}))}(d),a({},e,{selectedRowIds:w})}if(t.type===u.toggleAllPageRowsSelected){var _=t.value,x=r.page,C=r.rowsById,S=r.selectSubRows,E=void 0===S||S,T=r.isAllPageRowsSelected,I=r.getSubRows,R=void 0!==_?_:!T,P=a({},e.selectedRowIds);return x.forEach((function(e){return function e(t){var n=C[t];if(n.isGrouped||(R?P[t]=!0:delete P[t]),E&&I(n))return I(n).forEach((function(t){return e(t.id)}))}(e.id)})),a({},e,{selectedRowIds:P})}return e}function wt(e){var n=e.data,r=e.rows,i=e.getHooks,a=e.plugins,o=e.rowsById,s=e.nonGroupedRowsById,c=void 0===s?o:s,l=e.autoResetSelectedRows,f=void 0===l||l,h=e.state.selectedRowIds,p=e.selectSubRows,v=void 0===p||p,y=e.dispatch,b=e.page,w=e.getSubRows;m(a,["useFilters","useGroupBy","useSortBy","useExpanded","usePagination"],"useRowSelect");var _=t.useMemo((function(){var e=[];return r.forEach((function(t){var n=v?function e(t,n,r){if(n[t.id])return!0;var i=r(t);if(i&&i.length){var a=!0,o=!1;return i.forEach((function(t){o&&!a||(e(t,n,r)?o=!0:a=!1)})),!!a||!!o&&null}return!1}(t,h,w):!!h[t.id];t.isSelected=!!n,t.isSomeSelected=null===n,n&&e.push(t)})),e}),[r,v,h,w]),x=Boolean(Object.keys(c).length&&Object.keys(h).length),C=x;x&&Object.keys(c).some((function(e){return!h[e]}))&&(x=!1),x||b&&b.length&&b.some((function(e){var t=e.id;return!h[t]}))&&(C=!1);var S=g(f);k((function(){S()&&y({type:u.resetSelectedRows})}),[y,n]);var E=t.useCallback((function(e){return y({type:u.toggleAllRowsSelected,value:e})}),[y]),T=t.useCallback((function(e){return y({type:u.toggleAllPageRowsSelected,value:e})}),[y]),I=t.useCallback((function(e,t){return y({type:u.toggleRowSelected,id:e,value:t})}),[y]),R=g(e),P=d(i().getToggleAllRowsSelectedProps,{instance:R()}),O=d(i().getToggleAllPageRowsSelectedProps,{instance:R()});Object.assign(e,{selectedFlatRows:_,isAllRowsSelected:x,isAllPageRowsSelected:C,toggleRowSelected:I,toggleAllRowsSelected:E,getToggleAllRowsSelectedProps:P,getToggleAllPageRowsSelectedProps:O,toggleAllPageRowsSelected:T})}function _t(e,t){var n=t.instance;e.toggleRowSelected=function(t){return n.toggleRowSelected(e.id,t)},e.getToggleRowSelectedProps=d(n.getHooks().getToggleRowSelectedProps,{instance:n,row:e})}var xt=function(e){return{}},Ct=function(e){return{}};u.setRowState="setRowState",u.setCellState="setCellState",u.resetRowState="resetRowState";var St=function(e){e.stateReducers.push(Et),e.useInstance.push(Tt),e.prepareRow.push(It)};function Et(e,t,n,r){var i=r.initialRowStateAccessor,o=void 0===i?xt:i,s=r.initialCellStateAccessor,c=void 0===s?Ct:s,l=r.rowsById;if(t.type===u.init)return a({rowState:{}},e);if(t.type===u.resetRowState)return a({},e,{rowState:r.initialState.rowState||{}});if(t.type===u.setRowState){var f,h=t.rowId,d=t.value,p=void 0!==e.rowState[h]?e.rowState[h]:o(l[h]);return a({},e,{rowState:a({},e.rowState,(f={},f[h]=y(d,p),f))})}if(t.type===u.setCellState){var v,m,g,b,k,w=t.rowId,_=t.columnId,x=t.value,C=void 0!==e.rowState[w]?e.rowState[w]:o(l[w]),S=void 0!==(null==C||null==(v=C.cellState)?void 0:v[_])?C.cellState[_]:c(null==(m=l[w])||null==(g=m.cells)?void 0:g.find((function(e){return e.column.id===_})));return a({},e,{rowState:a({},e.rowState,(k={},k[w]=a({},C,{cellState:a({},C.cellState||{},(b={},b[_]=y(x,S),b))}),k))})}}function Tt(e){var n=e.autoResetRowState,r=void 0===n||n,i=e.data,a=e.dispatch,o=t.useCallback((function(e,t){return a({type:u.setRowState,rowId:e,value:t})}),[a]),s=t.useCallback((function(e,t,n){return a({type:u.setCellState,rowId:e,columnId:t,value:n})}),[a]),c=g(r);k((function(){c()&&a({type:u.resetRowState})}),[i]),Object.assign(e,{setRowState:o,setCellState:s})}function It(e,t){var n=t.instance,r=n.initialRowStateAccessor,i=void 0===r?xt:r,a=n.initialCellStateAccessor,o=void 0===a?Ct:a,s=n.state.rowState;e&&(e.state=void 0!==s[e.id]?s[e.id]:i(e),e.setState=function(t){return n.setRowState(e.id,t)},e.cells.forEach((function(t){e.state.cellState||(e.state.cellState={}),t.state=void 0!==e.state.cellState[t.column.id]?e.state.cellState[t.column.id]:o(t),t.setState=function(r){return n.setCellState(e.id,t.column.id,r)}})))}St.pluginName="useRowState",u.resetColumnOrder="resetColumnOrder",u.setColumnOrder="setColumnOrder";var Rt=function(e){e.stateReducers.push(Pt),e.visibleColumnsDeps.push((function(e,t){var n=t.instance;return[].concat(e,[n.state.columnOrder])})),e.visibleColumns.push(Ot),e.useInstance.push(Nt)};function Pt(e,t,n,r){return t.type===u.init?a({columnOrder:[]},e):t.type===u.resetColumnOrder?a({},e,{columnOrder:r.initialState.columnOrder||[]}):t.type===u.setColumnOrder?a({},e,{columnOrder:y(t.columnOrder,e.columnOrder)}):void 0}function Ot(e,t){var n=t.instance.state.columnOrder;if(!n||!n.length)return e;for(var r=[].concat(n),i=[].concat(e),a=[],o=function(){var e=r.shift(),t=i.findIndex((function(t){return t.id===e}));t>-1&&a.push(i.splice(t,1)[0])};i.length&&r.length;)o();return[].concat(a,i)}function Nt(e){var n=e.dispatch;e.setColumnOrder=t.useCallback((function(e){return n({type:u.setColumnOrder,columnOrder:e})}),[n])}Rt.pluginName="useColumnOrder",f.canResize=!0,u.columnStartResizing="columnStartResizing",u.columnResizing="columnResizing",u.columnDoneResizing="columnDoneResizing",u.resetResize="resetResize";var At=function(e){e.getResizerProps=[Dt],e.getHeaderProps.push({style:{position:"relative"}}),e.stateReducers.push(Ft),e.useInstance.push(Lt),e.useInstanceBeforeDimensions.push(jt)},Dt=function(e,t){var n=t.instance,r=t.header,i=n.dispatch,a=function(e,t){var n=!1;if("touchstart"===e.type){if(e.touches&&e.touches.length>1)return;n=!0}var r,a,o=function(e){var t=[];return function e(n){n.columns&&n.columns.length&&n.columns.map(e),t.push(n)}(e),t}(t).map((function(e){return[e.id,e.totalWidth]})),s=n?Math.round(e.touches[0].clientX):e.clientX,c=function(){window.cancelAnimationFrame(r),r=null,i({type:u.columnDoneResizing})},l=function(){window.cancelAnimationFrame(r),r=null,i({type:u.columnResizing,clientX:a})},f=function(e){a=e,r||(r=window.requestAnimationFrame(l))},h={mouse:{moveEvent:"mousemove",moveHandler:function(e){return f(e.clientX)},upEvent:"mouseup",upHandler:function(e){document.removeEventListener("mousemove",h.mouse.moveHandler),document.removeEventListener("mouseup",h.mouse.upHandler),c()}},touch:{moveEvent:"touchmove",moveHandler:function(e){return e.cancelable&&(e.preventDefault(),e.stopPropagation()),f(e.touches[0].clientX),!1},upEvent:"touchend",upHandler:function(e){document.removeEventListener(h.touch.moveEvent,h.touch.moveHandler),document.removeEventListener(h.touch.upEvent,h.touch.moveHandler),c()}}},d=n?h.touch:h.mouse,p=!!function(){if("boolean"==typeof j)return j;var e=!1;try{var t={get passive(){return e=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(t){e=!1}return j=e}()&&{passive:!1};document.addEventListener(d.moveEvent,d.moveHandler,p),document.addEventListener(d.upEvent,d.upHandler,p),i({type:u.columnStartResizing,columnId:t.id,columnWidth:t.totalWidth,headerIdWidths:o,clientX:s})};return[e,{onMouseDown:function(e){return e.persist()||a(e,r)},onTouchStart:function(e){return e.persist()||a(e,r)},style:{cursor:"col-resize"},draggable:!1,role:"separator"}]};function Ft(e,t){if(t.type===u.init)return a({columnResizing:{columnWidths:{}}},e);if(t.type===u.resetResize)return a({},e,{columnResizing:{columnWidths:{}}});if(t.type===u.columnStartResizing){var n=t.clientX,r=t.columnId,i=t.columnWidth,o=t.headerIdWidths;return a({},e,{columnResizing:a({},e.columnResizing,{startX:n,headerIdWidths:o,columnWidth:i,isResizingColumn:r})})}if(t.type===u.columnResizing){var s=t.clientX,c=e.columnResizing,l=c.startX,f=c.columnWidth,h=c.headerIdWidths,d=(s-l)/f,p={};return(void 0===h?[]:h).forEach((function(e){var t=e[0],n=e[1];p[t]=Math.max(n+n*d,0)})),a({},e,{columnResizing:a({},e.columnResizing,{columnWidths:a({},e.columnResizing.columnWidths,{},p)})})}return t.type===u.columnDoneResizing?a({},e,{columnResizing:a({},e.columnResizing,{startX:null,isResizingColumn:null})}):void 0}At.pluginName="useResizeColumns";var jt=function(e){var t=e.flatHeaders,n=e.disableResizing,r=e.getHooks,i=e.state.columnResizing,a=g(e);t.forEach((function(e){var t=R(!0!==e.disableResizing&&void 0,!0!==n&&void 0,!0);e.canResize=t,e.width=i.columnWidths[e.id]||e.originalWidth||e.width,e.isResizing=i.isResizingColumn===e.id,t&&(e.getResizerProps=d(r().getResizerProps,{instance:a(),header:e}))}))};function Lt(e){var n=e.plugins,r=e.dispatch,i=e.autoResetResize,a=void 0===i||i,o=e.columns;m(n,["useAbsoluteLayout"],"useResizeColumns");var s=g(a);k((function(){s()&&r({type:u.resetResize})}),[o]);var c=t.useCallback((function(){return r({type:u.resetResize})}),[r]);Object.assign(e,{resetResizing:c})}var Mt={position:"absolute",top:0},Ut=function(e){e.getTableBodyProps.push(Vt),e.getRowProps.push(Vt),e.getHeaderGroupProps.push(Vt),e.getFooterGroupProps.push(Vt),e.getHeaderProps.push((function(e,t){var n=t.column;return[e,{style:a({},Mt,{left:n.totalLeft+"px",width:n.totalWidth+"px"})}]})),e.getCellProps.push((function(e,t){var n=t.cell;return[e,{style:a({},Mt,{left:n.column.totalLeft+"px",width:n.column.totalWidth+"px"})}]})),e.getFooterProps.push((function(e,t){var n=t.column;return[e,{style:a({},Mt,{left:n.totalLeft+"px",width:n.totalWidth+"px"})}]}))};Ut.pluginName="useAbsoluteLayout";var Vt=function(e,t){return[e,{style:{position:"relative",width:t.instance.totalColumnsWidth+"px"}}]},zt={display:"inline-block",boxSizing:"border-box"},Bt=function(e,t){return[e,{style:{display:"flex",width:t.instance.totalColumnsWidth+"px"}}]},qt=function(e){e.getRowProps.push(Bt),e.getHeaderGroupProps.push(Bt),e.getFooterGroupProps.push(Bt),e.getHeaderProps.push((function(e,t){var n=t.column;return[e,{style:a({},zt,{width:n.totalWidth+"px"})}]})),e.getCellProps.push((function(e,t){var n=t.cell;return[e,{style:a({},zt,{width:n.column.totalWidth+"px"})}]})),e.getFooterProps.push((function(e,t){var n=t.column;return[e,{style:a({},zt,{width:n.totalWidth+"px"})}]}))};function Ht(e){e.getTableProps.push(Wt),e.getRowProps.push(Gt),e.getHeaderGroupProps.push(Gt),e.getFooterGroupProps.push(Gt),e.getHeaderProps.push(Kt),e.getCellProps.push($t),e.getFooterProps.push(Qt)}qt.pluginName="useBlockLayout",Ht.pluginName="useFlexLayout";var Wt=function(e,t){return[e,{style:{minWidth:t.instance.totalColumnsMinWidth+"px"}}]},Gt=function(e,t){return[e,{style:{display:"flex",flex:"1 0 auto",minWidth:t.instance.totalColumnsMinWidth+"px"}}]},Kt=function(e,t){var n=t.column;return[e,{style:{boxSizing:"border-box",flex:n.totalFlexWidth?n.totalFlexWidth+" 0 auto":void 0,minWidth:n.totalMinWidth+"px",width:n.totalWidth+"px"}}]},$t=function(e,t){var n=t.cell;return[e,{style:{boxSizing:"border-box",flex:n.column.totalFlexWidth+" 0 auto",minWidth:n.column.totalMinWidth+"px",width:n.column.totalWidth+"px"}}]},Qt=function(e,t){var n=t.column;return[e,{style:{boxSizing:"border-box",flex:n.totalFlexWidth?n.totalFlexWidth+" 0 auto":void 0,minWidth:n.totalMinWidth+"px",width:n.totalWidth+"px"}}]};function Yt(e){e.stateReducers.push(en),e.getTableProps.push(Xt),e.getHeaderProps.push(Jt),e.getRowProps.push(Zt)}u.columnStartResizing="columnStartResizing",u.columnResizing="columnResizing",u.columnDoneResizing="columnDoneResizing",u.resetResize="resetResize",Yt.pluginName="useGridLayout";var Xt=function(e,t){var n=t.instance;return[e,{style:{display:"grid",gridTemplateColumns:n.visibleColumns.map((function(e){var t;return n.state.gridLayout.columnWidths[e.id]?n.state.gridLayout.columnWidths[e.id]+"px":(null==(t=n.state.columnResizing)?void 0:t.isResizingColumn)?n.state.gridLayout.startWidths[e.id]+"px":"number"==typeof e.width?e.width+"px":e.width})).join(" ")}}]},Jt=function(e,t){var n=t.column;return[e,{id:"header-cell-"+n.id,style:{position:"sticky",gridColumn:"span "+n.totalVisibleHeaderCount}}]},Zt=function(e,t){var n=t.row;return n.isExpanded?[e,{style:{gridColumn:"1 / "+(n.cells.length+1)}}]:[e,{}]};function en(e,t,n,r){if(t.type===u.init)return a({gridLayout:{columnWidths:{}}},e);if(t.type===u.resetResize)return a({},e,{gridLayout:{columnWidths:{}}});if(t.type===u.columnStartResizing){var i=t.columnId,o=t.headerIdWidths,s=tn(i);if(void 0!==s){var c=r.visibleColumns.reduce((function(e,t){var n;return a({},e,((n={})[t.id]=tn(t.id),n))}),{}),l=r.visibleColumns.reduce((function(e,t){var n;return a({},e,((n={})[t.id]=t.minWidth,n))}),{}),f=r.visibleColumns.reduce((function(e,t){var n;return a({},e,((n={})[t.id]=t.maxWidth,n))}),{}),h=o.map((function(e){var t=e[0];return[t,tn(t)]}));return a({},e,{gridLayout:a({},e.gridLayout,{startWidths:c,minWidths:l,maxWidths:f,headerIdGridWidths:h,columnWidth:s})})}return e}if(t.type===u.columnResizing){var d=t.clientX,p=e.columnResizing.startX,v=e.gridLayout,m=v.columnWidth,y=v.minWidths,g=v.maxWidths,b=v.headerIdGridWidths,k=(d-p)/m,w={};return(void 0===b?[]:b).forEach((function(e){var t=e[0],n=e[1];w[t]=Math.min(Math.max(y[t],n+n*k),g[t])})),a({},e,{gridLayout:a({},e.gridLayout,{columnWidths:a({},e.gridLayout.columnWidths,{},w)})})}return t.type===u.columnDoneResizing?a({},e,{gridLayout:a({},e.gridLayout,{startWidths:{},minWidths:{},maxWidths:{}})}):void 0}function tn(e){var t,n=null==(t=document.getElementById("header-cell-"+e))?void 0:t.offsetWidth;if(void 0!==n)return n}e._UNSTABLE_usePivotColumns=rt,e.actions=u,e.defaultColumn=f,e.defaultGroupByFn=qe,e.defaultOrderByFn=Ze,e.defaultRenderer=c,e.emptyRenderer=l,e.ensurePluginOrder=m,e.flexRender=_,e.functionalUpdate=y,e.loopHooks=v,e.makePropGetter=d,e.makeRenderer=w,e.reduceHooks=p,e.safeUseLayoutEffect=b,e.useAbsoluteLayout=Ut,e.useAsyncDebounce=function(e,n){void 0===n&&(n=0);var a=t.useRef({}),o=g(e),s=g(n);return t.useCallback(function(){var e=i(r().mark((function e(){var t,n,u,c=arguments;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=c.length,n=new Array(t),u=0;u<t;u++)n[u]=c[u];return a.current.promise||(a.current.promise=new Promise((function(e,t){a.current.resolve=e,a.current.reject=t}))),a.current.timeout&&clearTimeout(a.current.timeout),a.current.timeout=setTimeout(i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete a.current.timeout,e.prev=1,e.t0=a.current,e.next=5,o().apply(void 0,n);case 5:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=12;break;case 9:e.prev=9,e.t2=e.catch(1),a.current.reject(e.t2);case 12:return e.prev=12,delete a.current.promise,e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,9,12,15]])}))),s()),e.abrupt("return",a.current.promise);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),[o,s])},e.useBlockLayout=qt,e.useColumnOrder=Rt,e.useExpanded=ce,e.useFilters=Ee,e.useFlexLayout=Ht,e.useGetLatest=g,e.useGlobalFilter=Re,e.useGridLayout=Yt,e.useGroupBy=je,e.useMountedLayoutEffect=k,e.usePagination=et,e.useResizeColumns=At,e.useRowSelect=mt,e.useRowState=St,e.useSortBy=Qe,e.useTable=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e=oe(e),r=[$].concat(r);var o=g(t.useRef({}).current);Object.assign(o(),a({},e,{plugins:r,hooks:K()})),r.filter(Boolean).forEach((function(e){e(o().hooks)}));var s=g(o().hooks);o().getHooks=s,delete o().hooks,Object.assign(o(),p(s().useOptions,oe(e)));var c=o(),l=c.data,f=c.columns,h=c.initialState,m=c.defaultColumn,y=c.getSubRows,b=c.getRowId,k=c.stateReducer,_=c.useControlledState,I=g(k),R=t.useCallback((function(e,t){if(!t.type)throw console.info({action:t}),new Error("Unknown Action \ud83d\udc46");return[].concat(s().stateReducers,Array.isArray(I())?I():[I()]).reduce((function(n,r){return r(n,t,e,o())||n}),e)}),[s,I,o]),P=t.useReducer(R,void 0,(function(){return R(h,{type:u.init})})),O=P[0],N=P[1],A=p([].concat(s().useControlledState,[_]),O,{instance:o()});Object.assign(o(),{state:A,dispatch:N});var D=t.useMemo((function(){return x(p(s().columns,f,{instance:o()}))}),[s,o,f].concat(p(s().columnsDeps,[],{instance:o()})));o().columns=D;var F=t.useMemo((function(){return p(s().allColumns,C(D),{instance:o()}).map(S)}),[D,s,o].concat(p(s().allColumnsDeps,[],{instance:o()})));o().allColumns=F;var j=t.useMemo((function(){for(var e=[],t=[],n={},r=[].concat(F);r.length;){var i=r.shift();ue({data:l,rows:e,flatRows:t,rowsById:n,column:i,getRowId:b,getSubRows:y,accessValueHooks:s().accessValue,getInstance:o})}return[e,t,n]}),[F,l,b,y,s,o]),L=j[0],M=j[1],U=j[2];Object.assign(o(),{rows:L,initialRows:[].concat(L),flatRows:M,rowsById:U}),v(s().useInstanceAfterData,o());var V=t.useMemo((function(){return p(s().visibleColumns,F,{instance:o()}).map((function(e){return E(e,m)}))}),[s,F,o,m].concat(p(s().visibleColumnsDeps,[],{instance:o()})));F=t.useMemo((function(){var e=[].concat(V);return F.forEach((function(t){e.find((function(e){return e.id===t.id}))||e.push(t)})),e}),[F,V]),o().allColumns=F;var z=t.useMemo((function(){return p(s().headerGroups,T(V,m),o())}),[s,V,m,o].concat(p(s().headerGroupsDeps,[],{instance:o()})));o().headerGroups=z;var B=t.useMemo((function(){return z.length?z[0].headers:[]}),[z]);o().headers=B,o().flatHeaders=z.reduce((function(e,t){return[].concat(e,t.headers)}),[]),v(s().useInstanceBeforeDimensions,o());var q=V.filter((function(e){return e.isVisible})).map((function(e){return e.id})).sort().join("_");V=t.useMemo((function(){return V.filter((function(e){return e.isVisible}))}),[V,q]),o().visibleColumns=V;var H=se(B),W=H[0],G=H[1],Q=H[2];return o().totalColumnsMinWidth=W,o().totalColumnsWidth=G,o().totalColumnsMaxWidth=Q,v(s().useInstance,o()),[].concat(o().flatHeaders,o().allColumns).forEach((function(e){e.render=w(o(),e),e.getHeaderProps=d(s().getHeaderProps,{instance:o(),column:e}),e.getFooterProps=d(s().getFooterProps,{instance:o(),column:e})})),o().headerGroups=t.useMemo((function(){return z.filter((function(e,t){return e.headers=e.headers.filter((function(e){return e.headers?function e(t){return t.filter((function(t){return t.headers?e(t.headers):t.isVisible})).length}(e.headers):e.isVisible})),!!e.headers.length&&(e.getHeaderGroupProps=d(s().getHeaderGroupProps,{instance:o(),headerGroup:e,index:t}),e.getFooterGroupProps=d(s().getFooterGroupProps,{instance:o(),headerGroup:e,index:t}),!0)}))}),[z,o,s]),o().footerGroups=[].concat(o().headerGroups).reverse(),o().prepareRow=t.useCallback((function(e){e.getRowProps=d(s().getRowProps,{instance:o(),row:e}),e.allCells=F.map((function(t){var n=e.values[t.id],r={column:t,row:e,value:n};return r.getCellProps=d(s().getCellProps,{instance:o(),cell:r}),r.render=w(o(),t,{row:e,cell:r,value:n}),r})),e.cells=V.map((function(t){return e.allCells.find((function(e){return e.column.id===t.id}))})),v(s().prepareRow,e,{instance:o()})}),[s,o,F,V]),o().getTableProps=d(s().getTableProps,{instance:o()}),o().getTableBodyProps=d(s().getTableBodyProps,{instance:o()}),v(s().useFinalInstance,o()),o()},Object.defineProperty(e,"__esModule",{value:!0})}(t,n(2791))},1358:function(e,t,n){e.exports=n(1707)},6374:function(e,t,n){"use strict";var r=n(2791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:s.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var k=b.prototype=new g;k.constructor=b,v(k,y.prototype),k.isPureReactComponent=!0;var w=Array.isArray,_=Object.prototype.hasOwnProperty,x={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,i)&&!C.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:x.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function R(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+I(u,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),R(o,t,i,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+I(s=e[c],c);u+=R(s,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=R(s=s.value,t,i,l=a+I(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function P(e,t,n){if(null==e)return e;var r=[],i=0;return R(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var N={current:null},A={transition:null},D={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:A,ReactCurrentOwner:x};t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)_.call(t,c)&&!C.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=A.transition;A.transition={};try{e()}finally{A.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return N.current.useCallback(e,t)},t.useContext=function(e){return N.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return N.current.useDeferredValue(e)},t.useEffect=function(e,t){return N.current.useEffect(e,t)},t.useId=function(){return N.current.useId()},t.useImperativeHandle=function(e,t,n){return N.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return N.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return N.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return N.current.useMemo(e,t)},t.useReducer=function(e,t,n){return N.current.useReducer(e,t,n)},t.useRef=function(e){return N.current.useRef(e)},t.useState=function(e){return N.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return N.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return N.current.useTransition()},t.version="18.2.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>a(u,n))c<i&&0>a(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function k(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,k(e),!v)if(null!==r(c))v=!0,A(_);else{var t=r(l);null!==t&&D(w,t.startTime-e)}}function _(e,n){v=!1,m&&(m=!1,g(E),E=-1),p=!0;var a=d;try{for(k(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!R());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),k(n)}else i(c);h=r(c)}if(null!==h)var u=!0;else{var f=r(l);null!==f&&D(w,f.startTime-n),u=!1}return u}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,C=!1,S=null,E=-1,T=5,I=-1;function R(){return!(t.unstable_now()-I<T)}function P(){if(null!==S){var e=t.unstable_now();I=e;var n=!0;try{n=S(!0,e)}finally{n?x():(C=!1,S=null)}}else C=!1}if("function"===typeof b)x=function(){b(P)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,N=O.port2;O.port1.onmessage=P,x=function(){N.postMessage(null)}}else x=function(){y(P,0)};function A(e){S=e,C||(C=!0,x())}function D(e,n){E=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,A(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(E),E=-1):m=!0,D(w,a-o))):(e.sortIndex=s,n(c,e),v||p||(v=!0,A(_))),e},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},9613:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),u=0;u<a.length;u++){var c=a[u];if(!s(c))return!1;var l=e[c],f=t[c];if(!1===(i=n?n.call(r,l,f,c):void 0)||void 0===i&&l!==f)return!1}return!0}},6514:function(e){function t(e,t){var n=e.length,r=new Array(n),i={},a=n,o=function(e){for(var t=new Map,n=0,r=e.length;n<r;n++){var i=e[n];t.has(i[0])||t.set(i[0],new Set),t.has(i[1])||t.set(i[1],new Set),t.get(i[0]).add(i[1])}return t}(t),s=function(e){for(var t=new Map,n=0,r=e.length;n<r;n++)t.set(e[n],n);return t}(e);for(t.forEach((function(e){if(!s.has(e[0])||!s.has(e[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")}));a--;)i[a]||u(e[a],a,new Set);return r;function u(e,t,a){if(a.has(e)){var c;try{c=", node was:"+JSON.stringify(e)}catch(h){c=""}throw new Error("Cyclic dependency"+c)}if(!s.has(e))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(e));if(!i[t]){i[t]=!0;var l=o.get(e)||new Set;if(t=(l=Array.from(l)).length){a.add(e);do{var f=l[--t];u(f,s.get(f),a)}while(t);a.delete(e)}r[--n]=e}}}e.exports=function(e){return t(function(e){for(var t=new Set,n=0,r=e.length;n<r;n++){var i=e[n];t.add(i[0]),t.add(i[1])}return Array.from(t)}(e),e)},e.exports.array=t},7061:function(e,t,n){var r=n(8698).default;function i(){"use strict";e.exports=i=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},n=Object.prototype,a=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function f(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(O){f=function(e,t,n){return e[t]=n}}function h(e,t,n,r){var i=t&&t.prototype instanceof v?t:v,a=Object.create(i.prototype),s=new I(r||[]);return o(a,"_invoke",{value:C(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(O){return{type:"throw",arg:O}}}t.wrap=h;var p={};function v(){}function m(){}function y(){}var g={};f(g,u,(function(){return this}));var b=Object.getPrototypeOf,k=b&&b(b(R([])));k&&k!==n&&a.call(k,u)&&(g=k);var w=y.prototype=v.prototype=Object.create(g);function _(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function n(i,o,s,u){var c=d(e[i],e,o);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==r(f)&&a.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,s,u)}),(function(e){n("throw",e,s,u)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}})}function C(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return P()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=S(o,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=d(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var i=d(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,p;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function R(e){if(e){var t=e[u];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:P}}function P(){return{value:void 0,done:!0}}return m.prototype=y,o(w,"constructor",{value:y,configurable:!0}),o(y,"constructor",{value:m,configurable:!0}),m.displayName=f(y,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,f(e,l,"GeneratorFunction")),e.prototype=Object.create(w),e},t.awrap=function(e){return{__await:e}},_(x.prototype),f(x.prototype,c,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new x(h(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},_(w),f(w,l,"Generator"),f(w,u,(function(){return this})),f(w,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=R,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=a.call(i,"catchLoc"),u=a.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:R(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},8698:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},n.p="/latrik.ris.interface/",n.nc=void 0,function(){"use strict";var e=n(2791),t=n.t(e,2),r=n(1250);function i(e){return i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},i(e)}function a(e,t){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},a(e,t)}function o(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(zT){return!1}}function s(e,t,n){return s=o()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&a(i,n.prototype),i},s.apply(null,arguments)}function u(e){var t="function"===typeof Map?new Map:void 0;return u=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return s(e,arguments,i(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),a(n,e)},u(e)}function c(e){if(Array.isArray(e))return e}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){if(e){if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function h(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(e,t){return c(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||f(e,t)||h()}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function m(e){var t=function(e,t){if("object"!==v(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===v(t)?t:String(t)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,m(r.key),r)}}function g(e,t,n){return t&&y(e.prototype,t),n&&y(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}function w(e,t){if(t&&("object"===v(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return b(e)}function _(e){var t=o();return function(){var n,r=i(e);if(t){var a=i(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return w(this,n)}}function x(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function C(e){return function(e){if(Array.isArray(e))return l(e)}(e)||x(e)||f(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=i(e)););return e}function E(){return E="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=S(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},E.apply(this,arguments)}function T(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=f(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function I(){I=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(P){u=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),s=new E(i||[]);return r(o,"_invoke",{value:_(e,n,s)}),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(P){return{type:"throw",arg:P}}}e.wrap=c;var f={};function h(){}function d(){}function p(){}var m={};u(m,a,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(T([])));g&&g!==t&&n.call(g,a)&&(m=g);var b=p.prototype=h.prototype=Object.create(m);function k(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(r,a,o,s){var u=l(e[r],e,a);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==v(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,o,s)}),(function(e){i("throw",e,o,s)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,s)}))}s(u.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function _(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return R()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=x(o,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=l(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:R}}function R(){return{value:void 0,done:!0}}return d.prototype=p,r(b,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=u(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},k(w.prototype),u(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new w(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},k(b),u(b,s,"Generator"),u(b,a,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function R(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(so){return void n(so)}s.done?t(u):Promise.resolve(u).then(r,i)}function P(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){R(a,r,i,o,s,"next",e)}function s(e){R(a,r,i,o,s,"throw",e)}o(void 0)}))}}function O(e,t,n){return(t=m(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var N=!1,A=!1,D="${JSCORE_VERSION}",F=function(e,t){if(!e)throw j(t)},j=function(e){return new Error("Firebase Database ("+D+") INTERNAL ASSERT FAILED: "+e)},L=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},M={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(L(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},U=function(e){var t=L(e);return M.encodeByteArray(t,!0)},V=function(e){return U(e).replace(/\./g,"")},z=function(e){try{return M.decodeString(e,!0)}catch(zT){console.error("base64Decode failed: ",zT)}return null};function B(e){return q(void 0,e)}function q(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=q(e[n],t[n]));return e}var H=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},W=function(){try{return H()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/latrik.ris.interface",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(zT){return}var t=e&&z(e[1]);return t&&JSON.parse(t)}}()}catch(zT){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(zT))}},G=function(e){var t,n;return null===(n=null===(t=W())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},K=function(){var e;return null===(e=W())||void 0===e?void 0:e.config},$=function(e){var t;return null===(t=W())||void 0===t?void 0:t["_".concat(e)]},Q=function(){function e(){var t=this;p(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return g(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Y(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[V(JSON.stringify({alg:"none",type:"JWT"})),V(JSON.stringify(a)),""].join(".")}function X(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function J(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(X())}function Z(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function ee(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function te(){return!0===N||!0===A}function ne(){try{return"object"===typeof indexedDB}catch(zT){return!1}}function re(){return new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(so){t(so)}}))}var ie=function(e){k(n,e);var t=_(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(b(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(b(a),ae.prototype.create),a}return g(n)}(u(Error)),ae=function(){function e(t,n,r){p(this,e),this.service=t,this.serviceName=n,this.errors=r}return g(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?oe(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new ie(n,a,t);return o}}]),e}();function oe(e,t){return e.replace(se,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var se=/\{\$([^}]+)}/g;function ue(e){return JSON.parse(e)}function ce(e){return JSON.stringify(e)}var le=function(e){var t={},n={},r={},i="";try{var a=e.split(".");t=ue(z(a[0])||""),n=ue(z(a[1])||""),i=a[2],r=n.d||{},delete n.d}catch(zT){}return{header:t,claims:n,data:r,signature:i}};function fe(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function he(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function de(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function pe(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function ve(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(me(s)&&me(u)){if(!ve(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function me(e){return null!==e&&"object"===typeof e}function ye(e){for(var t=[],n=function(){var e=d(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function ge(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=d(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function be(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var ke=function(){function e(){p(this,e),this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return g(e,[{key:"reset",value:function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}},{key:"compress_",value:function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var i=0;i<16;i++)n[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var a=16;a<80;a++){var o=n[a-3]^n[a-8]^n[a-14]^n[a-16];n[a]=4294967295&(o<<1|o>>>31)}for(var s,u,c=this.chain_[0],l=this.chain_[1],f=this.chain_[2],h=this.chain_[3],d=this.chain_[4],p=0;p<80;p++){p<40?p<20?(s=h^l&(f^h),u=1518500249):(s=l^f^h,u=1859775393):p<60?(s=l&f|h&(l|f),u=2400959708):(s=l^f^h,u=3395469782);var v=(c<<5|c>>>27)+s+d+u+n[p]&4294967295;d=h,h=f,f=4294967295&(l<<30|l>>>2),l=c,c=v}this.chain_[0]=this.chain_[0]+c&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}},{key:"update",value:function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,a=this.inbuf_;r<t;){if(0===a)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[a]=e.charCodeAt(r),++r,++a===this.blockSize){this.compress_(i),a=0;break}}else for(;r<t;)if(i[a]=e[r],++r,++a===this.blockSize){this.compress_(i),a=0;break}}this.inbuf_=a,this.total_+=t}}},{key:"digest",value:function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,i=0;i<5;i++)for(var a=24;a>=0;a-=8)e[r]=this.chain_[i]>>a&255,++r;return e}}]),e}();var we=function(){function e(t,n){var r=this;p(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return g(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=T(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=_e),void 0===r.error&&(r.error=_e),void 0===r.complete&&(r.complete=_e);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(zT){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(zT){"undefined"!==typeof console&&console.error&&console.error(zT)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function _e(){}function xe(e,t){return"".concat(e," failed: ").concat(t," argument ")}var Ce=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},Se=144e5;function Ee(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=t*Math.pow(n,e),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(Se,r+i)}function Te(e){return e&&e._delegate?e._delegate:e}var Ie=function(){function e(t,n,r){p(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return g(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Re="[DEFAULT]",Pe=function(){function e(t,n){p(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return g(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Q;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(zT){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(zT){if(r)return null;throw zT}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Re})}catch(zT){}var t,n=T(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=d(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(zT){}}}catch(u){n.e(u)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=P(I().mark((function e(){var t;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(C(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),C(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=T(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=d(i.value,2),u=s[0],c=s[1],l=this.normalizeInstanceIdentifier(u);r===l&&c.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=T(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(x_){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Re?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(x_){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re;return this.component?this.component.multipleInstances?e:Re:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Oe,Ne,Ae=function(){function e(t){p(this,e),this.name=t,this.providers=new Map}return g(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Pe(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),De=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Ne||(Ne={}));var Fe={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},je=Ne.INFO,Le=(O(Oe={},Ne.DEBUG,"log"),O(Oe,Ne.VERBOSE,"log"),O(Oe,Ne.INFO,"info"),O(Oe,Ne.WARN,"warn"),O(Oe,Ne.ERROR,"error"),Oe),Me=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Le[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Ue=function(){function e(t){p(this,e),this.name=t,this._logLevel=je,this._logHandler=Me,this._userLogHandler=null,De.push(this)}return g(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Ne))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Fe[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ne.DEBUG].concat(t)),this._logHandler.apply(this,[this,Ne.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ne.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Ne.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ne.INFO].concat(t)),this._logHandler.apply(this,[this,Ne.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ne.WARN].concat(t)),this._logHandler.apply(this,[this,Ne.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ne.ERROR].concat(t)),this._logHandler.apply(this,[this,Ne.ERROR].concat(t))}}]),e}();function Ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Be,qe;var He=new WeakMap,We=new WeakMap,Ge=new WeakMap,Ke=new WeakMap,$e=new WeakMap;var Qe={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return We.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Ge.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Je(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Ye(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(qe||(qe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Ze(this),n),Je(He.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Je(e.apply(Ze(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Ze(this),t].concat(r));return Ge.set(a,t.sort?t.sort():[t]),Je(a)}}function Xe(e){return"function"===typeof e?Ye(e):(e instanceof IDBTransaction&&function(e){if(!We.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));We.set(e,t)}}(e),function(e,t){return t.some((function(t){return e instanceof t}))}(e,Be||(Be=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Qe):e)}function Je(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Je(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&He.set(t,e)})).catch((function(){})),$e.set(t,e),t}(e);if(Ke.has(e))return Ke.get(e);var t=Xe(e);return t!==e&&(Ke.set(e,t),$e.set(t,e)),t}var Ze=function(e){return $e.get(e)};var et,tt,nt,rt=["get","getKey","getAll","getAllKeys","count"],it=["put","add","delete","clear"],at=new Map;function ot(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(at.get(t))return at.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=it.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||rt.includes(n))){var a=function(){var e=P(I().mark((function e(t){var a,o,s,u,c,l,f=arguments;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=f.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=f[l];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return at.set(t,a),a}}}et=function(e){return ze(ze({},e),{},{get:function(t,n,r){return ot(t,n)||e.get(t,n,r)},has:function(t,n){return!!ot(t,n)||e.has(t,n)}})},Qe=et(Qe);var st=function(){function e(t){p(this,e),this.container=t}return g(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var ut="@firebase/app",ct="0.9.1",lt=new Ue("@firebase/app"),ft="[DEFAULT]",ht=(O(tt={},ut,"fire-core"),O(tt,"@firebase/app-compat","fire-core-compat"),O(tt,"@firebase/analytics","fire-analytics"),O(tt,"@firebase/analytics-compat","fire-analytics-compat"),O(tt,"@firebase/app-check","fire-app-check"),O(tt,"@firebase/app-check-compat","fire-app-check-compat"),O(tt,"@firebase/auth","fire-auth"),O(tt,"@firebase/auth-compat","fire-auth-compat"),O(tt,"@firebase/database","fire-rtdb"),O(tt,"@firebase/database-compat","fire-rtdb-compat"),O(tt,"@firebase/functions","fire-fn"),O(tt,"@firebase/functions-compat","fire-fn-compat"),O(tt,"@firebase/installations","fire-iid"),O(tt,"@firebase/installations-compat","fire-iid-compat"),O(tt,"@firebase/messaging","fire-fcm"),O(tt,"@firebase/messaging-compat","fire-fcm-compat"),O(tt,"@firebase/performance","fire-perf"),O(tt,"@firebase/performance-compat","fire-perf-compat"),O(tt,"@firebase/remote-config","fire-rc"),O(tt,"@firebase/remote-config-compat","fire-rc-compat"),O(tt,"@firebase/storage","fire-gcs"),O(tt,"@firebase/storage-compat","fire-gcs-compat"),O(tt,"@firebase/firestore","fire-fst"),O(tt,"@firebase/firestore-compat","fire-fst-compat"),O(tt,"fire-js","fire-js"),O(tt,"firebase","fire-js-all"),tt),dt=new Map,pt=new Map;function vt(e,t){try{e.container.addComponent(t)}catch(zT){lt.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),zT)}}function mt(e){var t=e.name;if(pt.has(t))return lt.debug("There were multiple attempts to register component ".concat(t,".")),!1;pt.set(t,e);var n,r=T(dt.values());try{for(r.s();!(n=r.n()).done;){vt(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function yt(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}var gt=(O(nt={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),O(nt,"bad-app-name","Illegal App name: '{$appName}"),O(nt,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),O(nt,"app-deleted","Firebase App named '{$appName}' already deleted"),O(nt,"no-options","Need to provide options, when not being deployed to hosting via source."),O(nt,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),O(nt,"invalid-log-argument","First argument to `onLog` must be null or a function."),O(nt,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),O(nt,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),O(nt,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),O(nt,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),nt),bt=new ae("app","Firebase",gt),kt=function(){function e(t,n,r){var i=this;p(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ie("app",(function(){return i}),"PUBLIC"))}return g(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw bt.create("app-deleted",{appName:this._name})}}]),e}(),wt="9.16.0";function _t(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){var r=t;t={name:r}}var i=Object.assign({name:ft,automaticDataCollectionEnabled:!1},t),a=i.name;if("string"!==typeof a||!a)throw bt.create("bad-app-name",{appName:String(a)});if(n||(n=K()),!n)throw bt.create("no-options");var o=dt.get(a);if(o){if(ve(n,o.options)&&ve(i,o.config))return o;throw bt.create("duplicate-app",{appName:a})}var s,u=new Ae(a),c=T(pt.values());try{for(c.s();!(s=c.n()).done;){var l=s.value;u.addComponent(l)}}catch(h){c.e(h)}finally{c.f()}var f=new kt(n,i,u);return dt.set(a,f),f}function xt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft,t=dt.get(e);if(!t&&e===ft)return _t();if(!t)throw bt.create("no-app",{appName:e});return t}function Ct(e,t,n){var r,i=null!==(r=ht[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void lt.warn(s.join(" "))}mt(new Ie("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}var St="firebase-heartbeat-store",Et=null;function Tt(){return Et||(Et=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=Je(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(Je(s.result),e.oldVersion,e.newVersion,Je(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),u}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(St)}}).catch((function(e){throw bt.create("idb-open",{originalErrorMessage:e.message})}))),Et}function It(e){return Rt.apply(this,arguments)}function Rt(){return Rt=P(I().mark((function e(t){var n,r;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Tt();case 3:return n=e.sent,e.abrupt("return",n.transaction(St).objectStore(St).get(Nt(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof ie?lt.warn(e.t0.message):(r=bt.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),lt.warn(r.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Rt.apply(this,arguments)}function Pt(e,t){return Ot.apply(this,arguments)}function Ot(){return Ot=P(I().mark((function e(t,n){var r,i,a,o;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Tt();case 3:return r=e.sent,i=r.transaction(St,"readwrite"),a=i.objectStore(St),e.next=8,a.put(n,Nt(t));case 8:return e.abrupt("return",i.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof ie?lt.warn(e.t0.message):(o=bt.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),lt.warn(o.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Ot.apply(this,arguments)}function Nt(e){return"".concat(e.name,"!").concat(e.options.appId)}var At=function(){function e(t){var n=this;p(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Lt(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return g(e,[{key:"triggerHeartbeat",value:function(){var e=P(I().mark((function e(){var t,n,r;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Dt(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=P(I().mark((function e(){var t,n,r,i,a;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Dt(),n=Ft(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=V(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Dt(){return(new Date).toISOString().substring(0,10)}function Ft(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=T(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Mt(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Mt(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var s=o();if("break"===s)break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var jt,Lt=function(){function e(t){p(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return g(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=P(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ne()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",re().then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=P(I().mark((function e(){var t;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,It(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=P(I().mark((function e(t){var n,r;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Pt(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=P(I().mark((function e(t){var n,r;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Pt(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(C(r.heartbeats),C(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Mt(e){return V(JSON.stringify({version:2,heartbeats:e})).length}jt="",mt(new Ie("platform-logger",(function(e){return new st(e)}),"PRIVATE")),mt(new Ie("heartbeat",(function(e){return new At(e)}),"PRIVATE")),Ct(ut,ct,jt),Ct(ut,ct,"esm2017"),Ct("fire-js","");function Ut(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var Vt;Object.create;function zt(){return O({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Bt=zt,qt=new ae("auth","Firebase",zt()),Ht=new Ue("@firebase/auth");function Wt(e){if(Ht.logLevel<=Ne.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Ht.error.apply(Ht,["Auth (".concat(wt,"): ").concat(e)].concat(n))}}function Gt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Qt.apply(void 0,[e].concat(n))}function Kt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Qt.apply(void 0,[e].concat(n))}function $t(e,t,n){var r=Object.assign(Object.assign({},Bt()),O({},t,n));return new ae("auth","Firebase",r).create(t,{appName:e.name})}function Qt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=C(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(C(o)))}return qt.create.apply(qt,[e].concat(n))}function Yt(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Qt.apply(void 0,[t].concat(r))}}function Xt(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Wt(t),new Error(t)}function Jt(e,t){e||Xt(t)}var Zt=new Map;function en(e){Jt(e instanceof Function,"Expected a class definition");var t=Zt.get(e);return t?(Jt(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Zt.set(e,t),t)}function tn(e,t){var n=yt(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(ve(n.getOptions(),null!==t&&void 0!==t?t:{}))return r;Gt(r,"already-initialized")}return n.initialize({options:t})}function nn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function rn(){return"http:"===an()||"https:"===an()}function an(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var on=function(){function e(t,n){p(this,e),this.shortDelay=t,this.longDelay=n,Jt(n>t,"Short delay should be less than long delay!"),this.isMobile=J()||ee()}return g(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(rn()||Z()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function sn(e,t){Jt(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var un=function(){function e(){p(this,e)}return g(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Xt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Xt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Xt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),cn=(O(Vt={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),O(Vt,"MISSING_CUSTOM_TOKEN","internal-error"),O(Vt,"INVALID_IDENTIFIER","invalid-email"),O(Vt,"MISSING_CONTINUE_URI","internal-error"),O(Vt,"INVALID_PASSWORD","wrong-password"),O(Vt,"MISSING_PASSWORD","internal-error"),O(Vt,"EMAIL_EXISTS","email-already-in-use"),O(Vt,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),O(Vt,"INVALID_IDP_RESPONSE","invalid-credential"),O(Vt,"INVALID_PENDING_TOKEN","invalid-credential"),O(Vt,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),O(Vt,"MISSING_REQ_TYPE","internal-error"),O(Vt,"EMAIL_NOT_FOUND","user-not-found"),O(Vt,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),O(Vt,"EXPIRED_OOB_CODE","expired-action-code"),O(Vt,"INVALID_OOB_CODE","invalid-action-code"),O(Vt,"MISSING_OOB_CODE","internal-error"),O(Vt,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),O(Vt,"INVALID_ID_TOKEN","invalid-user-token"),O(Vt,"TOKEN_EXPIRED","user-token-expired"),O(Vt,"USER_NOT_FOUND","user-token-expired"),O(Vt,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),O(Vt,"INVALID_CODE","invalid-verification-code"),O(Vt,"INVALID_SESSION_INFO","invalid-verification-id"),O(Vt,"INVALID_TEMPORARY_PROOF","invalid-credential"),O(Vt,"MISSING_SESSION_INFO","missing-verification-id"),O(Vt,"SESSION_EXPIRED","code-expired"),O(Vt,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),O(Vt,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),O(Vt,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),O(Vt,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),O(Vt,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),O(Vt,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),O(Vt,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),O(Vt,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),O(Vt,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),O(Vt,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),O(Vt,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Vt),ln=new on(3e4,6e4);function fn(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function hn(e,t,n,r){return dn.apply(this,arguments)}function dn(){return dn=P(I().mark((function e(t,n,r,i){var a,o=arguments;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",pn(t,a,P(I().mark((function e(){var a,o,s,u;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=ye(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",un.fetch()(gn(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),dn.apply(this,arguments)}function pn(e,t,n){return vn.apply(this,arguments)}function vn(){return vn=P(I().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h,p;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},cn),n),e.prev=2,a=new bn(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw kn(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(u=o.ok?s.errorMessage:s.error.message,c=u.split(" : "),l=d(c,2),f=l[0],h=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw kn(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==f){e.next=27;break}throw kn(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==f){e.next=29;break}throw kn(t,"user-disabled",s);case 29:if(p=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!h){e.next=34;break}throw $t(t,p,h);case 34:Gt(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof ie)){e.next=41;break}throw e.t0;case 41:Gt(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),vn.apply(this,arguments)}function mn(e,t,n,r){return yn.apply(this,arguments)}function yn(){return yn=P(I().mark((function e(t,n,r,i){var a,o,s=arguments;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,hn(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Gt(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),yn.apply(this,arguments)}function gn(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?sn(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var bn=function(){function e(t){var n=this;p(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Kt(n.auth,"network-request-failed"))}),ln.get())}))}return g(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function kn(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Kt(e,t,r);return i.customData._tokenResponse=n,i}function wn(e,t){return _n.apply(this,arguments)}function _n(){return(_n=P(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hn(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xn(e,t){return Cn.apply(this,arguments)}function Cn(){return(Cn=P(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hn(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sn(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(zT){}}function En(){return En=P(I().mark((function e(t){var n,r,i,a,o,s,u=arguments;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=Te(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Yt((a=In(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Sn(Tn(a.auth_time)),issuedAtTime:Sn(Tn(a.iat)),expirationTime:Sn(Tn(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),En.apply(this,arguments)}function Tn(e){return 1e3*Number(e)}function In(e){var t=d(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return Wt("JWT malformed, contained fewer than 3 sections"),null;try{var a=z(r);return a?JSON.parse(a):(Wt("Failed to decode base64 JWT payload"),null)}catch(zT){return Wt("Caught error parsing JWT payload as JSON",null===zT||void 0===zT?void 0:zT.toString()),null}}function Rn(e,t){return Pn.apply(this,arguments)}function Pn(){return Pn=P(I().mark((function e(t,n){var r=arguments;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof ie&&On(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Pn.apply(this,arguments)}function On(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Nn=function(){function e(t){p(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return g(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(P(I().mark((function t(){return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=P(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),An=function(){function e(t,n){p(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return g(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Sn(this.lastLoginAt),this.creationTime=Sn(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Dn(e){return Fn.apply(this,arguments)}function Fn(){return Fn=P(I().mark((function e(t){var n,r,i,a,o,s,u,c,l,f,h;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Rn(t,xn(r,{idToken:i}));case 6:Yt(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?Mn(o.providerUserInfo):[],u=Ln(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new An(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),Fn.apply(this,arguments)}function jn(){return(jn=P(I().mark((function e(t){var n;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Te(t),e.next=3,Dn(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ln(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(C(n),C(t))}function Mn(e){return e.map((function(e){var t=e.providerId,n=Ut(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function Un(e,t){return Vn.apply(this,arguments)}function Vn(){return(Vn=P(I().mark((function e(t,n){var r;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pn(t,{},P(I().mark((function e(){var r,i,a,o,s,u;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ye({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=gn(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",un.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var zn=function(){function e(){p(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return g(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Yt(e.idToken,"internal-error"),Yt("undefined"!==typeof e.idToken,"internal-error"),Yt("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=In(e);return Yt(t,"internal-error"),Yt("undefined"!==typeof t.exp,"internal-error"),Yt("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=P(I().mark((function e(t){var n,r=arguments;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Yt(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=P(I().mark((function e(t,n){var r,i,a,o;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Un(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Xt("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Yt("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Yt("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Yt("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Bn(e,t){Yt("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var qn=function(){function e(t){p(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Ut(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Nn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?C(a.providerData):[],this.metadata=new An(a.createdAt||void 0,a.lastLoginAt||void 0)}return g(e,[{key:"getIdToken",value:function(){var e=P(I().mark((function e(t){var n;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rn(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Yt(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return En.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return jn.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Yt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){Yt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=P(I().mark((function e(t){var n,r,i=arguments;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Dn(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=P(I().mark((function e(){var t;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Rn(this,wn(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,b=n.uid,k=n.emailVerified,w=n.isAnonymous,_=n.providerData,x=n.stsTokenManager;Yt(b&&x,t,"internal-error");var C=zn.fromJSON(this.name,x);Yt("string"===typeof b,t,"internal-error"),Bn(f,t.name),Bn(h,t.name),Yt("boolean"===typeof k,t,"internal-error"),Yt("boolean"===typeof w,t,"internal-error"),Bn(d,t.name),Bn(p,t.name),Bn(v,t.name),Bn(m,t.name),Bn(y,t.name),Bn(g,t.name);var S=new e({uid:b,auth:t,email:h,emailVerified:k,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:C,createdAt:y,lastLoginAt:g});return _&&Array.isArray(_)&&(S.providerData=_.map((function(e){return Object.assign({},e)}))),m&&(S._redirectEventId=m),S}},{key:"_fromIdTokenResponse",value:function(){var t=P(I().mark((function t(n,r){var i,a,o,s=arguments;return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new zn).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Dn(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Hn=function(){function e(){p(this,e),this.type="NONE",this.storage={}}return g(e,[{key:"_isAvailable",value:function(){var e=P(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=P(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=P(I().mark((function e(t){var n;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=P(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Hn.type="NONE";var Wn=Hn;function Gn(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Kn=function(){function e(t,n,r){p(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Gn(this.userKey,a.apiKey,o),this.fullPersistenceKey=Gn("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return g(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=P(I().mark((function e(){var t;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?qn._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=P(I().mark((function e(t){var n;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=P(I().mark((function t(n,r){var i,a,o,s,u,c,l,f,h,d,p,v=arguments;return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(en(Wn),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=P(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||en(Wn),s=Gn(i,n.config.apiKey,n.name),u=null,c=T(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(s);case 17:if(!(h=t.sent)){t.next=23;break}return d=qn._fromJSON(n,h),f!==o&&(u=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=P(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function $n(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Jn(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Qn(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(er(t))return"Blackberry";if(tr(t))return"Webos";if(Yn(t))return"Safari";if((t.includes("chrome/")||Xn(t))&&!t.includes("edge/"))return"Chrome";if(Zn(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Qn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X();return/firefox\//i.test(e)}function Yn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Xn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X();return/crios\//i.test(e)}function Jn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X();return/iemobile/i.test(e)}function Zn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X();return/android/i.test(e)}function er(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X();return/blackberry/i.test(e)}function tr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X();return/webos/i.test(e)}function nr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function rr(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X();return nr(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function ir(){return function(){var e=X();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function ar(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X();return nr(e)||Zn(e)||tr(e)||er(e)||/windows phone/i.test(e)||Jn(e)}function or(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=$n(X());break;case"Worker":t="".concat($n(X()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(wt,"/").concat(r)}var sr=function(){function e(t){p(this,e),this.auth=t,this.queue=[]}return g(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(zT){r(zT)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=P(I().mark((function e(t){var n,r,i,a,o,s,u;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=T(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=T(n);try{for(o.s();!(s=o.n()).done;){u=s.value;try{u()}catch(QE){}}}catch(c){o.e(c)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),ur=function(){function e(t,n,r){p(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lr(this),this.idTokenSubscription=new lr(this),this.beforeStateQueue=new sr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return g(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=en(t)),this._initializationPromise=this.queue(P(I().mark((function r(){var i,a;return I().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Kn.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=P(I().mark((function e(){var t;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=P(I().mark((function e(t){var n,r,i,a,o,s,u;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:u=e.sent,o&&o!==s||!(null===u||void 0===u?void 0:u.user)||(i=u.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return Yt(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=P(I().mark((function e(t){var n;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=P(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Dn(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=P(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=P(I().mark((function e(t){var n;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Te(t):null)&&Yt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=P(I().mark((function e(t){var n,r=this,i=arguments;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&Yt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(P(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=P(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(P(I().mark((function n(){return I().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(en(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new ae("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=P(I().mark((function e(t,n){var r;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=P(I().mark((function e(t){var n;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Yt(n=t&&en(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Kn.create(this,[en(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=P(I().mark((function e(t){var n,r;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(P(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=P(I().mark((function e(t){var n=this;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(P(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Yt(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=P(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Yt(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=or(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=P(I().mark((function e(){var t,n,r;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=O({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function cr(e){return Te(e)}var lr=function(){function e(t){var n=this;p(this,e),this.auth=t,this.observer=null,this.addObserver=function(e,t){var n=new we(e,t);return n.subscribe.bind(n)}((function(e){return n.observer=e}))}return g(e,[{key:"next",get:function(){return Yt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function fr(e,t,n){var r=cr(e);Yt(r._canInitEmulator,r,"emulator-config-failed"),Yt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=hr(t),o=function(e){var t=hr(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:dr(r.substr(a.length+1))}}var o=d(r.split(":"),2);return{host:o[0],port:dr(o[1])}}(t),s=o.host,u=o.port,c=null===u?"":":".concat(u);r.config.emulator={url:"".concat(a,"//").concat(s).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function hr(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function dr(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var pr=function(){function e(t,n){p(this,e),this.providerId=t,this.signInMethod=n}return g(e,[{key:"toJSON",value:function(){return Xt("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Xt("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Xt("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Xt("not implemented")}}]),e}();function vr(e,t){return mr.apply(this,arguments)}function mr(){return(mr=P(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hn(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yr(e,t){return gr.apply(this,arguments)}function gr(){return(gr=P(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",mn(t,"POST","/v1/accounts:signInWithPassword",fn(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function br(e,t){return kr.apply(this,arguments)}function kr(){return(kr=P(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",mn(t,"POST","/v1/accounts:signInWithEmailLink",fn(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wr(e,t){return _r.apply(this,arguments)}function _r(){return(_r=P(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",mn(t,"POST","/v1/accounts:signInWithEmailLink",fn(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var xr=function(e){k(n,e);var t=_(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return p(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return g(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=P(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",yr(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",br(t,{email:this._email,oobCode:this._password}));case 5:Gt(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=P(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",vr(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",wr(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Gt(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(pr);function Cr(e,t){return Sr.apply(this,arguments)}function Sr(){return(Sr=P(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",mn(t,"POST","/v1/accounts:signInWithIdp",fn(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Er=function(e){k(n,e);var t=_(n);function n(){var e;return p(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return g(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Cr(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Cr(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Cr(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ye(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Gt("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Ut(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(pr);function Tr(e,t){return Ir.apply(this,arguments)}function Ir(){return(Ir=P(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hn(t,"POST","/v1/accounts:sendVerificationCode",fn(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rr(){return(Rr=P(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",mn(t,"POST","/v1/accounts:signInWithPhoneNumber",fn(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pr(){return(Pr=P(I().mark((function e(t,n){var r;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mn(t,"POST","/v1/accounts:signInWithPhoneNumber",fn(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw kn(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Or=O({},"USER_NOT_FOUND","user-not-found");function Nr(){return(Nr=P(I().mark((function e(t,n){var r;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",mn(t,"POST","/v1/accounts:signInWithPhoneNumber",fn(t,r),Or));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ar=function(e){k(n,e);var t=_(n);function n(e){var r;return p(this,n),(r=t.call(this,"phone","phone")).params=e,r}return g(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Rr.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Pr.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Nr.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(pr);var Dr=function(){function e(t){var n,r,i,a,o,s;p(this,e);var u=ge(be(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);Yt(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return g(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=ge(be(e)).link,n=t?ge(be(t)).deep_link_id:null,r=ge(be(e)).deep_link_id;return(r?ge(be(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(x_){return null}}}]),e}();var Fr=function(){function e(){p(this,e),this.providerId=e.PROVIDER_ID}return g(e,null,[{key:"credential",value:function(e,t){return xr._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Dr.parseLink(t);return Yt(n,"argument-error"),xr._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Fr.PROVIDER_ID="password",Fr.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Fr.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var jr=function(){function e(t){p(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return g(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Lr=function(e){k(n,e);var t=_(n);function n(){var e;return p(this,n),(e=t.apply(this,arguments)).scopes=[],e}return g(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return C(this.scopes)}}]),n}(jr),Mr=function(e){k(n,e);var t=_(n);function n(){return p(this,n),t.call(this,"facebook.com")}return g(n,null,[{key:"credential",value:function(e){return Er._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(x_){return null}}}]),n}(Lr);Mr.FACEBOOK_SIGN_IN_METHOD="facebook.com",Mr.PROVIDER_ID="facebook.com";var Ur=function(e){k(n,e);var t=_(n);function n(){var e;return p(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return g(n,null,[{key:"credential",value:function(e,t){return Er._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(x_){return null}}}]),n}(Lr);Ur.GOOGLE_SIGN_IN_METHOD="google.com",Ur.PROVIDER_ID="google.com";var Vr=function(e){k(n,e);var t=_(n);function n(){return p(this,n),t.call(this,"github.com")}return g(n,null,[{key:"credential",value:function(e){return Er._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(x_){return null}}}]),n}(Lr);Vr.GITHUB_SIGN_IN_METHOD="github.com",Vr.PROVIDER_ID="github.com";var zr=function(e){k(n,e);var t=_(n);function n(){return p(this,n),t.call(this,"twitter.com")}return g(n,null,[{key:"credential",value:function(e,t){return Er._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(x_){return null}}}]),n}(Lr);zr.TWITTER_SIGN_IN_METHOD="twitter.com",zr.PROVIDER_ID="twitter.com";var Br=function(){function e(t){p(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return g(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=P(I().mark((function t(n,r,i){var a,o,s,u,c=arguments;return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,qn._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=qr(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=P(I().mark((function t(n,r,i){var a;return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=qr(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function qr(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var Hr=function(e){k(n,e);var t=_(n);function n(e,r,i,a){var o,s;return p(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(b(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return g(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(ie);function Wr(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Hr._fromErrorAndOperation(e,n,t,r);throw n}))}function Gr(e,t){return Kr.apply(this,arguments)}function Kr(){return Kr=P(I().mark((function e(t,n){var r,i,a=arguments;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Rn,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Br._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Kr.apply(this,arguments)}function $r(e,t){return Qr.apply(this,arguments)}function Qr(){return Qr=P(I().mark((function e(t,n){var r,i,a,o,s,u,c=arguments;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,Rn(t,Wr(i,a,n,t),r);case 6:return Yt((o=e.sent).idToken,i,"internal-error"),Yt(s=In(o.idToken),i,"internal-error"),u=s.sub,Yt(t.uid===u,i,"user-mismatch"),e.abrupt("return",Br._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&Gt(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Qr.apply(this,arguments)}function Yr(e,t){return Xr.apply(this,arguments)}function Xr(){return Xr=P(I().mark((function e(t,n){var r,i,a,o,s=arguments;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,Wr(t,i,n);case 4:return a=e.sent,e.next=7,Br._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Xr.apply(this,arguments)}function Jr(e,t){return Zr.apply(this,arguments)}function Zr(){return(Zr=P(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yr(cr(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ei(e,t,n){return Jr(Te(e),Fr.credential(t,n))}function ti(e,t,n,r){return Te(e).onIdTokenChanged(t,n,r)}function ni(e,t,n){return Te(e).beforeAuthStateChanged(t,n)}function ri(e,t){return hn(e,"POST","/v2/accounts/mfaEnrollment:start",fn(e,t))}new WeakMap;var ii="__sak",ai=function(){function e(t,n){p(this,e),this.storageRetriever=t,this.type=n}return g(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(ii,"1"),this.storage.removeItem(ii),Promise.resolve(!0)):Promise.resolve(!1)}catch(x_){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var oi=function(e){k(n,e);var t=_(n);function n(){var e;return p(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=X();return Yn(e)||nr(e)}()&&function(){try{return!(!window||window===window.top)}catch(zT){return!1}}(),e.fallbackToPolling=ar(),e._shouldAllowMigration=!0,e}return g(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);ir()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=P(I().mark((function e(t,r){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(i(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=P(I().mark((function e(t){var r;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(i(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=P(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(i(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(ai);oi.type="LOCAL";var si=oi,ui=function(e){k(n,e);var t=_(n);function n(){return p(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return g(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(ai);ui.type="SESSION";var ci=ui;function li(e){return Promise.all(e.map(function(){var e=P(I().mark((function e(t){var n;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var fi=function(){function e(t){p(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return g(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=P(I().mark((function e(t){var n,r,i,a,o,s,u,c;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=P(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,li(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function hi(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}fi.receivers=[];var di=function(){function e(t){p(this,e),this.target=t,this.handlers=new Set}return g(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=P(I().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=hi("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function pi(){return window}function vi(){return"undefined"!==typeof pi().WorkerGlobalScope&&"function"===typeof pi().importScripts}function mi(){return yi.apply(this,arguments)}function yi(){return(yi=P(I().mark((function e(){var t;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function gi(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var bi="firebaseLocalStorageDb",ki="firebaseLocalStorage",wi="fbase_key",_i=function(){function e(t){p(this,e),this.request=t}return g(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function xi(e,t){return e.transaction([ki],t?"readwrite":"readonly").objectStore(ki)}function Ci(){var e=indexedDB.deleteDatabase(bi);return new _i(e).toPromise()}function Si(){var e=indexedDB.open(bi,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(ki,{keyPath:wi})}catch(zT){n(zT)}})),e.addEventListener("success",P(I().mark((function n(){var r;return I().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(ki)){n.next=12;break}return r.close(),n.next=5,Ci();case 5:return n.t0=t,n.next=8,Si();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Ei(e,t,n){return Ti.apply(this,arguments)}function Ti(){return Ti=P(I().mark((function e(t,n,r){var i,a;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=xi(t,!0).put((O(i={},wi,n),O(i,"value",r),i)),e.abrupt("return",new _i(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),Ti.apply(this,arguments)}function Ii(e,t){return Ri.apply(this,arguments)}function Ri(){return Ri=P(I().mark((function e(t,n){var r,i;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xi(t,!1).get(n),e.next=3,new _i(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Ri.apply(this,arguments)}function Pi(e,t){var n=xi(e,!0).delete(t);return new _i(n).toPromise()}var Oi=function(){function e(){p(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return g(e,[{key:"_openDb",value:function(){var e=P(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Si();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=P(I().mark((function e(t){var n,r;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=P(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vi()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=P(I().mark((function e(){var t=this;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=fi._getInstance(vi()?self:null),this.receiver._subscribe("keyChanged",function(){var e=P(I().mark((function e(n,r){var i;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=P(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=P(I().mark((function e(){var t,n,r;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mi();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new di(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=P(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&gi()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=P(I().mark((function e(){var t;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Si();case 5:return t=e.sent,e.next=8,Ei(t,ii,"1");case 8:return e.next=10,Pi(t,ii);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=P(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=P(I().mark((function e(t,n){var r=this;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(P(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Ei(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=P(I().mark((function e(t){var n;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Ii(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=P(I().mark((function e(t){var n=this;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(P(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Pi(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=P(I().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=xi(e,!1).getAll();return new _i(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=T(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(P(I().mark((function t(){return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Oi.type="LOCAL";var Ni=Oi;function Ai(e,t){return hn(e,"POST","/v2/accounts/mfaSignIn:start",fn(e,t))}function Di(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Kt("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Fi(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}Fi("rcb"),new on(3e4,6e4);var ji="recaptcha";function Li(e,t,n){return Mi.apply(this,arguments)}function Mi(){return Mi=P(I().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Yt("string"===typeof a,t,"argument-error"),Yt(r.type===ji,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return Yt("enroll"===s.type,t,"internal-error"),e.next=13,ri(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return Yt("signin"===s.type,t,"internal-error"),Yt(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Ai(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Tr(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Mi.apply(this,arguments)}var Ui=function(){function e(t){p(this,e),this.providerId=e.PROVIDER_ID,this.auth=cr(t)}return g(e,[{key:"verifyPhoneNumber",value:function(e,t){return Li(this.auth,e,Te(t))}}],[{key:"credential",value:function(e,t){return Ar._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Ar._fromTokenResponse(n,r):null}}]),e}();function Vi(e,t){return t?en(t):(Yt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Ui.PROVIDER_ID="phone",Ui.PHONE_SIGN_IN_METHOD="phone";var zi=function(e){k(n,e);var t=_(n);function n(e){var r;return p(this,n),(r=t.call(this,"custom","custom")).params=e,r}return g(n,[{key:"_getIdTokenResponse",value:function(e){return Cr(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Cr(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Cr(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(pr);function Bi(e){return Yr(e.auth,new zi(e),e.bypassAuthState)}function qi(e){var t=e.auth,n=e.user;return Yt(n,t,"internal-error"),$r(n,new zi(e),e.bypassAuthState)}function Hi(e){return Wi.apply(this,arguments)}function Wi(){return(Wi=P(I().mark((function e(t){var n,r;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Yt(r=t.user,n,"internal-error"),e.abrupt("return",Gr(r,new zi(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Gi=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];p(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return g(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=P(I().mark((function t(n,r){return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=P(I().mark((function e(t){var n,r,i,a,o,s,u;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Bi;case"linkViaPopup":case"linkViaRedirect":return Hi;case"reauthViaPopup":case"reauthViaRedirect":return qi;default:Gt(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Jt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Jt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Ki=new on(2e3,1e4);var $i=function(e){k(n,e);var t=_(n);function n(e,r,i,a,o){var s;return p(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=b(s),s}return g(n,[{key:"executeNotNull",value:function(){var e=P(I().mark((function e(){var t;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Yt(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=P(I().mark((function e(){var t,n=this;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Jt(1===this.filter.length,"Popup operations only handle one event"),t=hi(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Kt(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Kt(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Kt(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,Ki.get())}()}}]),n}(Gi);$i.currentPopupAction=null;var Qi=new Map,Yi=function(e){k(n,e);var t=_(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return p(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return g(n,[{key:"execute",value:function(){var e=P(I().mark((function e(){var t,r;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Qi.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Xi(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,E(i(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Qi.set(this.auth._key(),t);case 21:return this.bypassAuthState||Qi.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=P(I().mark((function e(t){var r;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",E(i(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",E(i(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=P(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Gi);function Xi(e,t){return Ji.apply(this,arguments)}function Ji(){return(Ji=P(I().mark((function e(t,n){var r,i,a;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ta(n),i=ea(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zi(e,t){Qi.set(e._key(),t)}function ea(e){return en(e._redirectPersistence)}function ta(e){return Gn("pendingRedirect",e.config.apiKey,e.name)}function na(e,t){return ra.apply(this,arguments)}function ra(){return ra=P(I().mark((function e(t,n){var r,i,a,o,s,u=arguments;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=cr(t),a=Vi(i,n),o=new Yi(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),ra.apply(this,arguments)}var ia=function(){function e(t){p(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return g(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oa(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!oa(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Kt(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(aa(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(aa(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function aa(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function oa(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function sa(e){return ua.apply(this,arguments)}function ua(){return ua=P(I().mark((function e(t){var n,r=arguments;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",hn(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),ua.apply(this,arguments)}var ca=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,la=/^https?/;function fa(){return(fa=P(I().mark((function e(t){var n,r,i,a,o;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,sa(t);case 4:n=e.sent,r=n.authorizedDomains,i=T(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!ha(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Gt(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function ha(e){var t=nn(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!la.test(r))return!1;if(ca.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var da=new on(3e4,6e4);function pa(){var e=pi().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=C(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var va=null;function ma(e){return va=va||function(e){return new Promise((function(t,n){var r,i,a;function o(){pa(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){pa(),n(Kt(e,"network-request-failed"))},timeout:da.get()})}if(null===(i=null===(r=pi().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=pi().gapi)||void 0===a?void 0:a.load)){var s=Fi("iframefcb");return pi()[s]=function(){gapi.load?o():n(Kt(e,"network-request-failed"))},Di("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw va=null,e}))}(e),va}var ya=new on(5e3,15e3),ga={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ba=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ka(e){var t=e.config;Yt(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?sn(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:wt},i=ba.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(ye(r).slice(1))}function wa(e){return _a.apply(this,arguments)}function _a(){return _a=P(I().mark((function e(t){var n,r;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ma(t);case 2:return n=e.sent,Yt(r=pi().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:ka(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ga,dontclear:!0},(function(e){return new Promise(function(){var n=P(I().mark((function n(r,i){var a,o,s;return I().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){pi().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Kt(t,"network-request-failed"),o=pi().setTimeout((function(){i(a)}),ya.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),_a.apply(this,arguments)}var xa={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ca="_blank",Sa="http://localhost",Ea=function(){function e(t){p(this,e),this.window=t,this.associatedEvent=null}return g(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(zT){}}}]),e}();function Ta(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},xa),{width:r.toString(),height:i.toString(),top:a,left:o}),c=X().toLowerCase();n&&(s=Xn(c)?Ca:n),Qn(c)&&(t=t||Sa,u.scrollbars="yes");var l=Object.entries(u).reduce((function(e,t){var n=d(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(rr(c)&&"_self"!==s)return Ia(t||"",s),new Ea(null);var f=window.open(t||"",s,l);Yt(f,e,"popup-blocked");try{f.focus()}catch(zT){}return new Ea(f)}function Ia(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Ra="__/auth/handler",Pa="emulator/auth/handler";function Oa(e,t,n,r,i,a){Yt(e.config.authDomain,e,"auth-domain-config-required"),Yt(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:wt,eventId:i};if(t instanceof jr){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",de(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,u=Object.entries(a||{});s<u.length;s++){var c=d(u[s],2),l=c[0],f=c[1];o[l]=f}}if(t instanceof Lr){var h=t.getScopes().filter((function(e){return""!==e}));h.length>0&&(o.scopes=h.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Ra);return sn(t,Pa)}(e),"?").concat(ye(p).slice(1))}var Na="webStorageSupport",Aa=function(){function e(){p(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ci,this._completeRedirectFn=na,this._overrideRedirectResult=Zi}return g(e,[{key:"_openPopup",value:function(){var e=P(I().mark((function e(t,n,r,i){var a,o;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Jt(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=Oa(t,n,r,nn(),i),e.abrupt("return",Ta(t,o,hi()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=P(I().mark((function e(t,n,r,i){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=Oa(t,n,r,nn(),i),pi().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Jt(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=P(I().mark((function e(t){var n,r;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wa(t);case 2:return n=e.sent,r=new ia(t),n.register("authEvent",(function(e){return Yt(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Na,{type:Na},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Na];void 0!==i&&t(!!i),Gt(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return fa.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return ar()||Yn()||nr()}}]),e}(),Da=Aa,Fa=function(e){k(n,e);var t=_(n);function n(e){var r;return p(this,n),(r=t.call(this,"phone")).credential=e,r}return g(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return hn(e,"POST","/v2/accounts/mfaEnrollment:finalize",fn(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return hn(e,"POST","/v2/accounts/mfaSignIn:finalize",fn(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(function(){function e(t){p(this,e),this.factorId=t}return g(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Xt("unexpected MultiFactorSessionType")}}}]),e}());(function(){function e(){p(this,e)}return g(e,null,[{key:"assertion",value:function(e){return Fa._fromCredential(e)}}]),e}()).FACTOR_ID="phone";var ja="@firebase/auth",La="0.21.1",Ma=function(){function e(t){p(this,e),this.auth=t,this.internalListeners=new Map}return g(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=P(I().mark((function e(t){var n;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Yt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var Ua,Va=$("authIdTokenMaxAge")||300,za=null,Ba=function(e){return function(){var t=P(I().mark((function t(n){var r,i,a;return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=n,!t.t0){t.next=5;break}return t.next=4,n.getIdTokenResult();case 4:t.t0=t.sent;case 5:if(r=t.t0,!((i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3)&&i>Va)){t.next=9;break}return t.abrupt("return");case 9:if(a=null===r||void 0===r?void 0:r.token,za!==a){t.next=12;break}return t.abrupt("return");case 12:return za=a,t.next=15,fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:"Bearer ".concat(a)}:{}});case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};function qa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xt(),t=yt(e,"auth");if(t.isInitialized())return t.getImmediate();var n=tn(e,{popupRedirectResolver:Da,persistence:[Ni,si,ci]}),r=$("authTokenSyncURL");if(r){var i=Ba(r);ni(n,i,(function(){return i(n.currentUser)})),ti(n,(function(e){return i(e)}))}var a=G("auth");return a&&fr(n,"http://".concat(a)),n}Ua="Browser",mt(new Ie("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,s=a.authDomain;return function(e,t){Yt(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),Yt(!(null===s||void 0===s?void 0:s.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:s,clientPlatform:Ua,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:or(Ua)},i=new ur(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(en);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),mt(new Ie("auth-internal",(function(e){return function(e){return new Ma(e)}(cr(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Ct(ja,La,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Ua)),Ct(ja,La,"esm2017");var Ha="@firebase/database",Wa="0.14.1",Ga="";var Ka=function(){function e(t){p(this,e),this.domStorage_=t,this.prefix_="firebase:"}return g(e,[{key:"set",value:function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),ce(t))}},{key:"get",value:function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:ue(t)}},{key:"remove",value:function(e){this.domStorage_.removeItem(this.prefixedName_(e))}},{key:"prefixedName_",value:function(e){return this.prefix_+e}},{key:"toString",value:function(){return this.domStorage_.toString()}}]),e}(),$a=function(){function e(){p(this,e),this.cache_={},this.isInMemoryStorage=!0}return g(e,[{key:"set",value:function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}},{key:"get",value:function(e){return fe(this.cache_,e)?this.cache_[e]:null}},{key:"remove",value:function(e){delete this.cache_[e]}}]),e}(),Qa=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Ka(t)}}catch(zT){}return new $a},Ya=Qa("localStorage"),Xa=Qa("sessionStorage"),Ja=new Ue("@firebase/database"),Za=function(){var e=1;return function(){return e++}}(),eo=function(e){var t=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,F(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new ke;n.update(t);var r=n.digest();return M.encodeByteArray(r)},to=function e(){for(var t="",n=0;n<arguments.length;n++){var r=n<0||arguments.length<=n?void 0:arguments[n];Array.isArray(r)||r&&"object"===typeof r&&"number"===typeof r.length?t+=e.apply(null,r):t+="object"===typeof r?ce(r):r,t+=" "}return t},no=null,ro=!0,io=function(e,t){F(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(Ja.logLevel=Ne.VERBOSE,no=Ja.log.bind(Ja),t&&Xa.set("logging_enabled",!0)):"function"===typeof e?no=e:(no=null,Xa.remove("logging_enabled"))},ao=function(){if(!0===ro&&(ro=!1,null===no&&!0===Xa.get("logging_enabled")&&io(!0)),no){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=to.apply(null,t);no(r)}},oo=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];ao.apply(void 0,[e].concat(n))}},so=function(){var e="FIREBASE INTERNAL ERROR: "+to.apply(void 0,arguments);Ja.error(e)},uo=function(){var e="FIREBASE FATAL ERROR: ".concat(to.apply(void 0,arguments));throw Ja.error(e),new Error(e)},co=function(){var e="FIREBASE WARNING: "+to.apply(void 0,arguments);Ja.warn(e)},lo=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},fo="[MIN_NAME]",ho="[MAX_NAME]",po=function(e,t){if(e===t)return 0;if(e===fo||t===ho)return-1;if(t===fo||e===ho)return 1;var n=_o(e),r=_o(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},vo=function(e,t){return e===t?0:e<t?-1:1},mo=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+ce(t))},yo=function e(t){if("object"!==typeof t||null===t)return ce(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=ce(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},go=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function bo(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var ko=function(e){F(!lo(e),"Invalid JSON number");var t,n,r,i,a,o=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),o))+o,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var s=[];for(a=52;a;a-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(t?1:0),s.reverse();var u=s.join(""),c="";for(a=0;a<64;a+=8){var l=parseInt(u.substr(a,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()};var wo=new RegExp("^-?(0*)\\d{1,10}$"),_o=function(e){if(wo.test(e)){var t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},xo=function(e){try{e()}catch(zT){setTimeout((function(){var t=zT.stack||"";throw co("Exception was thrown by user callback.",t),zT}),Math.floor(0))}},Co=function(e,t){var n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n},So=function(){function e(t,n){var r=this;p(this,e),this.appName_=t,this.appCheckProvider=n,this.appCheck=null===n||void 0===n?void 0:n.getImmediate({optional:!0}),this.appCheck||null===n||void 0===n||n.get().then((function(e){return r.appCheck=e}))}return g(e,[{key:"getToken",value:function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){co('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}]),e}(),Eo=function(){function e(t,n,r){var i=this;p(this,e),this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit((function(e){return i.auth_=e}))}return g(e,[{key:"getToken",value:function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(ao("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))}},{key:"removeTokenChangeListener",value:function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',co(e)}}]),e}(),To=function(){function e(t){p(this,e),this.accessToken=t}return g(e,[{key:"getToken",value:function(e){return Promise.resolve({accessToken:this.accessToken})}},{key:"addTokenChangeListener",value:function(e){e(this.accessToken)}},{key:"removeTokenChangeListener",value:function(e){}},{key:"notifyForInvalidToken",value:function(){}}]),e}();To.OWNER="owner";var Io="5",Ro=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Po="ac",Oo="websocket",No="long_polling",Ao=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6];p(this,e),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ya.get("host:"+t)||this._host}return g(e,[{key:"isCacheableHost",value:function(){return"s-"===this.internalHost.substr(0,2)}},{key:"isCustomHost",value:function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}},{key:"host",get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ya.set("host:"+this._host,this.internalHost))}},{key:"toString",value:function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}},{key:"toURLString",value:function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}]),e}();function Do(e,t,n){var r;if(F("string"===typeof t,"typeof type must == string"),F("object"===typeof n,"typeof params must == object"),t===Oo)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==No)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return bo(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var Fo=function(){function e(){p(this,e),this.counters_={}}return g(e,[{key:"incrementCounter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;fe(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}},{key:"get",value:function(){return B(this.counters_)}}]),e}(),jo={},Lo={};function Mo(e){var t=e.toString();return jo[t]||(jo[t]=new Fo),jo[t]}var Uo=function(){function e(t){p(this,e),this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return g(e,[{key:"closeAfter",value:function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}},{key:"handleResponse",value:function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=n.pendingResponses[n.currentResponseNum];delete n.pendingResponses[n.currentResponseNum];for(var t=function(t){e[t]&&xo((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(n.currentResponseNum===n.closeAfterResponse)return n.onClose&&(n.onClose(),n.onClose=null),"break";n.currentResponseNum++};this.pendingResponses[this.currentResponseNum];){if("break"===r())break}}}]),e}(),Vo="start",zo="close",Bo=function(){function e(t,n,r,i,a,o,s){var u=this;p(this,e),this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=oo(t),this.stats_=Mo(n),this.urlFn=function(e){return u.appCheckToken&&(e[Po]=u.appCheckToken),Do(n,No,e)}}return g(e,[{key:"open",value:function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Uo(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(te()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new qo((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1],o=t[2];t[3],t[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===Vo)n.id=a,n.password=o;else{if(i!==zo)throw new Error("Unrecognized command received: "+i);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,a)}),(function(){n.onClosed_()}),n.urlFn);var e={};e[Vo]="t",e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=Io,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e[Po]=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&Ro.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))}},{key:"start",value:function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}},{key:"markConnectionHealthy",value:function(){}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}},{key:"send",value:function(e){var t=ce(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=U(t),r=go(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}},{key:"addDisconnectPingFrame",value:function(e,t){if(!te()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}}},{key:"incrementIncomingBytes_",value:function(e){var t=ce(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}],[{key:"forceAllow",value:function(){e.forceAllow_=!0}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){return!te()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}}]),e}(),qo=function(){function e(t,n,r,i){if(p(this,e),this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,te())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=Za(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))a='<script>document.domain="'+document.domain+'";<\/script>';var o="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(zT){ao("frame writing exception"),zT.stack&&ao(zT.stack),ao(zT)}}}return g(e,[{key:"close",value:function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())}},{key:"startLongPoll",value:function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}},{key:"newRequest_",value:function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}},{key:"enqueueSegment",value:function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}},{key:"addLongPollTag_",value:function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))}},{key:"addTag",value:function(e,t){var n=this;te()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){ao("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(zT){}}),Math.floor(1))}}],[{key:"createIFrame_",value:function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||ao("No IE domain setting required")}catch(zT){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}}]),e}(),Ho=null;"undefined"!==typeof MozWebSocket?Ho=MozWebSocket:"undefined"!==typeof WebSocket&&(Ho=WebSocket);var Wo=function(){function e(t,n,r,i,a,o,s){p(this,e),this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=oo(this.connId),this.stats_=Mo(n),this.connURL=e.connectionURL_(n,o,s,i,r),this.nodeAdmin=n.nodeAdmin}return g(e,[{key:"open",value:function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ya.set("previous_websocket_failure",!0);try{var r;if(te()){var i=this.nodeAdmin?"AdminNode":"Node";r={headers:{"User-Agent":"Firebase/".concat(Io,"/").concat(Ga,"/").concat(process.platform,"/").concat(i),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);var a={NODE_ENV:"production",PUBLIC_URL:"/latrik.ris.interface",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},o=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;o&&(r.proxy={origin:o})}this.mySock=new Ho(this.connURL,[],r)}catch(zT){this.log_("Error instantiating WebSocket.");var s=zT.message||zT.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}}},{key:"start",value:function(){}},{key:"markConnectionHealthy",value:function(){Ya.remove("previous_websocket_failure")}},{key:"appendFrame_",value:function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=ue(t);this.onMessage(n)}}},{key:"handleNewFrameCount_",value:function(e){this.totalFrames=e,this.frames=[]}},{key:"extractFrameCount_",value:function(e){if(F(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}},{key:"handleIncomingFrame",value:function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}}},{key:"send",value:function(e){this.resetKeepAlive();var t=ce(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=go(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}},{key:"resetKeepAlive",value:function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))}},{key:"sendString_",value:function(e){try{this.mySock.send(e)}catch(zT){this.log_("Exception thrown from WebSocket.send():",zT.message||zT.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}],[{key:"connectionURL_",value:function(e,t,n,r,i){var a={};return a.v=Io,!te()&&"undefined"!==typeof location&&location.hostname&&Ro.test(location.hostname)&&(a.r="f"),t&&(a.s=t),n&&(a.ls=n),r&&(a[Po]=r),i&&(a.p=i),Do(e,Oo,a)}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==Ho&&!e.forceDisallow_}},{key:"previouslyFailed",value:function(){return Ya.isInMemoryStorage||!0===Ya.get("previous_websocket_failure")}}]),e}();Wo.responsesRequiredToBeHealthy=2,Wo.healthyTimeout=3e4;var Go=function(){function e(t){p(this,e),this.initTransports_(t)}return g(e,[{key:"initTransports_",value:function(t){var n=Wo&&Wo.isAvailable(),r=n&&!Wo.previouslyFailed();if(t.webSocketOnly&&(n||co("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Wo];else{var i,a=this.transports_=[],o=T(e.ALL_TRANSPORTS);try{for(o.s();!(i=o.n()).done;){var s=i.value;s&&s.isAvailable()&&a.push(s)}}catch(u){o.e(u)}finally{o.f()}e.globalTransportInitialized_=!0}}},{key:"initialTransport",value:function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}},{key:"upgradeTransport",value:function(){return this.transports_.length>1?this.transports_[1]:null}}],[{key:"ALL_TRANSPORTS",get:function(){return[Bo,Wo]}},{key:"IS_TRANSPORT_INITIALIZED",get:function(){return this.globalTransportInitialized_}}]),e}();Go.globalTransportInitialized_=!1;var Ko=function(){function e(t,n,r,i,a,o,s,u,c,l){p(this,e),this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=u,this.onKill_=c,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=oo("c:"+this.id+":"),this.transportManager_=new Go(n),this.log_("Connection created"),this.start_()}return g(e,[{key:"start_",value:function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=Co((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))}},{key:"nextTransportId_",value:function(){return"c:"+this.id+":"+this.connectionCount++}},{key:"disconnReceiver_",value:function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}}},{key:"connReceiver_",value:function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}}},{key:"sendRequest",value:function(e){var t={t:"d",d:e};this.sendData_(t)}},{key:"tryCleanupConnection",value:function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}},{key:"onSecondaryControl_",value:function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}},{key:"onSecondaryMessageReceived_",value:function(e){var t=mo("t",e),n=mo("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}},{key:"upgradeIfSecondaryHealthy_",value:function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}},{key:"proceedWithUpgrade_",value:function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}},{key:"onPrimaryMessageReceived_",value:function(e){var t=mo("t",e),n=mo("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}},{key:"onDataMessage_",value:function(e){this.onPrimaryResponse_(),this.onMessage_(e)}},{key:"onPrimaryResponse_",value:function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}},{key:"onControl_",value:function(e){var t=mo("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?so("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):so("Unknown control packet command: "+t)}}},{key:"onHandshake_",value:function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),Io!==n&&co("Protocol version mismatch detected"),this.tryStartUpgrade_())}},{key:"tryStartUpgrade_",value:function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}},{key:"startUpgrade_",value:function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Co((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))}},{key:"onReset_",value:function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}},{key:"onConnectionEstablished_",value:function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Co((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}},{key:"sendPingOnPrimaryIfNecessary_",value:function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}},{key:"onSecondaryConnectionLost_",value:function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}},{key:"onConnectionLost_",value:function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ya.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}},{key:"onConnectionShutdown_",value:function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}},{key:"sendData_",value:function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}},{key:"close",value:function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}},{key:"closeConnections_",value:function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}]),e}(),$o=function(){function e(){p(this,e)}return g(e,[{key:"put",value:function(e,t,n,r){}},{key:"merge",value:function(e,t,n,r){}},{key:"refreshAuthToken",value:function(e){}},{key:"refreshAppCheckToken",value:function(e){}},{key:"onDisconnectPut",value:function(e,t,n){}},{key:"onDisconnectMerge",value:function(e,t,n){}},{key:"onDisconnectCancel",value:function(e,t){}},{key:"reportStats",value:function(e){}}]),e}(),Qo=function(){function e(t){p(this,e),this.allowedEvents_=t,this.listeners_={},F(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return g(e,[{key:"trigger",value:function(e){if(Array.isArray(this.listeners_[e])){for(var t=C(this.listeners_[e]),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0;a<t.length;a++)t[a].callback.apply(t[a].context,r)}}},{key:"on",value:function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)}},{key:"off",value:function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}},{key:"validateEventType_",value:function(e){F(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)}}]),e}(),Yo=function(e){k(n,e);var t=_(n);function n(){var e;return p(this,n),(e=t.call(this,["online"])).online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||J()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return g(n,[{key:"getInitialEvent",value:function(e){return F("online"===e,"Unknown event type: "+e),[this.online_]}},{key:"currentlyOnline",value:function(){return this.online_}}],[{key:"getInstance",value:function(){return new n}}]),n}(Qo),Xo=function(){function e(t,n){if(p(this,e),void 0===n){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return g(e,[{key:"toString",value:function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}]),e}();function Jo(){return new Xo("")}function Zo(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function es(e){return e.pieces_.length-e.pieceNum_}function ts(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new Xo(e.pieces_,t)}function ns(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function rs(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function is(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Xo(t,0)}function as(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Xo)for(var i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else for(var a=t.split("/"),o=0;o<a.length;o++)a[o].length>0&&n.push(a[o]);return new Xo(n,0)}function os(e){return e.pieceNum_>=e.pieces_.length}function ss(e,t){var n=Zo(e),r=Zo(t);if(null===n)return t;if(n===r)return ss(ts(e),ts(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function us(e,t){if(es(e)!==es(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function cs(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(es(e)>es(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var ls=g((function e(t,n){p(this,e),this.errorPrefix_=n,this.parts_=rs(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=Ce(this.parts_[r]);fs(this)}));function fs(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+hs(e))}function hs(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var ds=function(e){k(n,e);var t=_(n);function n(){var e,r,i;return p(this,n),e=t.call(this,["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(i="visibilitychange",r="hidden"):"undefined"!==typeof document.mozHidden?(i="mozvisibilitychange",r="mozHidden"):"undefined"!==typeof document.msHidden?(i="msvisibilitychange",r="msHidden"):"undefined"!==typeof document.webkitHidden&&(i="webkitvisibilitychange",r="webkitHidden")),e.visible_=!0,i&&document.addEventListener(i,(function(){var t=!document[r];t!==e.visible_&&(e.visible_=t,e.trigger("visible",t))}),!1),e}return g(n,[{key:"getInitialEvent",value:function(e){return F("visible"===e,"Unknown event type: "+e),[this.visible_]}}],[{key:"getInstance",value:function(){return new n}}]),n}(Qo),ps=1e3,vs=function(e){k(n,e);var t=_(n);function n(e,r,i,a,o,s,u,c){var l;if(p(this,n),(l=t.call(this)).repoInfo_=e,l.applicationId_=r,l.onDataUpdate_=i,l.onConnectStatus_=a,l.onServerInfoUpdate_=o,l.authTokenProvider_=s,l.appCheckTokenProvider_=u,l.authOverride_=c,l.id=n.nextPersistentConnectionId_++,l.log_=oo("p:"+l.id+":"),l.interruptReasons_={},l.listens=new Map,l.outstandingPuts_=[],l.outstandingGets_=[],l.outstandingPutCount_=0,l.outstandingGetCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=ps,l.maxReconnectDelay_=3e5,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.appCheckToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.invalidAppCheckTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,c&&!te())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return ds.getInstance().on("visible",l.onVisible_,b(l)),-1===e.host.indexOf("fblocal")&&Yo.getInstance().on("online",l.onOnline_,b(l)),l}return g(n,[{key:"sendRequest",value:function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(ce(i)),F(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}},{key:"get",value:function(e){this.initConnection_();var t=new Q,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:function(e){var n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;var r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}},{key:"listen",value:function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),F(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),F(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,o),this.connected_&&this.sendListen_(o)}},{key:"sendGet_",value:function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))}},{key:"sendListen_",value:function(e){var t=this,r=e.query,i=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+i+" for "+a);var o={p:i};e.tag&&(o.q=r._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,(function(o){var s=o.d,u=o.s;n.warnOnListenWarnings_(s,r),(t.listens.get(i)&&t.listens.get(i).get(a))===e&&(t.log_("listen response",o),"ok"!==u&&t.removeListen_(i,a),e.onComplete&&e.onComplete(u,s))}))}},{key:"refreshAuthToken",value:function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)}},{key:"reduceReconnectDelayIfAdminCredential_",value:function(e){(e&&40===e.length||function(e){var t=le(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}},{key:"refreshAppCheckToken",value:function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))}},{key:"tryAuth",value:function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=function(e){var t=le(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}}},{key:"tryAppCheck",value:function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))}},{key:"unlisten",value:function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),F(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}},{key:"sendUnlisten_",value:function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}},{key:"onDisconnectPut",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}},{key:"onDisconnectMerge",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}},{key:"onDisconnectCancel",value:function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}},{key:"sendOnDisconnect_",value:function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))}},{key:"put",value:function(e,t,n,r){this.putInternal("p",e,t,n,r)}},{key:"merge",value:function(e,t,n,r){this.putInternal("m",e,t,n,r)}},{key:"putInternal",value:function(e,t,n,r,i){this.initConnection_();var a={p:t,d:n};void 0!==i&&(a.h=i),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;var o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}},{key:"sendPut_",value:function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))}},{key:"reportStats",value:function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}}},{key:"onDataMessage_",value:function(e){if("r"in e){this.log_("from server: "+ce(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}},{key:"onDataPush_",value:function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):so("Unrecognized action received from server: "+ce(e)+"\nAre you using the latest client?")}},{key:"onReady_",value:function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}},{key:"scheduleConnect_",value:function(e){var t=this;F(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))}},{key:"initConnection_",value:function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}},{key:"onVisible_",value:function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ps,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}},{key:"onOnline_",value:function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=ps,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}},{key:"onRealtimeDisconnect_",value:function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=ps),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}},{key:"establishConnection_",value:function(){var e=P(I().mark((function e(){var t,r,i,a,o,s,u,c,l,f,h,p,v,m,y=this;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldReconnect_()){e.next=30;break}return this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+n.nextConnectionId_++,o=this.lastSessionId,s=!1,u=null,c=function(){u?u.close():(s=!0,i())},l=function(e){F(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(e)},this.realtime_={close:c,sendRequest:l},f=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,e.prev=16,e.next=19,Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)]);case 19:h=e.sent,p=d(h,2),v=p[0],m=p[1],s?ao("getToken() completed but was canceled"):(ao("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=m&&m.token,u=new Ko(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,i,(function(e){co(e+" ("+y.repoInfo_.toString()+")"),y.interrupt("server_kill")}),o)),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(16),this.log_("Failed to get token: "+e.t0),s||(this.repoInfo_.nodeAdmin&&co(e.t0),c());case 30:case"end":return e.stop()}}),e,this,[[16,26]])})));return function(){return e.apply(this,arguments)}}()},{key:"interrupt",value:function(e){ao("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}},{key:"resume",value:function(e){ao("Resuming connection for reason: "+e),delete this.interruptReasons_[e],de(this.interruptReasons_)&&(this.reconnectDelay_=ps,this.realtime_||this.scheduleConnect_(0))}},{key:"handleTimestamp_",value:function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}},{key:"cancelSentTransactions_",value:function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}},{key:"onListenRevoked_",value:function(e,t){var n;n=t?t.map((function(e){return yo(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}},{key:"removeListen_",value:function(e,t){var n,r=new Xo(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n}},{key:"onAuthRevoked_",value:function(e,t){ao("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}},{key:"onAppCheckRevoked_",value:function(e,t){ao("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}},{key:"onSecurityDebugPacket_",value:function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}},{key:"restoreState_",value:function(){this.tryAuth(),this.tryAppCheck();var e,t=T(this.listens.values());try{for(t.s();!(e=t.n()).done;){var n,r=T(e.value.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;this.sendListen_(i)}}catch(u){r.e(u)}finally{r.f()}}}catch(u){t.e(u)}finally{t.f()}for(var a=0;a<this.outstandingPuts_.length;a++)this.outstandingPuts_[a]&&this.sendPut_(a);for(;this.onDisconnectRequestQueue_.length;){var o=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(o.action,o.pathString,o.data,o.onComplete)}for(var s=0;s<this.outstandingGets_.length;s++)this.outstandingGets_[s]&&this.sendGet_(s)}},{key:"sendConnectStats_",value:function(){var e={},t="js";te()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+Ga.replace(/\./g,"-")]=1,J()?e["framework.cordova"]=1:ee()&&(e["framework.reactnative"]=1),this.reportStats(e)}},{key:"shouldReconnect_",value:function(){var e=Yo.getInstance().currentlyOnline();return de(this.interruptReasons_)&&e}}],[{key:"warnOnListenWarnings_",value:function(e,t){if(e&&"object"===typeof e&&fe(e,"w")){var n=he(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();co("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(r," at ")+"".concat(i," to your security rules for better performance."))}}}}]),n}($o);vs.nextPersistentConnectionId_=0,vs.nextConnectionId_=0;var ms,ys=function(){function e(t,n){p(this,e),this.name=t,this.node=n}return g(e,null,[{key:"Wrap",value:function(t,n){return new e(t,n)}}]),e}(),gs=function(){function e(){p(this,e)}return g(e,[{key:"getCompare",value:function(){return this.compare.bind(this)}},{key:"indexedValueChanged",value:function(e,t){var n=new ys(fo,e),r=new ys(fo,t);return 0!==this.compare(n,r)}},{key:"minPost",value:function(){return ys.MIN}}]),e}(),bs=function(e){k(n,e);var t=_(n);function n(){return p(this,n),t.apply(this,arguments)}return g(n,[{key:"compare",value:function(e,t){return po(e.name,t.name)}},{key:"isDefinedOn",value:function(e){throw j("KeyIndex.isDefinedOn not expected to be called.")}},{key:"indexedValueChanged",value:function(e,t){return!1}},{key:"minPost",value:function(){return ys.MIN}},{key:"maxPost",value:function(){return new ys(ho,ms)}},{key:"makePost",value:function(e,t){return F("string"===typeof e,"KeyIndex indexValue must always be a string."),new ys(e,ms)}},{key:"toString",value:function(){return".key"}}],[{key:"__EMPTY_NODE",get:function(){return ms},set:function(e){ms=e}}]),n}(gs),ks=new bs,ws=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;p(this,e),this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(o=n?r(t.key,n):1,i&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return g(e,[{key:"getNext",value:function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}},{key:"hasNext",value:function(){return this.nodeStack_.length>0}},{key:"peek",value:function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}]),e}(),_s=function(){function e(t,n,r,i,a){p(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:Ss.EMPTY_NODE,this.right=null!=a?a:Ss.EMPTY_NODE}return g(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"count",value:function(){return this.left.count()+1+this.right.count()}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min_",value:function(){return this.left.isEmpty()?this:this.left.min_()}},{key:"minKey",value:function(){return this.min_().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()}},{key:"removeMin_",value:function(){if(this.left.isEmpty())return Ss.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()}},{key:"remove",value:function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Ss.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}},{key:"isRed_",value:function(){return this.color}},{key:"fixUp_",value:function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}},{key:"moveRedLeft_",value:function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e}},{key:"moveRedRight_",value:function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e}},{key:"rotateLeft_",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight_",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip_",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth_",value:function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1}},{key:"check_",value:function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}]),e}();_s.RED=!0,_s.BLACK=!1;var xs,Cs=function(){function e(){p(this,e)}return g(e,[{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new _s(e,t,null)}},{key:"remove",value:function(e,t){return this}},{key:"count",value:function(){return 0}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"check_",value:function(){return 0}},{key:"isRed_",value:function(){return!1}}]),e}(),Ss=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.EMPTY_NODE;p(this,e),this.comparator_=t,this.root_=n}return g(e,[{key:"insert",value:function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,_s.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,_s.BLACK,null,null))}},{key:"get",value:function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}},{key:"getPredecessorKey",value:function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}},{key:"isEmpty",value:function(){return this.root_.isEmpty()}},{key:"count",value:function(){return this.root_.count()}},{key:"minKey",value:function(){return this.root_.minKey()}},{key:"maxKey",value:function(){return this.root_.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root_.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.root_.reverseTraversal(e)}},{key:"getIterator",value:function(e){return new ws(this.root_,null,this.comparator_,!1,e)}},{key:"getIteratorFrom",value:function(e,t){return new ws(this.root_,e,this.comparator_,!1,t)}},{key:"getReverseIteratorFrom",value:function(e,t){return new ws(this.root_,e,this.comparator_,!0,t)}},{key:"getReverseIterator",value:function(e){return new ws(this.root_,null,this.comparator_,!0,e)}}]),e}();function Es(e,t){return po(e.name,t.name)}function Ts(e,t){return po(e,t)}Ss.EMPTY_NODE=new Cs;var Is,Rs,Ps,Os=function(e){return"number"===typeof e?"number:"+ko(e):"string:"+e},Ns=function(e){if(e.isLeafNode()){var t=e.val();F("string"===typeof t||"number"===typeof t||"object"===typeof t&&fe(t,".sv"),"Priority must be a string or number.")}else F(e===xs||e.isEmpty(),"priority of unexpected type.");F(e===xs||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},As=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.__childrenNodeConstructor.EMPTY_NODE;p(this,e),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,F(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Ns(this.priorityNode_)}return g(e,[{key:"isLeafNode",value:function(){return!0}},{key:"getPriority",value:function(){return this.priorityNode_}},{key:"updatePriority",value:function(t){return new e(this.value_,t)}},{key:"getImmediateChild",value:function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"getChild",value:function(t){return os(t)?this:".priority"===Zo(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"hasChild",value:function(){return!1}},{key:"getPredecessorChildName",value:function(e,t){return null}},{key:"updateImmediateChild",value:function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}},{key:"updateChild",value:function(t,n){var r=Zo(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(F(".priority"!==r||1===es(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(ts(t),n)))}},{key:"isEmpty",value:function(){return!1}},{key:"numChildren",value:function(){return 0}},{key:"forEachChild",value:function(e,t){return!1}},{key:"val",value:function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+Os(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?ko(this.value_):this.value_,this.lazyHash_=eo(e)}return this.lazyHash_}},{key:"getValue",value:function(){return this.value_}},{key:"compareTo",value:function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(F(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}},{key:"compareToLeafNode_",value:function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return F(i>=0,"Unknown leaf type: "+n),F(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i}},{key:"withIndex",value:function(){return this}},{key:"isIndexed",value:function(){return!0}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}],[{key:"__childrenNodeConstructor",get:function(){return Is},set:function(e){Is=e}}]),e}();As.VALUE_TYPE_ORDER=["object","boolean","number","string"];var Ds,Fs,js=function(e){k(n,e);var t=_(n);function n(){return p(this,n),t.apply(this,arguments)}return g(n,[{key:"compare",value:function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?po(e.name,t.name):i}},{key:"isDefinedOn",value:function(e){return!e.getPriority().isEmpty()}},{key:"indexedValueChanged",value:function(e,t){return!e.getPriority().equals(t.getPriority())}},{key:"minPost",value:function(){return ys.MIN}},{key:"maxPost",value:function(){return new ys(ho,new As("[PRIORITY-POST]",Ps))}},{key:"makePost",value:function(e,t){var n=Rs(e);return new ys(t,new As("[PRIORITY-POST]",n))}},{key:"toString",value:function(){return".priority"}}]),n}(gs),Ls=new js,Ms=Math.log(2),Us=function(){function e(t){p(this,e);var n;this.count=(n=t+1,parseInt(Math.log(n)/Ms,10)),this.current_=this.count-1;var r,i=(r=this.count,parseInt(Array(r+1).join("1"),2));this.bits_=t+1&i}return g(e,[{key:"nextBitIsOne",value:function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e}}]),e}(),Vs=function(e,t,n,r){e.sort(t);var i=function t(r,i){var a,o,s=i-r;if(0===s)return null;if(1===s)return a=e[r],o=n?n(a):a,new _s(o,a.node,_s.BLACK,null,null);var u=parseInt(s/2,10)+r,c=t(r,u),l=t(u+1,i);return a=e[u],o=n?n(a):a,new _s(o,a.node,_s.BLACK,c,l)},a=function(t){for(var r=null,a=null,o=e.length,s=function(t,r){var a=o-t,s=o;o-=t;var c=i(a+1,s),l=e[a],f=n?n(l):l;u(new _s(f,l.node,r,null,c))},u=function(e){r?(r.left=e,r=e):(a=e,r=e)},c=0;c<t.count;++c){var l=t.nextBitIsOne(),f=Math.pow(2,t.count-(c+1));l?s(f,_s.BLACK):(s(f,_s.BLACK),s(f,_s.RED))}return a}(new Us(e.length));return new Ss(r||t,a)},zs={},Bs=function(){function e(t,n){p(this,e),this.indexes_=t,this.indexSet_=n}return g(e,[{key:"get",value:function(e){var t=he(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Ss?t:null}},{key:"hasIndex",value:function(e){return fe(this.indexSet_,e.toString())}},{key:"addIndex",value:function(t,n){F(t!==ks,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],a=!1,o=n.getIterator(ys.Wrap),s=o.getNext();s;)a=a||t.isDefinedOn(s.node),i.push(s),s=o.getNext();r=a?Vs(i,t.getCompare()):zs;var u=t.toString(),c=Object.assign({},this.indexSet_);c[u]=t;var l=Object.assign({},this.indexes_);return l[u]=r,new e(l,c)}},{key:"addToIndexes",value:function(t,n){var r=this;return new e(pe(this.indexes_,(function(e,i){var a=he(r.indexSet_,i);if(F(a,"Missing index implementation for "+i),e===zs){if(a.isDefinedOn(t.node)){for(var o=[],s=n.getIterator(ys.Wrap),u=s.getNext();u;)u.name!==t.name&&o.push(u),u=s.getNext();return o.push(t),Vs(o,a.getCompare())}return zs}var c=n.get(t.name),l=e;return c&&(l=l.remove(new ys(t.name,c))),l.insert(t,t.node)})),this.indexSet_)}},{key:"removeFromIndexes",value:function(t,n){return new e(pe(this.indexes_,(function(e){if(e===zs)return e;var r=n.get(t.name);return r?e.remove(new ys(t.name,r)):e})),this.indexSet_)}}],[{key:"Default",get:function(){return F(zs&&Ls,"ChildrenNode.ts has not been loaded"),Ds=Ds||new e({".priority":zs},{".priority":Ls})}}]),e}(),qs=function(){function e(t,n,r){p(this,e),this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Ns(this.priorityNode_),this.children_.isEmpty()&&F(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return g(e,[{key:"isLeafNode",value:function(){return!1}},{key:"getPriority",value:function(){return this.priorityNode_||Fs}},{key:"updatePriority",value:function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}},{key:"getImmediateChild",value:function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?Fs:t}},{key:"getChild",value:function(e){var t=Zo(e);return null===t?this:this.getImmediateChild(t).getChild(ts(e))}},{key:"hasChild",value:function(e){return null!==this.children_.get(e)}},{key:"updateImmediateChild",value:function(t,n){if(F(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r,i,a=new ys(t,n);n.isEmpty()?(r=this.children_.remove(t),i=this.indexMap_.removeFromIndexes(a,this.children_)):(r=this.children_.insert(t,n),i=this.indexMap_.addToIndexes(a,this.children_));var o=r.isEmpty()?Fs:this.priorityNode_;return new e(r,o,i)}},{key:"updateChild",value:function(e,t){var n=Zo(e);if(null===n)return t;F(".priority"!==Zo(e)||1===es(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(ts(e),t);return this.updateImmediateChild(n,r)}},{key:"isEmpty",value:function(){return this.children_.isEmpty()}},{key:"numChildren",value:function(){return this.children_.count()}},{key:"val",value:function(t){if(this.isEmpty())return null;var n={},r=0,i=0,a=!0;if(this.forEachChild(Ls,(function(o,s){n[o]=s.val(t),r++,a&&e.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):a=!1})),!t&&a&&i<2*r){var o=[];for(var s in n)o[s]=n[s];return o}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+Os(this.getPriority().val())+":"),this.forEachChild(Ls,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":eo(e)}return this.lazyHash_}},{key:"getPredecessorChildName",value:function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new ys(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)}},{key:"getFirstChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()}},{key:"getFirstChild",value:function(e){var t=this.getFirstChildName(e);return t?new ys(t,this.children_.get(t)):null}},{key:"getLastChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()}},{key:"getLastChild",value:function(e){var t=this.getLastChildName(e);return t?new ys(t,this.children_.get(t)):null}},{key:"forEachChild",value:function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)}},{key:"getIterator",value:function(e){return this.getIteratorFrom(e.minPost(),e)}},{key:"getIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,ys.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r}},{key:"getReverseIterator",value:function(e){return this.getReverseIteratorFrom(e.maxPost(),e)}},{key:"getReverseIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,ys.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r}},{key:"compareTo",value:function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Hs?-1:0}},{key:"withIndex",value:function(t){if(t===ks||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)}},{key:"isIndexed",value:function(e){return e===ks||this.indexMap_.hasIndex(e)}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(Ls),r=t.getIterator(Ls),i=n.getNext(),a=r.getNext();i&&a;){if(i.name!==a.name||!i.node.equals(a.node))return!1;i=n.getNext(),a=r.getNext()}return null===i&&null===a}return!1}return!1}},{key:"resolveIndex_",value:function(e){return e===ks?null:this.indexMap_.get(e.toString())}}],[{key:"EMPTY_NODE",get:function(){return Fs||(Fs=new e(new Ss(Ts),null,Bs.Default))}}]),e}();qs.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;var Hs=new(function(e){k(n,e);var t=_(n);function n(){return p(this,n),t.call(this,new Ss(Ts),qs.EMPTY_NODE,Bs.Default)}return g(n,[{key:"compareTo",value:function(e){return e===this?0:1}},{key:"equals",value:function(e){return e===this}},{key:"getPriority",value:function(){return this}},{key:"getImmediateChild",value:function(e){return qs.EMPTY_NODE}},{key:"isEmpty",value:function(){return!1}}]),n}(qs));Object.defineProperties(ys,{MIN:{value:new ys(fo,qs.EMPTY_NODE)},MAX:{value:new ys(ho,Hs)}}),bs.__EMPTY_NODE=qs.EMPTY_NODE,As.__childrenNodeConstructor=qs,xs=Hs,function(e){Ps=e}(Hs);function Ws(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return qs.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),F(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){var n=e;return new As(n,Ws(t))}if(e instanceof Array){var r=qs.EMPTY_NODE;return bo(e,(function(t,n){if(fe(e,t)&&"."!==t.substring(0,1)){var i=Ws(n);!i.isLeafNode()&&i.isEmpty()||(r=r.updateImmediateChild(t,i))}})),r.updatePriority(Ws(t))}var i=[],a=!1,o=e;if(bo(o,(function(e,t){if("."!==e.substring(0,1)){var n=Ws(t);n.isEmpty()||(a=a||!n.getPriority().isEmpty(),i.push(new ys(e,n)))}})),0===i.length)return qs.EMPTY_NODE;var s=Vs(i,Es,(function(e){return e.name}),Ts);if(a){var u=Vs(i,Ls.getCompare());return new qs(s,Ws(t),new Bs({".priority":u},{".priority":Ls}))}return new qs(s,Ws(t),Bs.Default)}!function(e){Rs=e}(Ws);var Gs=function(e){k(n,e);var t=_(n);function n(e){var r;return p(this,n),(r=t.call(this)).indexPath_=e,F(!os(e)&&".priority"!==Zo(e),"Can't create PathIndex with empty path or .priority key"),r}return g(n,[{key:"extractChild",value:function(e){return e.getChild(this.indexPath_)}},{key:"isDefinedOn",value:function(e){return!e.getChild(this.indexPath_).isEmpty()}},{key:"compare",value:function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?po(e.name,t.name):i}},{key:"makePost",value:function(e,t){var n=Ws(e),r=qs.EMPTY_NODE.updateChild(this.indexPath_,n);return new ys(t,r)}},{key:"maxPost",value:function(){var e=qs.EMPTY_NODE.updateChild(this.indexPath_,Hs);return new ys(ho,e)}},{key:"toString",value:function(){return rs(this.indexPath_,0).join("/")}}]),n}(gs),Ks=function(e){k(n,e);var t=_(n);function n(){return p(this,n),t.apply(this,arguments)}return g(n,[{key:"compare",value:function(e,t){var n=e.node.compareTo(t.node);return 0===n?po(e.name,t.name):n}},{key:"isDefinedOn",value:function(e){return!0}},{key:"indexedValueChanged",value:function(e,t){return!e.equals(t)}},{key:"minPost",value:function(){return ys.MIN}},{key:"maxPost",value:function(){return ys.MAX}},{key:"makePost",value:function(e,t){var n=Ws(e);return new ys(t,n)}},{key:"toString",value:function(){return".value"}}]),n}(gs),$s=new Ks;function Qs(e){return{type:"value",snapshotNode:e}}function Ys(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Xs(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Js(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var Zs=function(){function e(t){p(this,e),this.index_=t}return g(e,[{key:"updateChild",value:function(e,t,n,r,i,a){F(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var o=e.getImmediateChild(t);return o.getChild(r).equals(n.getChild(r))&&o.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(Xs(t,o)):F(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?a.trackChildChange(Ys(t,n)):a.trackChildChange(Js(t,n,o))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}},{key:"updateFullNode",value:function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(Ls,(function(e,r){t.hasChild(e)||n.trackChildChange(Xs(e,r))})),t.isLeafNode()||t.forEachChild(Ls,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(Js(t,r,i))}else n.trackChildChange(Ys(t,r))}))),t.withIndex(this.index_)}},{key:"updatePriority",value:function(e,t){return e.isEmpty()?qs.EMPTY_NODE:e.updatePriority(t)}},{key:"filtersNodes",value:function(){return!1}},{key:"getIndexedFilter",value:function(){return this}},{key:"getIndex",value:function(){return this.index_}}]),e}(),eu=function(){function e(t){p(this,e),this.indexedFilter_=new Zs(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}return g(e,[{key:"getStartPost",value:function(){return this.startPost_}},{key:"getEndPost",value:function(){return this.endPost_}},{key:"matches",value:function(e){var t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}},{key:"updateChild",value:function(e,t,n,r,i,a){return this.matches(new ys(t,n))||(n=qs.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,a)}},{key:"updateFullNode",value:function(e,t,n){t.isLeafNode()&&(t=qs.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(qs.EMPTY_NODE);var i=this;return t.forEachChild(Ls,(function(e,t){i.matches(new ys(e,t))||(r=r.updateImmediateChild(e,qs.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.indexedFilter_}},{key:"getIndex",value:function(){return this.index_}}],[{key:"getStartPost_",value:function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}},{key:"getEndPost_",value:function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}]),e}(),tu=function(){function e(t){var n=this;p(this,e),this.withinDirectionalStart=function(e){return n.reverse_?n.withinEndPost(e):n.withinStartPost(e)},this.withinDirectionalEnd=function(e){return n.reverse_?n.withinStartPost(e):n.withinEndPost(e)},this.withinStartPost=function(e){var t=n.index_.compare(n.rangedFilter_.getStartPost(),e);return n.startIsInclusive_?t<=0:t<0},this.withinEndPost=function(e){var t=n.index_.compare(e,n.rangedFilter_.getEndPost());return n.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new eu(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}return g(e,[{key:"updateChild",value:function(e,t,n,r,i,a){return this.rangedFilter_.matches(new ys(t,n))||(n=qs.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,a):this.fullLimitUpdateChild_(e,t,n,i,a)}},{key:"updateFullNode",value:function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=qs.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){var i;r=qs.EMPTY_NODE.withIndex(this.index_),i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;i.hasNext()&&a<this.limit_;){var o=i.getNext();if(this.withinDirectionalStart(o)){if(!this.withinDirectionalEnd(o))break;r=r.updateImmediateChild(o.name,o.node),a++}}}else{var s;r=(r=t.withIndex(this.index_)).updatePriority(qs.EMPTY_NODE),s=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);for(var u=0;s.hasNext();){var c=s.getNext();u<this.limit_&&this.withinDirectionalStart(c)&&this.withinDirectionalEnd(c)?u++:r=r.updateImmediateChild(c.name,qs.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.rangedFilter_.getIndexedFilter()}},{key:"getIndex",value:function(){return this.index_}},{key:"fullLimitUpdateChild_",value:function(e,t,n,r,i){var a;if(this.reverse_){var o=this.index_.getCompare();a=function(e,t){return o(t,e)}}else a=this.index_.getCompare();var s=e;F(s.numChildren()===this.limit_,"");var u=new ys(t,n),c=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),l=this.rangedFilter_.matches(u);if(s.hasChild(t)){for(var f=s.getImmediateChild(t),h=r.getChildAfterChild(this.index_,c,this.reverse_);null!=h&&(h.name===t||s.hasChild(h.name));)h=r.getChildAfterChild(this.index_,h,this.reverse_);var d=null==h?1:a(h,u);if(l&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(Js(t,n,f)),s.updateImmediateChild(t,n);null!=i&&i.trackChildChange(Xs(t,f));var p=s.updateImmediateChild(t,qs.EMPTY_NODE);return null!=h&&this.rangedFilter_.matches(h)?(null!=i&&i.trackChildChange(Ys(h.name,h.node)),p.updateImmediateChild(h.name,h.node)):p}return n.isEmpty()?e:l&&a(c,u)>=0?(null!=i&&(i.trackChildChange(Xs(c.name,c.node)),i.trackChildChange(Ys(t,n))),s.updateImmediateChild(t,n).updateImmediateChild(c.name,qs.EMPTY_NODE)):e}}]),e}(),nu=function(){function e(){p(this,e),this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ls}return g(e,[{key:"hasStart",value:function(){return this.startSet_}},{key:"isViewFromLeft",value:function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}},{key:"getIndexStartValue",value:function(){return F(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}},{key:"getIndexStartName",value:function(){return F(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:fo}},{key:"hasEnd",value:function(){return this.endSet_}},{key:"getIndexEndValue",value:function(){return F(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}},{key:"getIndexEndName",value:function(){return F(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ho}},{key:"hasLimit",value:function(){return this.limitSet_}},{key:"hasAnchoredLimit",value:function(){return this.limitSet_&&""!==this.viewFrom_}},{key:"getLimit",value:function(){return F(this.limitSet_,"Only valid if limit has been set"),this.limit_}},{key:"getIndex",value:function(){return this.index_}},{key:"loadsAllData",value:function(){return!(this.startSet_||this.endSet_||this.limitSet_)}},{key:"isDefault",value:function(){return this.loadsAllData()&&this.index_===Ls}},{key:"copy",value:function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}]),e}();function ru(e){var t,n={};if(e.isDefault())return n;if(e.index_===Ls?t="$priority":e.index_===$s?t="$value":e.index_===ks?t="$key":(F(e.index_ instanceof Gs,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=ce(t),e.startSet_){var r=e.startAfterSet_?"startAfter":"startAt";n[r]=ce(e.indexStartValue_),e.startNameSet_&&(n[r]+=","+ce(e.indexStartName_))}if(e.endSet_){var i=e.endBeforeSet_?"endBefore":"endAt";n[i]=ce(e.indexEndValue_),e.endNameSet_&&(n[i]+=","+ce(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_),n}function iu(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==Ls&&(t.i=e.index_.toString()),t}var au=function(e){k(n,e);var t=_(n);function n(e,r,i,a){var o;return p(this,n),(o=t.call(this)).repoInfo_=e,o.onDataUpdate_=r,o.authTokenProvider_=i,o.appCheckTokenProvider_=a,o.log_=oo("p:rest:"),o.listens_={},o}return g(n,[{key:"reportStats",value:function(e){throw new Error("Method not implemented.")}},{key:"listen",value:function(e,t,r,i){var a=this,o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);var s=n.getListenId_(e,r),u={};this.listens_[s]=u;var c=ru(e._queryParams);this.restRequest_(o+".json",c,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(o,n,!1,r),he(a.listens_,s)===u)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))}},{key:"unlisten",value:function(e,t){var r=n.getListenId_(e,t);delete this.listens_[r]}},{key:"get",value:function(e){var t=this,n=ru(e._queryParams),r=e._path.toString(),i=new Q;return this.restRequest_(r+".json",n,(function(e,n){var a=n;404===e&&(a=null,e=null),null===e?(t.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))})),i.promise}},{key:"refreshAuthToken",value:function(e){}},{key:"restRequest_",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var a=d(i,2),o=a[0],s=a[1];o&&o.accessToken&&(n.auth=o.accessToken),s&&s.token&&(n.ac=s.token);var u=(t.repoInfo_.secure?"https://":"http://")+t.repoInfo_.host+e+"?ns="+t.repoInfo_.namespace+ye(n);t.log_("Sending REST request for "+u);var c=new XMLHttpRequest;c.onreadystatechange=function(){if(r&&4===c.readyState){t.log_("REST Response for "+u+" received. status:",c.status,"response:",c.responseText);var e=null;if(c.status>=200&&c.status<300){try{e=ue(c.responseText)}catch(zT){co("Failed to parse JSON response for "+u+": "+c.responseText)}r(null,e)}else 401!==c.status&&404!==c.status&&co("Got unsuccessful REST response for "+u+" Status: "+c.status),r(c.status);r=null}},c.open("GET",u,!0),c.send()}))}}],[{key:"getListenId_",value:function(e,t){return void 0!==t?"tag$"+t:(F(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}}]),n}($o),ou=function(){function e(){p(this,e),this.rootNode_=qs.EMPTY_NODE}return g(e,[{key:"getNode",value:function(e){return this.rootNode_.getChild(e)}},{key:"updateSnapshot",value:function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}]),e}();function su(){return{value:null,children:new Map}}function uu(e,t,n){if(os(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=Zo(t);e.children.has(r)||e.children.set(r,su()),uu(e.children.get(r),t=ts(t),n)}}function cu(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){cu(r,new Xo(t.toString()+"/"+e),n)}))}var lu,fu=function(){function e(t){p(this,e),this.collection_=t,this.last_=null}return g(e,[{key:"get",value:function(){var e=this.collection_.get(),t=Object.assign({},e);return this.last_&&bo(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t}}]),e}(),hu=function(){function e(t,n){p(this,e),this.server_=n,this.statsToReport_={},this.statsListener_=new fu(t);var r=1e4+2e4*Math.random();Co(this.reportStats_.bind(this),Math.floor(r))}return g(e,[{key:"reportStats_",value:function(){var e=this,t=this.statsListener_.get(),n={},r=!1;bo(t,(function(t,i){i>0&&fe(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),Co(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}]),e}();function du(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(lu||(lu={}));var pu,vu=function(){function e(t,n,r){p(this,e),this.path=t,this.affectedTree=n,this.revert=r,this.type=lu.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return g(e,[{key:"operationForChild",value:function(t){if(os(this.path)){if(null!=this.affectedTree.value)return F(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new Xo(t));return new e(Jo(),n,this.revert)}return F(Zo(this.path)===t,"operationForChild called for unrelated child."),new e(ts(this.path),this.affectedTree,this.revert)}}]),e}(),mu=function(){function e(t,n){p(this,e),this.source=t,this.path=n,this.type=lu.LISTEN_COMPLETE}return g(e,[{key:"operationForChild",value:function(t){return os(this.path)?new e(this.source,Jo()):new e(this.source,ts(this.path))}}]),e}(),yu=function(){function e(t,n,r){p(this,e),this.source=t,this.path=n,this.snap=r,this.type=lu.OVERWRITE}return g(e,[{key:"operationForChild",value:function(t){return os(this.path)?new e(this.source,Jo(),this.snap.getImmediateChild(t)):new e(this.source,ts(this.path),this.snap)}}]),e}(),gu=function(){function e(t,n,r){p(this,e),this.source=t,this.path=n,this.children=r,this.type=lu.MERGE}return g(e,[{key:"operationForChild",value:function(t){if(os(this.path)){var n=this.children.subtree(new Xo(t));return n.isEmpty()?null:n.value?new yu(this.source,Jo(),n.value):new e(this.source,Jo(),n)}return F(Zo(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,ts(this.path),this.children)}},{key:"toString",value:function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}]),e}(),bu=function(){function e(t,n,r){p(this,e),this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return g(e,[{key:"isFullyInitialized",value:function(){return this.fullyInitialized_}},{key:"isFiltered",value:function(){return this.filtered_}},{key:"isCompleteForPath",value:function(e){if(os(e))return this.isFullyInitialized()&&!this.filtered_;var t=Zo(e);return this.isCompleteForChild(t)}},{key:"isCompleteForChild",value:function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}},{key:"getNode",value:function(){return this.node_}}]),e}(),ku=g((function e(t){p(this,e),this.query_=t,this.index_=this.query_._queryParams.getIndex()}));function wu(e,t,n,r,i,a){var o=r.filter((function(e){return e.type===n}));o.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw j("Should only compare child_ events.");var r=new ys(t.childName,t.snapshotNode),i=new ys(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),o.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function _u(e,t){return{eventCache:e,serverCache:t}}function xu(e,t,n,r){return _u(new bu(t,n,r),e.serverCache)}function Cu(e,t,n,r){return _u(e.eventCache,new bu(t,n,r))}function Su(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Eu(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var Tu=function(){return pu||(pu=new Ss(vo)),pu},Iu=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Tu();p(this,e),this.value=t,this.children=n}return g(e,[{key:"isEmpty",value:function(){return null===this.value&&this.children.isEmpty()}},{key:"findRootMostMatchingPathAndValue",value:function(e,t){if(null!=this.value&&t(this.value))return{path:Jo(),value:this.value};if(os(e))return null;var n=Zo(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(ts(e),t);return null!=i?{path:as(new Xo(n),i.path),value:i.value}:null}return null}},{key:"findRootMostValueAndPath",value:function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))}},{key:"subtree",value:function(t){if(os(t))return this;var n=Zo(t),r=this.children.get(n);return null!==r?r.subtree(ts(t)):new e(null)}},{key:"set",value:function(t,n){if(os(t))return new e(n,this.children);var r=Zo(t),i=(this.children.get(r)||new e(null)).set(ts(t),n),a=this.children.insert(r,i);return new e(this.value,a)}},{key:"remove",value:function(t){if(os(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=Zo(t),r=this.children.get(n);if(r){var i,a=r.remove(ts(t));return i=a.isEmpty()?this.children.remove(n):this.children.insert(n,a),null===this.value&&i.isEmpty()?new e(null):new e(this.value,i)}return this}},{key:"get",value:function(e){if(os(e))return this.value;var t=Zo(e),n=this.children.get(t);return n?n.get(ts(e)):null}},{key:"setTree",value:function(t,n){if(os(t))return n;var r,i=Zo(t),a=(this.children.get(i)||new e(null)).setTree(ts(t),n);return r=a.isEmpty()?this.children.remove(i):this.children.insert(i,a),new e(this.value,r)}},{key:"fold",value:function(e){return this.fold_(Jo(),e)}},{key:"fold_",value:function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(as(e,r),t)})),t(e,this.value,n)}},{key:"findOnPath",value:function(e,t){return this.findOnPath_(e,Jo(),t)}},{key:"findOnPath_",value:function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(os(e))return null;var i=Zo(e),a=this.children.get(i);return a?a.findOnPath_(ts(e),as(t,i),n):null}},{key:"foreachOnPath",value:function(e,t){return this.foreachOnPath_(e,Jo(),t)}},{key:"foreachOnPath_",value:function(t,n,r){if(os(t))return this;this.value&&r(n,this.value);var i=Zo(t),a=this.children.get(i);return a?a.foreachOnPath_(ts(t),as(n,i),r):new e(null)}},{key:"foreach",value:function(e){this.foreach_(Jo(),e)}},{key:"foreach_",value:function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(as(e,n),t)})),this.value&&t(e,this.value)}},{key:"foreachChild",value:function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))}}],[{key:"fromObject",value:function(t){var n=new e(null);return bo(t,(function(e,t){n=n.set(new Xo(e),t)})),n}}]),e}(),Ru=function(){function e(t){p(this,e),this.writeTree_=t}return g(e,null,[{key:"empty",value:function(){return new e(new Iu(null))}}]),e}();function Pu(e,t,n){if(os(t))return new Ru(new Iu(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,a=r.value,o=ss(i,t);return a=a.updateChild(o,n),new Ru(e.writeTree_.set(i,a))}var s=new Iu(n),u=e.writeTree_.setTree(t,s);return new Ru(u)}function Ou(e,t,n){var r=e;return bo(n,(function(e,n){r=Pu(r,as(t,e),n)})),r}function Nu(e,t){if(os(t))return Ru.empty();var n=e.writeTree_.setTree(t,new Iu(null));return new Ru(n)}function Au(e,t){return null!=Du(e,t)}function Du(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(ss(n.path,t)):null}function Fu(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Ls,(function(e,n){t.push(new ys(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new ys(e,n.value))})),t}function ju(e,t){if(os(t))return e;var n=Du(e,t);return new Ru(null!=n?new Iu(n):e.writeTree_.subtree(t))}function Lu(e){return e.writeTree_.isEmpty()}function Mu(e,t){return Uu(Jo(),e.writeTree_,t)}function Uu(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(F(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=Uu(as(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(as(e,".priority"),r)),n}function Vu(e,t){return ec(t,e)}function zu(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}function Bu(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));F(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,o=e.allWrites.length-1;i&&o>=0;){var s=e.allWrites[o];s.visible&&(o>=n&&qu(s,r.path)?i=!1:cs(r.path,s.path)&&(a=!0)),o--}if(i){if(a)return function(e){e.visibleWrites=Wu(e.allWrites,Hu,Jo()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=Nu(e.visibleWrites,r.path):bo(r.children,(function(t){e.visibleWrites=Nu(e.visibleWrites,as(r.path,t))}));return!0}return!1}function qu(e,t){if(e.snap)return cs(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&cs(as(e.path,n),t))return!0;return!1}function Hu(e){return e.visible}function Wu(e,t,n){for(var r=Ru.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var o=a.path,s=void 0;if(a.snap)cs(n,o)?r=Pu(r,s=ss(n,o),a.snap):cs(o,n)&&(s=ss(o,n),r=Pu(r,Jo(),a.snap.getChild(s)));else{if(!a.children)throw j("WriteRecord should have .snap or .children");if(cs(n,o))r=Ou(r,s=ss(n,o),a.children);else if(cs(o,n))if(os(s=ss(o,n)))r=Ou(r,Jo(),a.children);else{var u=he(a.children,Zo(s));if(u){var c=u.getChild(ts(s));r=Pu(r,Jo(),c)}}}}}return r}function Gu(e,t,n,r,i){if(r||i){var a=ju(e.visibleWrites,t);if(!i&&Lu(a))return n;if(i||null!=n||Au(a,Jo())){return Mu(Wu(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(cs(e.path,t)||cs(t,e.path))}),t),n||qs.EMPTY_NODE)}return null}var o=Du(e.visibleWrites,t);if(null!=o)return o;var s=ju(e.visibleWrites,t);return Lu(s)?n:null!=n||Au(s,Jo())?Mu(s,n||qs.EMPTY_NODE):null}function Ku(e,t,n,r){return Gu(e.writeTree,e.treePath,t,n,r)}function $u(e,t){return function(e,t,n){var r=qs.EMPTY_NODE,i=Du(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Ls,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var a=ju(e.visibleWrites,t);return n.forEachChild(Ls,(function(e,t){var n=Mu(ju(a,new Xo(e)),t);r=r.updateImmediateChild(e,n)})),Fu(a).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return Fu(ju(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function Qu(e,t,n,r){return function(e,t,n,r,i){F(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=as(t,n);if(Au(e.visibleWrites,a))return null;var o=ju(e.visibleWrites,a);return Lu(o)?i.getChild(n):Mu(o,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function Yu(e,t){return function(e,t){return Du(e.visibleWrites,t)}(e.writeTree,as(e.treePath,t))}function Xu(e,t,n,r,i,a){return function(e,t,n,r,i,a,o){var s,u=ju(e.visibleWrites,t),c=Du(u,Jo());if(null!=c)s=c;else{if(null==n)return[];s=Mu(u,n)}if((s=s.withIndex(o)).isEmpty()||s.isLeafNode())return[];for(var l=[],f=o.getCompare(),h=a?s.getReverseIteratorFrom(r,o):s.getIteratorFrom(r,o),d=h.getNext();d&&l.length<i;)0!==f(d,r)&&l.push(d),d=h.getNext();return l}(e.writeTree,e.treePath,t,n,r,i,a)}function Ju(e,t,n){return function(e,t,n,r){var i=as(t,n),a=Du(e.visibleWrites,i);return null!=a?a:r.isCompleteForChild(n)?Mu(ju(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function Zu(e,t){return ec(as(e.treePath,t),e.writeTree)}function ec(e,t){return{treePath:e,writeTree:t}}var tc=function(){function e(){p(this,e),this.changeMap=new Map}return g(e,[{key:"trackChildChange",value:function(e){var t=e.type,n=e.childName;F("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),F(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,Js(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,Xs(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,Ys(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw j("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,Js(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}},{key:"getChanges",value:function(){return Array.from(this.changeMap.values())}}]),e}(),nc=new(function(){function e(){p(this,e)}return g(e,[{key:"getCompleteChild",value:function(e){return null}},{key:"getChildAfterChild",value:function(e,t,n){return null}}]),e}()),rc=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;p(this,e),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return g(e,[{key:"getCompleteChild",value:function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new bu(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Ju(this.writes_,e,n)}},{key:"getChildAfterChild",value:function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Eu(this.viewCache_),i=Xu(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}]),e}();function ic(e,t,n,r,i){var a,o,s=new tc;if(n.type===lu.OVERWRITE){var u=n;u.source.fromUser?a=sc(e,t,u.path,u.snap,r,i,s):(F(u.source.fromServer,"Unknown source."),o=u.source.tagged||t.serverCache.isFiltered()&&!os(u.path),a=oc(e,t,u.path,u.snap,r,i,o,s))}else if(n.type===lu.MERGE){var c=n;c.source.fromUser?a=function(e,t,n,r,i,a,o){var s=t;return r.foreach((function(r,u){var c=as(n,r);uc(t,Zo(c))&&(s=sc(e,s,c,u,i,a,o))})),r.foreach((function(r,u){var c=as(n,r);uc(t,Zo(c))||(s=sc(e,s,c,u,i,a,o))})),s}(e,t,c.path,c.children,r,i,s):(F(c.source.fromServer,"Unknown source."),o=c.source.tagged||t.serverCache.isFiltered(),a=lc(e,t,c.path,c.children,r,i,o,s))}else if(n.type===lu.ACK_USER_WRITE){var l=n;a=l.revert?function(e,t,n,r,i,a){var o;if(null!=Yu(r,n))return t;var s,u=new rc(r,t,i),c=t.eventCache.getNode();if(os(n)||".priority"===Zo(n)){var l;if(t.serverCache.isFullyInitialized())l=Ku(r,Eu(t));else{var f=t.serverCache.getNode();F(f instanceof qs,"serverChildren would be complete if leaf node"),l=$u(r,f)}s=e.filter.updateFullNode(c,l,a)}else{var h=Zo(n),d=Ju(r,h,t.serverCache);null==d&&t.serverCache.isCompleteForChild(h)&&(d=c.getImmediateChild(h)),(s=null!=d?e.filter.updateChild(c,h,d,ts(n),u,a):t.eventCache.getNode().hasChild(h)?e.filter.updateChild(c,h,qs.EMPTY_NODE,ts(n),u,a):c).isEmpty()&&t.serverCache.isFullyInitialized()&&(o=Ku(r,Eu(t))).isLeafNode()&&(s=e.filter.updateFullNode(s,o,a))}return o=t.serverCache.isFullyInitialized()||null!=Yu(r,Jo()),xu(t,s,o,e.filter.filtersNodes())}(e,t,l.path,r,i,s):function(e,t,n,r,i,a,o){if(null!=Yu(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(os(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return oc(e,t,n,u.getNode().getChild(n),i,a,s,o);if(os(n)){var c=new Iu(null);return u.getNode().forEachChild(ks,(function(e,t){c=c.set(new Xo(e),t)})),lc(e,t,n,c,i,a,s,o)}return t}var l=new Iu(null);return r.foreach((function(e,t){var r=as(n,e);u.isCompleteForPath(r)&&(l=l.set(e,u.getNode().getChild(r)))})),lc(e,t,n,l,i,a,s,o)}(e,t,l.path,l.affectedTree,r,i,s)}else{if(n.type!==lu.LISTEN_COMPLETE)throw j("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var a=t.serverCache,o=Cu(t,a.getNode(),a.isFullyInitialized()||os(n),a.isFiltered());return ac(e,o,n,r,nc,i)}(e,t,n.path,r,s)}var f=s.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=Su(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(Qs(Su(t)))}}(t,a,f),{viewCache:a,changes:f}}function ac(e,t,n,r,i,a){var o,s,u=t.eventCache;if(null!=Yu(r,n))return t;if(os(n))if(F(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var c=Eu(t),l=$u(r,c instanceof qs?c:qs.EMPTY_NODE);o=e.filter.updateFullNode(t.eventCache.getNode(),l,a)}else{var f=Ku(r,Eu(t));o=e.filter.updateFullNode(t.eventCache.getNode(),f,a)}else{var h=Zo(n);if(".priority"===h){F(1===es(n),"Can't have a priority with additional path components");var d=u.getNode(),p=Qu(r,n,d,s=t.serverCache.getNode());o=null!=p?e.filter.updatePriority(d,p):u.getNode()}else{var v,m=ts(n);if(u.isCompleteForChild(h)){s=t.serverCache.getNode();var y=Qu(r,n,u.getNode(),s);v=null!=y?u.getNode().getImmediateChild(h).updateChild(m,y):u.getNode().getImmediateChild(h)}else v=Ju(r,h,t.serverCache);o=null!=v?e.filter.updateChild(u.getNode(),h,v,m,i,a):u.getNode()}}return xu(t,o,u.isFullyInitialized()||os(n),e.filter.filtersNodes())}function oc(e,t,n,r,i,a,o,s){var u,c=t.serverCache,l=o?e.filter:e.filter.getIndexedFilter();if(os(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var f=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),f,null)}else{var h=Zo(n);if(!c.isCompleteForPath(n)&&es(n)>1)return t;var d=ts(n),p=c.getNode().getImmediateChild(h).updateChild(d,r);u=".priority"===h?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),h,p,d,nc,null)}var v=Cu(t,u,c.isFullyInitialized()||os(n),l.filtersNodes());return ac(e,v,n,i,new rc(i,v,a),s)}function sc(e,t,n,r,i,a,o){var s,u,c=t.eventCache,l=new rc(i,t,a);if(os(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,o),s=xu(t,u,!0,e.filter.filtersNodes());else{var f=Zo(n);if(".priority"===f)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=xu(t,u,c.isFullyInitialized(),c.isFiltered());else{var h,d=ts(n),p=c.getNode().getImmediateChild(f);if(os(d))h=r;else{var v=l.getCompleteChild(f);h=null!=v?".priority"===ns(d)&&v.getChild(is(d)).isEmpty()?v:v.updateChild(d,r):qs.EMPTY_NODE}if(p.equals(h))s=t;else s=xu(t,e.filter.updateChild(c.getNode(),f,h,d,l,o),c.isFullyInitialized(),e.filter.filtersNodes())}}return s}function uc(e,t){return e.eventCache.isCompleteForChild(t)}function cc(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function lc(e,t,n,r,i,a,o,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,c=t;u=os(n)?r:new Iu(null).setTree(n,r);var l=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var u=cc(0,t.serverCache.getNode().getImmediateChild(n),r);c=oc(e,c,new Xo(n),u,i,a,o,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!l.hasChild(n)&&!u){var f=cc(0,t.serverCache.getNode().getImmediateChild(n),r);c=oc(e,c,new Xo(n),f,i,a,o,s)}})),c}var fc,hc=function(){function e(t,n){p(this,e),this.query_=t,this.eventRegistrations_=[];var r,i=this.query_._queryParams,a=new Zs(i.getIndex()),o=(r=i).loadsAllData()?new Zs(r.getIndex()):r.hasLimit()?new tu(r):new eu(r);this.processor_=function(e){return{filter:e}}(o);var s=n.serverCache,u=n.eventCache,c=a.updateFullNode(qs.EMPTY_NODE,s.getNode(),null),l=o.updateFullNode(qs.EMPTY_NODE,u.getNode(),null),f=new bu(c,s.isFullyInitialized(),a.filtersNodes()),h=new bu(l,u.isFullyInitialized(),o.filtersNodes());this.viewCache_=_u(h,f),this.eventGenerator_=new ku(this.query_)}return g(e,[{key:"query",get:function(){return this.query_}}]),e}();function dc(e,t){var n=Eu(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!os(t)&&!n.getImmediateChild(Zo(t)).isEmpty())?n.getChild(t):null}function pc(e){return 0===e.eventRegistrations_.length}function vc(e,t,n){var r=[];if(n){F(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var a=[],o=0;o<e.eventRegistrations_.length;++o){var s=e.eventRegistrations_[o];if(s.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(o+1));break}}else a.push(s)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function mc(e,t,n,r){t.type===lu.MERGE&&null!==t.source.queryId&&(F(Eu(e.viewCache_),"We should always have a full cache before handling merges"),F(Su(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,o=e.viewCache_,s=ic(e.processor_,o,t,n,r);return i=e.processor_,a=s.viewCache,F(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),F(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),F(s.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,yc(e,s.changes,s.viewCache.eventCache.getNode(),null)}function yc(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],a=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&a.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),wu(e,i,"child_removed",t,r,n),wu(e,i,"child_added",t,r,n),wu(e,i,"child_moved",a,r,n),wu(e,i,"child_changed",t,r,n),wu(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var gc,bc=g((function e(){p(this,e),this.views=new Map}));function kc(e){return 0===e.views.size}function wc(e,t,n,r){var i=t.source.queryId;if(null!==i){var a=e.views.get(i);return F(null!=a,"SyncTree gave us an op for an invalid query."),mc(a,t,n,r)}var o,s=[],u=T(e.views.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s=s.concat(mc(c,t,n,r))}}catch(l){u.e(l)}finally{u.f()}return s}function _c(e,t,n,r,i){var a=t._queryIdentifier,o=e.views.get(a);if(!o){var s=Ku(n,i?r:null),u=!1;s?u=!0:r instanceof qs?(s=$u(n,r),u=!1):(s=qs.EMPTY_NODE,u=!1);var c=_u(new bu(s,u,!1),new bu(r,i,!1));return new hc(t,c)}return o}function xc(e,t,n,r,i,a){var o=_c(e,t,r,i,a);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),function(e,t){e.eventRegistrations_.push(t)}(o,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ls,(function(e,t){r.push(Ys(e,t))})),n.isFullyInitialized()&&r.push(Qs(n.getNode())),yc(e,r,n.getNode(),t)}(o,n)}function Cc(e,t,n,r){var i=t._queryIdentifier,a=[],o=[],s=Rc(e);if("default"===i){var u,c=T(e.views.entries());try{for(c.s();!(u=c.n()).done;){var l=d(u.value,2),f=l[0],h=l[1];o=o.concat(vc(h,n,r)),pc(h)&&(e.views.delete(f),h.query._queryParams.loadsAllData()||a.push(h.query))}}catch(v){c.e(v)}finally{c.f()}}else{var p=e.views.get(i);p&&(o=o.concat(vc(p,n,r)),pc(p)&&(e.views.delete(i),p.query._queryParams.loadsAllData()||a.push(p.query)))}return s&&!Rc(e)&&a.push(new(F(fc,"Reference.ts has not been loaded"),fc)(t._repo,t._path)),{removed:a,events:o}}function Sc(e){var t,n=[],r=T(e.views.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;i.query._queryParams.loadsAllData()||n.push(i)}}catch(a){r.e(a)}finally{r.f()}return n}function Ec(e,t){var n,r=null,i=T(e.views.values());try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r||dc(a,t)}}catch(o){i.e(o)}finally{i.f()}return r}function Tc(e,t){if(t._queryParams.loadsAllData())return Pc(e);var n=t._queryIdentifier;return e.views.get(n)}function Ic(e,t){return null!=Tc(e,t)}function Rc(e){return null!=Pc(e)}function Pc(e){var t,n=T(e.views.values());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.query._queryParams.loadsAllData())return r}}catch(i){n.e(i)}finally{n.f()}return null}var Oc=1,Nc=g((function e(t){p(this,e),this.listenProvider_=t,this.syncPointTree_=new Iu(null),this.pendingWriteTree_={visibleWrites:Ru.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}));function Ac(e,t,n,r,i){return function(e,t,n,r,i){F(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Pu(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?Vc(e,new yu({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function Dc(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=zu(e.pendingWriteTree_,t),i=Bu(e.pendingWriteTree_,t);if(i){var a=new Iu(null);return null!=r.snap?a=a.set(Jo(),!0):bo(r.children,(function(e){a=a.set(new Xo(e),!0)})),Vc(e,new vu(r.path,a,n))}return[]}function Fc(e,t,n){return Vc(e,new yu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function jc(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=t._path,o=e.syncPointTree_.get(a),s=[];if(o&&("default"===t._queryIdentifier||Ic(o,t))){var u=Cc(o,t,n,r);kc(o)&&(e.syncPointTree_=e.syncPointTree_.remove(a));var c=u.removed;if(s=u.events,!i){var l=-1!==c.findIndex((function(e){return e._queryParams.loadsAllData()})),f=e.syncPointTree_.findOnPath(a,(function(e,t){return Rc(t)}));if(l&&!f){var h=e.syncPointTree_.subtree(a);if(!h.isEmpty())for(var d=Qc(h),p=0;p<d.length;++p){var v=d[p],m=v.query,y=qc(e,v);e.listenProvider_.startListening(Yc(m),Hc(e,m),y.hashFn,y.onComplete)}}if(!f&&c.length>0&&!r)if(l){var g=null;e.listenProvider_.stopListening(Yc(t),g)}else c.forEach((function(t){var n=e.queryToTagMap.get(Wc(t));e.listenProvider_.stopListening(Yc(t),n)}))}Xc(e,c)}return s}function Lc(e,t,n,r){var i=Gc(e,r);if(null!=i){var a=Kc(i),o=a.path,s=a.queryId,u=ss(o,t);return $c(e,o,new yu(du(s),u,n))}return[]}function Mc(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=t._path,a=null,o=!1;e.syncPointTree_.foreachOnPath(i,(function(e,t){var n=ss(e,i);a=a||Ec(t,n),o=o||Rc(t)}));var s,u=e.syncPointTree_.get(i);if(u?(o=o||Rc(u),a=a||Ec(u,Jo())):(u=new bc,e.syncPointTree_=e.syncPointTree_.set(i,u)),null!=a)s=!0;else{s=!1,a=qs.EMPTY_NODE;var c=e.syncPointTree_.subtree(i);c.foreachChild((function(e,t){var n=Ec(t,Jo());n&&(a=a.updateImmediateChild(e,n))}))}var l=Ic(u,t);if(!l&&!t._queryParams.loadsAllData()){var f=Wc(t);F(!e.queryToTagMap.has(f),"View does not exist, but we have a tag");var h=Jc();e.queryToTagMap.set(f,h),e.tagToQueryMap.set(h,f)}var d=Vu(e.pendingWriteTree_,i),p=xc(u,t,n,d,a,s);if(!l&&!o&&!r){var v=Tc(u,t);p=p.concat(Zc(e,t,v))}return p}function Uc(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=Ec(n,ss(e,t));if(r)return r}));return Gu(r,t,i,n,!0)}function Vc(e,t){return zc(t,e.syncPointTree_,null,Vu(e.pendingWriteTree_,Jo()))}function zc(e,t,n,r){if(os(e.path))return Bc(e,t,n,r);var i=t.get(Jo());null==n&&null!=i&&(n=Ec(i,Jo()));var a=[],o=Zo(e.path),s=e.operationForChild(o),u=t.children.get(o);if(u&&s){var c=n?n.getImmediateChild(o):null,l=Zu(r,o);a=a.concat(zc(s,u,c,l))}return i&&(a=a.concat(wc(i,e,r,n))),a}function Bc(e,t,n,r){var i=t.get(Jo());null==n&&null!=i&&(n=Ec(i,Jo()));var a=[];return t.children.inorderTraversal((function(t,i){var o=n?n.getImmediateChild(t):null,s=Zu(r,t),u=e.operationForChild(t);u&&(a=a.concat(Bc(u,i,o,s)))})),i&&(a=a.concat(wc(i,e,r,n))),a}function qc(e,t){var n=t.query,r=Hc(e,n);return{hashFn:function(){var e=function(e){return e.viewCache_.serverCache.getNode()}(t)||qs.EMPTY_NODE;return e.hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=Gc(e,n);if(r){var i=Kc(r),a=i.path,o=i.queryId,s=ss(a,t);return $c(e,a,new mu(du(o),s))}return[]}(e,n._path,r):function(e,t){return Vc(e,new mu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return jc(e,n,null,i)}}}function Hc(e,t){var n=Wc(t);return e.queryToTagMap.get(n)}function Wc(e){return e._path.toString()+"$"+e._queryIdentifier}function Gc(e,t){return e.tagToQueryMap.get(t)}function Kc(e){var t=e.indexOf("$");return F(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Xo(e.substr(0,t))}}function $c(e,t,n){var r=e.syncPointTree_.get(t);return F(r,"Missing sync point for query tag that we're tracking"),wc(r,n,Vu(e.pendingWriteTree_,t),null)}function Qc(e){return e.fold((function(e,t,n){if(t&&Rc(t))return[Pc(t)];var r=[];return t&&(r=Sc(t)),bo(n,(function(e,t){r=r.concat(t)})),r}))}function Yc(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(F(gc,"Reference.ts has not been loaded"),gc)(e._repo,e._path):e}function Xc(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=Wc(r),a=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(a)}}}function Jc(){return Oc++}function Zc(e,t,n){var r=t._path,i=Hc(e,t),a=qc(e,n),o=e.listenProvider_.startListening(Yc(t),i,a.hashFn,a.onComplete),s=e.syncPointTree_.subtree(r);if(i)F(!Rc(s.value),"If we're adding a query, it shouldn't be shadowed");else for(var u=s.fold((function(e,t,n){if(!os(e)&&t&&Rc(t))return[Pc(t).query];var r=[];return t&&(r=r.concat(Sc(t).map((function(e){return e.query})))),bo(n,(function(e,t){r=r.concat(t)})),r})),c=0;c<u.length;++c){var l=u[c];e.listenProvider_.stopListening(Yc(l),Hc(e,l))}return o}var el=function(){function e(t){p(this,e),this.node_=t}return g(e,[{key:"getImmediateChild",value:function(t){return new e(this.node_.getImmediateChild(t))}},{key:"node",value:function(){return this.node_}}]),e}(),tl=function(){function e(t,n){p(this,e),this.syncTree_=t,this.path_=n}return g(e,[{key:"getImmediateChild",value:function(t){var n=as(this.path_,t);return new e(this.syncTree_,n)}},{key:"node",value:function(){return Uc(this.syncTree_,this.path_)}}]),e}(),nl=function(e,t,n){return e&&"object"===typeof e?(F(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?rl(e[".sv"],t,n):"object"===typeof e[".sv"]?il(e[".sv"],t):void F(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},rl=function(e,t,n){if("timestamp"===e)return n.timestamp;F(!1,"Unexpected server value: "+e)},il=function(e,t,n){e.hasOwnProperty("increment")||F(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&F(!1,"Unexpected increment value: "+r);var i=t.node();if(F(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},al=function(e,t,n,r){return sl(t,new tl(n,e),r)},ol=function(e,t,n){return sl(e,new el(t),n)};function sl(e,t,n){var r,i=e.getPriority().val(),a=nl(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var o=e,s=nl(o.getValue(),t,n);return s!==o.getValue()||a!==o.getPriority().val()?new As(s,Ws(a)):e}var u=e;return r=u,a!==u.getPriority().val()&&(r=r.updatePriority(new As(a))),u.forEachChild(Ls,(function(e,i){var a=sl(i,t.getImmediateChild(e),n);a!==i&&(r=r.updateImmediateChild(e,a))})),r}var ul=g((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};p(this,e),this.name=t,this.parent=n,this.node=r}));function cl(e,t){for(var n=t instanceof Xo?t:new Xo(t),r=e,i=Zo(n);null!==i;){var a=he(r.node.children,i)||{children:{},childCount:0};r=new ul(i,r,a),i=Zo(n=ts(n))}return r}function ll(e){return e.node.value}function fl(e,t){e.node.value=t,ml(e)}function hl(e){return e.node.childCount>0}function dl(e,t){bo(e.node.children,(function(n,r){t(new ul(n,e,r))}))}function pl(e,t,n,r){n&&!r&&t(e),dl(e,(function(e){pl(e,t,!0,r)})),n&&r&&t(e)}function vl(e){return new Xo(null===e.parent?e.name:vl(e.parent)+"/"+e.name)}function ml(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===ll(e)&&!hl(e)}(n),i=fe(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,ml(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,ml(e))}(e.parent,e.name,e)}var yl=/[\[\].#$\/\u0000-\u001F\u007F]/,gl=/[\[\].#$\u0000-\u001F\u007F]/,bl=10485760,kl=function(e){return"string"===typeof e&&0!==e.length&&!yl.test(e)},wl=function(e){return"string"===typeof e&&0!==e.length&&!gl.test(e)},_l=function e(t,n,r){var i=r instanceof Xo?new ls(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+hs(i));if("function"===typeof n)throw new Error(t+"contains a function "+hs(i)+" with contents = "+n.toString());if(lo(n))throw new Error(t+"contains "+n.toString()+" "+hs(i));if("string"===typeof n&&n.length>bl/3&&Ce(n)>bl)throw new Error(t+"contains a string greater than "+bl+" utf8 bytes "+hs(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,o=!1;if(bo(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(o=!0,!kl(n)))throw new Error(t+" contains an invalid key ("+n+") "+hs(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Ce(t),fs(e)}(i,n),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=Ce(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),a&&o)throw new Error(t+' contains ".value" child '+hs(i)+" in addition to actual children.")}},xl=function(e,t,n,r){if((!r||void 0!==n)&&!wl(n))throw new Error(xe(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Cl=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!kl(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),wl(e)}(n))throw new Error(xe(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Sl=g((function e(){p(this,e),this.eventLists_=[],this.recursionDepth_=0}));function El(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],a=i.getPath();null===n||us(a,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:a}),n.events.push(i)}n&&e.eventLists_.push(n)}function Tl(e,t,n){El(e,n),Rl(e,(function(e){return us(e,t)}))}function Il(e,t,n){El(e,n),Rl(e,(function(e){return cs(e,t)||cs(t,e)}))}function Rl(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(Pl(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function Pl(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();no&&ao("event: "+n.toString()),xo(r)}}}var Ol="repo_interrupt",Nl=function(){function e(t,n,r,i){p(this,e),this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Sl,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=su(),this.transactionQueueTree_=new ul,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return g(e,[{key:"toString",value:function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}]),e}();function Al(e,t,n){if(e.stats_=Mo(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new au(e.repoInfo_,(function(t,n,r,i){jl(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return Ll(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ce(n)}catch(zT){throw new Error("Invalid authOverride provided: "+zT)}}e.persistentConnection_=new vs(e.repoInfo_,t,(function(t,n,r,i){jl(e,t,n,r,i)}),(function(t){Ll(e,t)}),(function(t){!function(e,t){bo(t,(function(t,n){Ml(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return Lo[n]||(Lo[n]=t()),Lo[n]}(e.repoInfo_,(function(){return new hu(e.stats_,e.server_)})),e.infoData_=new ou,e.infoSyncTree_=new Nc({startListening:function(t,n,r,i){var a=[],o=e.infoData_.getNode(t._path);return o.isEmpty()||(a=Fc(e.infoSyncTree_,t._path,o),setTimeout((function(){i("ok")}),0)),a},stopListening:function(){}}),Ml(e,"connected",!1),e.serverSyncTree_=new Nc({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var a=i(n,r);Il(e.eventQueue_,t._path,a)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function Dl(e){var t=e.infoData_.getNode(new Xo(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Fl(e){return(t=(t={timestamp:Dl(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function jl(e,t,n,r,i){e.dataUpdateCount++;var a=new Xo(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var o=[];if(i)if(r){var s=pe(n,(function(e){return Ws(e)}));o=function(e,t,n,r){var i=Gc(e,r);if(i){var a=Kc(i),o=a.path,s=a.queryId,u=ss(o,t),c=Iu.fromObject(n);return $c(e,o,new gu(du(s),u,c))}return[]}(e.serverSyncTree_,a,s,i)}else{var u=Ws(n);o=Lc(e.serverSyncTree_,a,u,i)}else if(r){var c=pe(n,(function(e){return Ws(e)}));o=function(e,t,n){var r=Iu.fromObject(n);return Vc(e,new gu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,c)}else{var l=Ws(n);o=Fc(e.serverSyncTree_,a,l)}var f=a;o.length>0&&(f=Gl(e,a)),Il(e.eventQueue_,f,o)}function Ll(e,t){Ml(e,"connected",t),!1===t&&function(e){Bl(e,"onDisconnectEvents");var t=Fl(e),n=su();cu(e.onDisconnect_,Jo(),(function(r,i){var a=al(r,i,e.serverSyncTree_,t);uu(n,r,a)}));var r=[];cu(n,Jo(),(function(t,n){r=r.concat(Fc(e.serverSyncTree_,t,n));var i=Xl(e,t);Gl(e,i)})),e.onDisconnect_=su(),Il(e.eventQueue_,Jo(),r)}(e)}function Ml(e,t,n){var r=new Xo("/.info/"+t),i=Ws(n);e.infoData_.updateSnapshot(r,i);var a=Fc(e.infoSyncTree_,r,i);Il(e.eventQueue_,r,a)}function Ul(e){return e.nextWriteId_++}function Vl(e,t,n){var r;r=".info"===Zo(t._path)?jc(e.infoSyncTree_,t,n):jc(e.serverSyncTree_,t,n),Tl(e.eventQueue_,t._path,r)}function zl(e){e.persistentConnection_&&e.persistentConnection_.interrupt(Ol)}function Bl(e){var t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];ao.apply(void 0,[t].concat(r))}function ql(e,t,n){return Uc(e.serverSyncTree_,t,n)||qs.EMPTY_NODE}function Hl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||Yl(e,t),ll(t)){var n=$l(e,t);F(n.length>0,"Sending zero length transaction queue");var r=n.every((function(e){return 0===e.status}));r&&Wl(e,vl(t),n)}else hl(t)&&dl(t,(function(t){Hl(e,t)}))}function Wl(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=ql(e,t,r),a=i,o=i.hash(),s=0;s<n.length;s++){var u=n[s];F(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var c=ss(t,u.path);a=a.updateChild(c,u.currentOutputSnapshotRaw)}var l=a.val(!0),f=t;e.server_.put(f.toString(),l,(function(r){Bl(e,"transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var a=[],o=function(t){n[t].status=2,i=i.concat(Dc(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&a.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)o(s);Yl(e,cl(e.transactionQueueTree_,t)),Hl(e,e.transactionQueueTree_),Il(e.eventQueue_,t,i);for(var u=0;u<a.length;u++)xo(a[u])}else{if("datastale"===r)for(var c=0;c<n.length;c++)3===n[c].status?n[c].status=4:n[c].status=0;else{co("transaction at "+f.toString()+" failed: "+r);for(var l=0;l<n.length;l++)n[l].status=4,n[l].abortReason=r}Gl(e,t)}}),o)}function Gl(e,t){var n=Kl(e,t),r=vl(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})),o=a.map((function(e){return e.currentWriteId})),s=function(a){var s,u,c=t[a],l=ss(n,c.path),f=!1;if(F(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===c.status)f=!0,s=c.abortReason,i=i.concat(Dc(e.serverSyncTree_,c.currentWriteId,!0));else if(0===c.status)if(c.retryCount>=25)f=!0,s="maxretry",i=i.concat(Dc(e.serverSyncTree_,c.currentWriteId,!0));else{var h=ql(e,c.path,o);c.currentInputSnapshot=h;var d=t[a].update(h.val());if(void 0!==d){_l("transaction failed: Data returned ",d,c.path);var p=Ws(d);"object"===typeof d&&null!=d&&fe(d,".priority")||(p=p.updatePriority(h.getPriority()));var v=c.currentWriteId,m=Fl(e),y=ol(p,h,m);c.currentOutputSnapshotRaw=p,c.currentOutputSnapshotResolved=y,c.currentWriteId=Ul(e),o.splice(o.indexOf(v),1),i=(i=i.concat(Ac(e.serverSyncTree_,c.path,y,c.currentWriteId,c.applyLocally))).concat(Dc(e.serverSyncTree_,v,!0))}else f=!0,s="nodata",i=i.concat(Dc(e.serverSyncTree_,c.currentWriteId,!0))}Il(e.eventQueue_,n,i),i=[],f&&(t[a].status=2,u=t[a].unwatcher,setTimeout(u,Math.floor(0)),t[a].onComplete&&("nodata"===s?r.push((function(){return t[a].onComplete(null,!1,t[a].currentInputSnapshot)})):r.push((function(){return t[a].onComplete(new Error(s),!1,null)}))))},u=0;u<t.length;u++)s(u);Yl(e,e.transactionQueueTree_);for(var c=0;c<r.length;c++)xo(r[c]);Hl(e,e.transactionQueueTree_)}(e,$l(e,n),r),r}function Kl(e,t){var n,r=e.transactionQueueTree_;for(n=Zo(t);null!==n&&void 0===ll(r);)r=cl(r,n),n=Zo(t=ts(t));return r}function $l(e,t){var n=[];return Ql(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function Ql(e,t,n){var r=ll(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);dl(t,(function(t){Ql(e,t,n)}))}function Yl(e,t){var n=ll(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,fl(t,n.length>0?n:void 0)}dl(t,(function(t){Yl(e,t)}))}function Xl(e,t){var n=vl(Kl(e,t)),r=cl(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){Jl(e,t)})),Jl(e,r),pl(r,(function(t){Jl(e,t)})),n}function Jl(e,t){var n=ll(t);if(n){for(var r=[],i=[],a=-1,o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(F(a===o-1,"All SENT items should be at beginning of queue."),a=o,n[o].status=3,n[o].abortReason="set"):(F(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Dc(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===a?fl(t,void 0):n.length=a+1,Il(e.eventQueue_,vl(t),i);for(var s=0;s<r.length;s++)xo(r[s])}}var Zl=function(e,t){var n=ef(e),r=n.namespace;"firebase.com"===n.domain&&uo(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||uo("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&co("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new Ao(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new Xo(n.pathString)}},ef=function(e){var t="",n="",r="",i="",a="",o=!0,s="https",u=443;if("string"===typeof e){var c=e.indexOf("//");c>=0&&(s=e.substring(0,c-1),e=e.substring(c+2));var l=e.indexOf("/");-1===l&&(l=e.length);var f=e.indexOf("?");-1===f&&(f=e.length),t=e.substring(0,Math.min(l,f)),l<f&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(zT){}t+="/"+i}return t}(e.substring(l,f)));var h=function(e){var t={};"?"===e.charAt(0)&&(e=e.substring(1));var n,r=T(e.split("&"));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(0!==i.length){var a=i.split("=");2===a.length?t[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):co("Invalid query segment '".concat(i,"' in query '").concat(e,"'"))}}}catch(o){r.e(o)}finally{r.f()}return t}(e.substring(Math.min(e.length,f)));(c=t.indexOf(":"))>=0?(o="https"===s||"wss"===s,u=parseInt(t.substring(c+1),10)):c=t.length;var d=t.slice(0,c);if("localhost"===d.toLowerCase())n="localhost";else if(d.split(".").length<=2)n=d;else{var p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),a=r}"ns"in h&&(a=h.ns)}return{host:t,port:u,domain:n,subdomain:r,secure:o,scheme:s,pathString:i,namespace:a}},tf="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",nf=(function(){var e=0,t=[]}(),function(){function e(t,n,r,i){p(this,e),this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}return g(e,[{key:"getPath",value:function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}},{key:"getEventType",value:function(){return this.eventType}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.getPath().toString()+":"+this.eventType+":"+ce(this.snapshot.exportVal())}}]),e}()),rf=function(){function e(t,n,r){p(this,e),this.eventRegistration=t,this.error=n,this.path=r}return g(e,[{key:"getPath",value:function(){return this.path}},{key:"getEventType",value:function(){return"cancel"}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.path.toString()+":cancel"}}]),e}(),af=function(){function e(t,n){p(this,e),this.snapshotCallback=t,this.cancelCallback=n}return g(e,[{key:"onValue",value:function(e,t){this.snapshotCallback.call(null,e,t)}},{key:"onCancel",value:function(e){return F(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}},{key:"hasCancelCallback",get:function(){return!!this.cancelCallback}},{key:"matches",value:function(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}]),e}(),of=function(){function e(t,n,r,i){p(this,e),this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return g(e,[{key:"key",get:function(){return os(this._path)?null:ns(this._path)}},{key:"ref",get:function(){return new sf(this._repo,this._path)}},{key:"_queryIdentifier",get:function(){var e=iu(this._queryParams),t=yo(e);return"{}"===t?"default":t}},{key:"_queryObject",get:function(){return iu(this._queryParams)}},{key:"isEqual",value:function(t){if(!((t=Te(t))instanceof e))return!1;var n=this._repo===t._repo,r=us(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}},{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}]),e}();var sf=function(e){k(n,e);var t=_(n);function n(e,r){return p(this,n),t.call(this,e,r,new nu,!1)}return g(n,[{key:"parent",get:function(){var e=is(this._path);return null===e?null:new n(this._repo,e)}},{key:"root",get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}}]),n}(of),uf=function(){function e(t,n,r){p(this,e),this._node=t,this.ref=n,this._index=r}return g(e,[{key:"priority",get:function(){return this._node.getPriority().val()}},{key:"key",get:function(){return this.ref.key}},{key:"size",get:function(){return this._node.numChildren()}},{key:"child",value:function(t){var n=new Xo(t),r=cf(this.ref,t);return new e(this._node.getChild(n),r,Ls)}},{key:"exists",value:function(){return!this._node.isEmpty()}},{key:"exportVal",value:function(){return this._node.val(!0)}},{key:"forEach",value:function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,cf(n.ref,r),Ls))}))}},{key:"hasChild",value:function(e){var t=new Xo(e);return!this._node.getChild(t).isEmpty()}},{key:"hasChildren",value:function(){return!this._node.isLeafNode()&&!this._node.isEmpty()}},{key:"toJSON",value:function(){return this.exportVal()}},{key:"val",value:function(){return this._node.val()}}]),e}();function cf(e,t){var n,r,i,a;return null===Zo((e=Te(e))._path)?(n="child",r="path",a=!1,(i=t)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),xl(n,r,i,a)):xl("child","path",t,!1),new sf(e._repo,as(e._path,t))}var lf=function(){function e(t){p(this,e),this.callbackContext=t}return g(e,[{key:"respondsTo",value:function(e){return"value"===e}},{key:"createEvent",value:function(e,t){var n=t._queryParams.getIndex();return new nf("value",this,new uf(e.snapshotNode,new sf(t._repo,t._path),n))}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new rf(this,e,t):null}},{key:"matches",value:function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}},{key:"hasAnyCallback",value:function(){return null!==this.callbackContext}}]),e}(),ff=function(){function e(t,n){p(this,e),this.eventType=t,this.callbackContext=n}return g(e,[{key:"respondsTo",value:function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new rf(this,e,t):null}},{key:"createEvent",value:function(e,t){F(null!=e.childName,"Child events should have a childName.");var n=cf(new sf(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new nf(e.type,this,new uf(e.snapshotNode,n,r),e.prevName)}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}}},{key:"matches",value:function(t){return t instanceof e&&(this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)))}},{key:"hasAnyCallback",value:function(){return!!this.callbackContext}}]),e}();function hf(e,t,n,r,i){var a;if("object"===typeof r&&(a=void 0,i=r),"function"===typeof r&&(a=r),i&&i.onlyOnce){var o=n,s=function(t,n){Vl(e._repo,e,c),o(t,n)};s.userCallback=n.userCallback,s.context=n.context,n=s}var u=new af(n,a||void 0),c="value"===t?new lf(u):new ff(t,u);return function(e,t,n){var r;r=".info"===Zo(t._path)?Mc(e.infoSyncTree_,t,n):Mc(e.serverSyncTree_,t,n),Tl(e.eventQueue_,t._path,r)}(e._repo,e,c),function(){return Vl(e._repo,e,c)}}function df(e,t,n,r){return hf(e,"value",t,n,r)}!function(e){F(!fc,"__referenceConstructor has already been defined"),fc=e}(sf),function(e){F(!gc,"__referenceConstructor has already been defined"),gc=e}(sf);var pf={},vf=!1;function mf(e,t,n,r,i){var a=r||e.options.databaseURL;void 0===a&&(e.options.projectId||uo("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ao("Using default host for project ",e.options.projectId),a="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));var o,s=Zl(a,i),u=s.repoInfo,c=void 0;"undefined"!==typeof process&&(c={NODE_ENV:"production",PUBLIC_URL:"/latrik.ris.interface",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.FIREBASE_DATABASE_EMULATOR_HOST),c?(o=!0,a="http://".concat(c,"?ns=").concat(u.namespace),u=(s=Zl(a,i)).repoInfo):o=!s.repoInfo.secure;var l=i&&o?new To(To.OWNER):new Eo(e.name,e.options,t);Cl("Invalid Firebase Database URL",s),os(s.path)||uo("Database URL must point to the root of a Firebase Database (not including a child path).");var f=function(e,t,n,r){var i=pf[t.name];i||(i={},pf[t.name]=i);var a=i[e.toURLString()];a&&uo("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return a=new Nl(e,vf,n,r),i[e.toURLString()]=a,a}(u,e,l,new So(e.name,n));return new yf(f,e)}var yf=function(){function e(t,n){p(this,e),this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return g(e,[{key:"_repo",get:function(){return this._instanceStarted||(Al(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}},{key:"_root",get:function(){return this._rootInternal||(this._rootInternal=new sf(this._repo,Jo())),this._rootInternal}},{key:"_delete",value:function(){return null!==this._rootInternal&&(!function(e,t){var n=pf[t];n&&n[e.key]===e||uo("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),zl(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}},{key:"_checkNotDeleted",value:function(e){null===this._rootInternal&&uo("Cannot call "+e+" on a deleted database.")}}]),e}();vs.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},vs.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){!function(e){Ga=e}(wt),mt(new Ie("database",(function(e,t){var n=t.instanceIdentifier;return mf(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),Ct(Ha,Wa,e),Ct(Ha,Wa,"esm2017")}();Ct("firebase","9.16.0","app");var gf,bf="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},kf={},wf=wf||{},_f=bf||self;function xf(){}function Cf(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Sf(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Ef="closure_uid_"+(1e9*Math.random()>>>0),Tf=0;function If(e,t,n){return e.call.apply(e.bind,arguments)}function Rf(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Pf(e,t,n){return(Pf=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?If:Rf).apply(null,arguments)}function Of(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Nf(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Af(){this.s=this.s,this.o=this.o}Af.prototype.s=!1,Af.prototype.na=function(){var e;!this.s&&(this.s=!0,this.M(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Ef)&&e[Ef]||(e[Ef]=++Tf))},Af.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Df=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Ff(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function jf(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(Cf(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function Lf(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Lf.prototype.h=function(){this.defaultPrevented=!0};var Mf=function(){if(!_f.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{_f.addEventListener("test",xf,t),_f.removeEventListener("test",xf,t)}catch(n){}return e}();function Uf(e){return/^[\s\xa0]*$/.test(e)}var Vf=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function zf(e,t){return e<t?-1:e>t?1:0}function Bf(){var e=_f.navigator;return e&&(e=e.userAgent)?e:""}function qf(e){return-1!=Bf().indexOf(e)}function Hf(e){return Hf[" "](e),e}Hf[" "]=xf;var Wf,Gf=qf("Opera"),Kf=qf("Trident")||qf("MSIE"),$f=qf("Edge"),Qf=$f||Kf,Yf=qf("Gecko")&&!(-1!=Bf().toLowerCase().indexOf("webkit")&&!qf("Edge"))&&!(qf("Trident")||qf("MSIE"))&&!qf("Edge"),Xf=-1!=Bf().toLowerCase().indexOf("webkit")&&!qf("Edge");function Jf(){var e=_f.document;return e?e.documentMode:void 0}e:{var Zf="",eh=function(){var e=Bf();return Yf?/rv:([^\);]+)(\)|;)/.exec(e):$f?/Edge\/([\d\.]+)/.exec(e):Kf?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Xf?/WebKit\/(\S+)/.exec(e):Gf?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(eh&&(Zf=eh?eh[1]:""),Kf){var th=Jf();if(null!=th&&th>parseFloat(Zf)){Wf=String(th);break e}}Wf=Zf}var nh,rh={};function ih(){return function(e){var t=rh;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Vf(String(Wf)).split("."),n=Vf("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=zf(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||zf(0==a[2].length,0==o[2].length)||zf(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(_f.document&&Kf){var ah=Jf();nh=ah||(parseInt(Wf,10)||void 0)}else nh=void 0;var oh=nh;function sh(e,t){if(Lf.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Yf){e:{try{Hf(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:uh[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&sh.X.h.call(this)}}Nf(sh,Lf);var uh={2:"touch",3:"pen",4:"mouse"};sh.prototype.h=function(){sh.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ch="closure_listenable_"+(1e6*Math.random()|0),lh=0;function fh(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++lh,this.ba=this.ea=!1}function hh(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function dh(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function ph(e){var t={};for(var n in e)t[n]=e[n];return t}var vh="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function mh(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<vh.length;a++)n=vh[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function yh(e){this.src=e,this.g={},this.h=0}function gh(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Df(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(hh(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function bh(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ba&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}yh.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=bh(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):((t=new fh(t,this.src,a,!!r,i)).ea=n,e.push(t)),t};var kh="closure_lm_"+(1e6*Math.random()|0),wh={};function _h(e,t,n,r,i){if(r&&r.once)return Ch(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)_h(e,t[a],n,r,i);return null}return n=Oh(n),e&&e[ch]?e.N(t,n,Sf(r)?!!r.capture:!!r,i):xh(e,t,n,!1,r,i)}function xh(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Sf(i)?!!i.capture:!!i,s=Rh(e);if(s||(e[kh]=s=new yh(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Ih;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Mf||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Th(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Ch(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Ch(e,t[a],n,r,i);return null}return n=Oh(n),e&&e[ch]?e.O(t,n,Sf(r)?!!r.capture:!!r,i):xh(e,t,n,!0,r,i)}function Sh(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Sh(e,t[a],n,r,i);else r=Sf(r)?!!r.capture:!!r,n=Oh(n),e&&e[ch]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=bh(a=e.g[t],n,r,i))&&(hh(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Rh(e))&&(t=e.g[t.toString()],e=-1,t&&(e=bh(t,n,r,i)),(n=-1<e?t[e]:null)&&Eh(n))}function Eh(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[ch])gh(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Th(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Rh(t))?(gh(n,e),0==n.h&&(n.src=null,t[kh]=null)):hh(e)}}}function Th(e){return e in wh?wh[e]:wh[e]="on"+e}function Ih(e,t){if(e.ba)e=!0;else{t=new sh(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&Eh(e),e=n.call(r,t)}return e}function Rh(e){return(e=e[kh])instanceof yh?e:null}var Ph="__closure_events_fn_"+(1e9*Math.random()>>>0);function Oh(e){return"function"===typeof e?e:(e[Ph]||(e[Ph]=function(t){return e.handleEvent(t)}),e[Ph])}function Nh(){Af.call(this),this.i=new yh(this),this.P=this,this.I=null}function Ah(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Lf(t,e);else if(t instanceof Lf)t.target=t.target||e;else{var i=t;mh(t=new Lf(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Dh(o,r,!0,t)&&i}if(i=Dh(o=t.g=e,r,!0,t)&&i,i=Dh(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Dh(o=t.g=n[a],r,!1,t)&&i}function Dh(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ba&&o.capture==n){var s=o.listener,u=o.ha||o.src;o.ea&&gh(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}Nf(Nh,Af),Nh.prototype[ch]=!0,Nh.prototype.removeEventListener=function(e,t,n,r){Sh(this,e,t,n,r)},Nh.prototype.M=function(){if(Nh.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)hh(n[r]);delete t.g[e],t.h--}}this.I=null},Nh.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Nh.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Fh=_f.JSON.stringify;function jh(){var e=Hh,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Lh,Mh=function(){function e(){p(this,e),this.h=this.g=null}return g(e,[{key:"add",value:function(e,t){var n=Uh.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Uh=new(function(){function e(t,n){p(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return g(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Vh}),(function(e){return e.reset()})),Vh=function(){function e(){p(this,e),this.next=this.g=this.h=null}return g(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function zh(e){_f.setTimeout((function(){throw e}),0)}function Bh(e,t){Lh||function(){var e=_f.Promise.resolve(void 0);Lh=function(){e.then(Wh)}}(),qh||(Lh(),qh=!0),Hh.add(e,t)}var qh=!1,Hh=new Mh;function Wh(){for(var e;e=jh();){try{e.h.call(e.g)}catch(n){zh(n)}var t=Uh;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}qh=!1}function Gh(e,t){Nh.call(this),this.h=e||1,this.g=t||_f,this.j=Pf(this.lb,this),this.l=Date.now()}function Kh(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function $h(e,t,n){if("function"===typeof e)n&&(e=Pf(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Pf(e.handleEvent,e)}return 2147483647<Number(t)?-1:_f.setTimeout(e,t||0)}function Qh(e){e.g=$h((function(){e.g=null,e.i&&(e.i=!1,Qh(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Nf(Gh,Nh),(gf=Gh.prototype).ca=!1,gf.R=null,gf.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Ah(this,"tick"),this.ca&&(Kh(this),this.start()))}},gf.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},gf.M=function(){Gh.X.M.call(this),Kh(this),delete this.g};var Yh=function(e){k(n,e);var t=_(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return g(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Qh(this)}},{key:"M",value:function(){E(i(n.prototype),"M",this).call(this),this.g&&(_f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Af);function Xh(e){Af.call(this),this.h=e,this.g={}}Nf(Xh,Af);var Jh=[];function Zh(e,t,n,r){Array.isArray(n)||(n&&(Jh[0]=n.toString()),n=Jh);for(var i=0;i<n.length;i++){var a=_h(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function ed(e){dh(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Eh(e)}),e),e.g={}}function td(){this.g=!0}function nd(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Fh(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}Xh.prototype.M=function(){Xh.X.M.call(this),ed(this)},Xh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},td.prototype.Aa=function(){this.g=!1},td.prototype.info=function(){};var rd={},id=null;function ad(){return id=id||new Nh}function od(e){Lf.call(this,rd.Pa,e)}function sd(e){var t=ad();Ah(t,new od(t))}function ud(e,t){Lf.call(this,rd.STAT_EVENT,e),this.stat=t}function cd(e){var t=ad();Ah(t,new ud(t,e))}function ld(e,t){Lf.call(this,rd.Qa,e),this.size=t}function fd(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return _f.setTimeout((function(){e()}),t)}rd.Pa="serverreachability",Nf(od,Lf),rd.STAT_EVENT="statevent",Nf(ud,Lf),rd.Qa="timingevent",Nf(ld,Lf);var hd={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},dd={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function pd(){}function vd(e){return e.h||(e.h=e.i())}function md(){}pd.prototype.h=null;var yd,gd={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function bd(){Lf.call(this,"d")}function kd(){Lf.call(this,"c")}function wd(){}function _d(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new Xh(this),this.O=Cd,e=Qf?125:void 0,this.T=new Gh(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new xd}function xd(){this.i=null,this.g="",this.h=!1}Nf(bd,Lf),Nf(kd,Lf),Nf(wd,pd),wd.prototype.g=function(){return new XMLHttpRequest},wd.prototype.i=function(){return{}},yd=new wd;var Cd=45e3,Sd={},Ed={};function Td(e,t,n){e.K=1,e.v=Gd(zd(t)),e.s=n,e.P=!0,Id(e,null)}function Id(e,t){e.F=Date.now(),Nd(e),e.A=zd(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),ap(n.i,"t",r),e.C=0,n=e.l.H,e.h=new xd,e.g=ov(e.l,n?t:null,!e.s),0<e.N&&(e.L=new Yh(Pf(e.La,e,e.g),e.N)),Zh(e.S,e.g,"readystatechange",e.ib),t=e.H?ph(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),sd(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function Rd(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function Pd(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Od(e,n))==Ed){4==t&&(e.o=4,cd(14),i=!1),nd(e.j,e.m,null,"[Incomplete Response]");break}if(r==Sd){e.o=4,cd(15),nd(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}nd(e.j,e.m,r,null),Ld(e,r)}Rd(e)&&r!=Ed&&r!=Sd&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,cd(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Jp(t),t.K=!0,cd(11))):(nd(e.j,e.m,n,"[Invalid Chunked Response]"),jd(e),Fd(e))}function Od(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ed:(n=Number(t.substring(n,r)),isNaN(n)?Sd:(r+=1)+n>t.length?Ed:(t=t.substr(r,n),e.C=r+n,t))}function Nd(e){e.V=Date.now()+e.O,Ad(e,e.O)}function Ad(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=fd(Pf(e.gb,e),t)}function Dd(e){e.B&&(_f.clearTimeout(e.B),e.B=null)}function Fd(e){0==e.l.G||e.I||tv(e.l,e)}function jd(e){Dd(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Kh(e.T),ed(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Ld(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||dp(n.h,e)))if(!e.J&&dp(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;ev(n),Hp(n)}Xp(n),cd(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=fd(Pf(n.cb,n),6e3));if(1>=hp(n.h)&&n.ja){try{n.ja()}catch(a){}n.ja=void 0}}else rv(n,11)}else if((e.J||n.g==e)&&ev(n),!Uf(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.T=a[0],a=a[1],2==n.G)if("c"==a[0]){n.I=a[1],n.ka=a[2];var o=a[3];null!=o&&(n.ma=o,n.j.info("VER="+n.ma));var s=a[4];null!=s&&(n.Ca=s,n.j.info("SVER="+n.Ca));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.h;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(pp(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.za=h,Wd(r.F,r.D,h))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var d=e;if((r=n).sa=av(r,r.H?r.ka:null,r.V),d.J){vp(r.h,d);var p=d,v=r.J;v&&p.setTimeout(v),p.B&&(Dd(p),Nd(p)),r.g=d}else Yp(r);0<n.i.length&&Gp(n)}else"stop"!=a[0]&&"close"!=a[0]||rv(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?rv(n,7):qp(n):"noop"!=a[0]&&n.l&&n.l.wa(a),n.A=0)}sd()}catch(a){}}function Md(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Cf(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Cf(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Cf(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(gf=_d.prototype).setTimeout=function(e){this.O=e},gf.ib=function(e){e=e.target;var t=this.L;t&&3==Lp(e)?t.l():this.La(e)},gf.La=function(e){try{if(e==this.g)e:{var t=Lp(this.g),n=this.g.Ea();this.g.aa();if(!(3>t)&&(3!=t||Qf||this.g&&(this.h.h||this.g.fa()||Mp(this.g)))){this.I||4!=t||7==n||sd(),Dd(this);var r=this.g.aa();this.Y=r;t:if(Rd(this)){var i=Mp(this.g);e="";var a=i.length,o=4==Lp(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){jd(this),Fd(this);var s="";break t}this.h.i=new _f.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.fa();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.U,t,r),this.i){if(this.Z&&!this.J){t:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Uf(u)){var l=u;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,cd(12),jd(this),Fd(this);break e}nd(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ld(this,r)}this.P?(Pd(this,t,s),Qf&&this.i&&3==t&&(Zh(this.S,this.T,"tick",this.hb),this.T.start())):(nd(this.j,this.m,s,null),Ld(this,s)),4==t&&jd(this),this.i&&!this.I&&(4==t?tv(this.l,this):(this.i=!1,Nd(this)))}else 400==r&&0<s.indexOf("Unknown SID")?(this.o=3,cd(12)):(this.o=0,cd(13)),jd(this),Fd(this)}}}catch(t){}},gf.hb=function(){if(this.g){var e=Lp(this.g),t=this.g.fa();this.C<t.length&&(Dd(this),Pd(this,e,t),this.i&&4!=e&&Nd(this))}},gf.cancel=function(){this.I=!0,jd(this)},gf.gb=function(){this.B=null;var e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(sd(),cd(17)),jd(this),this.o=2,Fd(this)):Ad(this,this.V-e)};var Ud=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Vd(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Vd){this.h=void 0!==t?t:e.h,Bd(this,e.j),this.s=e.s,this.g=e.g,qd(this,e.m),this.l=e.l,t=e.i;var n=new tp;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Hd(this,n),this.o=e.o}else e&&(n=String(e).match(Ud))?(this.h=!!t,Bd(this,n[1]||"",!0),this.s=Kd(n[2]||""),this.g=Kd(n[3]||"",!0),qd(this,n[4]),this.l=Kd(n[5]||"",!0),Hd(this,n[6]||"",!0),this.o=Kd(n[7]||"")):(this.h=!!t,this.i=new tp(null,this.h))}function zd(e){return new Vd(e)}function Bd(e,t,n){e.j=n?Kd(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function qd(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Hd(e,t,n){t instanceof tp?(e.i=t,function(e,t){t&&!e.j&&(np(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(rp(this,t),ap(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=$d(t,Zd)),e.i=new tp(t,e.h))}function Wd(e,t,n){e.i.set(t,n)}function Gd(e){return Wd(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Kd(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function $d(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Qd),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Qd(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Vd.prototype.toString=function(){var e=[],t=this.j;t&&e.push($d(t,Yd,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push($d(t,Yd,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push($d(n,"/"==n.charAt(0)?Jd:Xd,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",$d(n,ep)),e.join("")};var Yd=/[#\/\?@]/g,Xd=/[#\?:]/g,Jd=/[#\?]/g,Zd=/[#\?@]/g,ep=/#/g;function tp(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function np(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function rp(e,t){np(e),t=op(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function ip(e,t){return np(e),t=op(e,t),e.g.has(t)}function ap(e,t,n){rp(e,t),0<n.length&&(e.i=null,e.g.set(op(e,t),Ff(n)),e.h+=n.length)}function op(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(gf=tp.prototype).add=function(e,t){np(this),this.i=null,e=op(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},gf.forEach=function(e,t){np(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},gf.oa=function(){np(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},gf.W=function(e){np(this);var t=[];if("string"===typeof e)ip(this,e)&&(t=t.concat(this.g.get(op(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},gf.set=function(e,t){return np(this),this.i=null,ip(this,e=op(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},gf.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},gf.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var sp=g((function e(t,n){p(this,e),this.h=t,this.g=n}));function up(e){this.l=e||lp,_f.PerformanceNavigationTiming?e=0<(e=_f.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(_f.g&&_f.g.Ga&&_f.g.Ga()&&_f.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var cp,lp=10;function fp(e){return!!e.h||!!e.g&&e.g.size>=e.j}function hp(e){return e.h?1:e.g?e.g.size:0}function dp(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function pp(e,t){e.g?e.g.add(t):e.h=t}function vp(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function mp(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=T(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Ff(e.i)}function yp(){}function gp(){this.g=new yp}function bp(e,t,n){var r=n||"";try{Md(e,(function(e,n){var i=e;Sf(e)&&(i=Fh(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(zT){throw t.push(r+"type="+encodeURIComponent("_badmap")),zT}}function kp(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function wp(e){this.l=e.ac||null,this.j=e.jb||!1}function _p(e,t){Nh.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=xp,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}up.prototype.cancel=function(){if(this.i=mp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=T(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},yp.prototype.stringify=function(e){return _f.JSON.stringify(e,void 0)},yp.prototype.parse=function(e){return _f.JSON.parse(e,void 0)},Nf(wp,pd),wp.prototype.g=function(){return new _p(this.l,this.j)},wp.prototype.i=(cp={},function(){return cp}),Nf(_p,Nh);var xp=0;function Cp(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}function Sp(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Ep(e)}function Ep(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(gf=_p.prototype).open=function(e,t){if(this.readyState!=xp)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Ep(this)},gf.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||_f).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},gf.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Sp(this)),this.readyState=xp},gf.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ep(this)),this.g&&(this.readyState=3,Ep(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if("undefined"!==typeof _f.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Cp(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))},gf.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Sp(this):Ep(this),3==this.readyState&&Cp(this)}},gf.Va=function(e){this.g&&(this.response=this.responseText=e,Sp(this))},gf.Ua=function(e){this.g&&(this.response=e,Sp(this))},gf.ga=function(){this.g&&Sp(this)},gf.setRequestHeader=function(e,t){this.v.append(e,t)},gf.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},gf.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(_p.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Tp=_f.JSON.parse;function Ip(e){Nh.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Rp,this.K=this.L=!1}Nf(Ip,Nh);var Rp="",Pp=/^https?$/i,Op=["POST","PUT"];function Np(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Ap(e),Fp(e)}function Ap(e){e.D||(e.D=!0,Ah(e,"complete"),Ah(e,"error"))}function Dp(e){if(e.h&&"undefined"!=typeof wf&&(!e.C[1]||4!=Lp(e)||2!=e.aa()))if(e.v&&4==Lp(e))$h(e.Ha,0,e);else if(Ah(e,"readystatechange"),4==Lp(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Ud)[1]||null;if(!a&&_f.self&&_f.self.location){var o=_f.self.location.protocol;a=o.substr(0,o.length-1)}i=!Pp.test(a?a.toLowerCase():"")}t=i}if(t)Ah(e,"complete"),Ah(e,"success");else{e.m=6;try{var s=2<Lp(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.aa()+"]",Ap(e)}}finally{Fp(e)}}}function Fp(e,t){if(e.g){jp(e);var n=e.g,r=e.C[0]?xf:null;e.g=null,e.C=null,t||Ah(e,"ready");try{n.onreadystatechange=r}catch(zT){}}}function jp(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(_f.clearTimeout(e.A),e.A=null)}function Lp(e){return e.g?e.g.readyState:0}function Mp(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Rp:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(_v){return null}}function Up(e){var t="";return dh(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Vp(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Up(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Wd(e,t,n))}function zp(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Bp(e){this.Ca=0,this.i=[],this.j=new td,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=zp("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=zp("baseRetryDelayMs",5e3,e),this.bb=zp("retryDelaySeedMs",1e4,e),this.$a=zp("forwardChannelMaxRetries",2,e),this.ta=zp("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new up(e&&e.concurrentRequestLimit),this.Fa=new gp,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function qp(e){if(Wp(e),3==e.G){var t=e.U++,n=zd(e.F);Wd(n,"SID",e.I),Wd(n,"RID",t),Wd(n,"TYPE","terminate"),$p(e,n),(t=new _d(e,e.j,t,void 0)).K=2,t.v=Gd(zd(n)),n=!1,_f.navigator&&_f.navigator.sendBeacon&&(n=_f.navigator.sendBeacon(t.v.toString(),"")),!n&&_f.Image&&((new Image).src=t.v,n=!0),n||(t.g=ov(t.l,null),t.g.da(t.v)),t.F=Date.now(),Nd(t)}iv(e)}function Hp(e){e.g&&(Jp(e),e.g.cancel(),e.g=null)}function Wp(e){Hp(e),e.u&&(_f.clearTimeout(e.u),e.u=null),ev(e),e.h.cancel(),e.m&&("number"===typeof e.m&&_f.clearTimeout(e.m),e.m=null)}function Gp(e){fp(e.h)||e.m||(e.m=!0,Bh(e.Ja,e),e.C=0)}function Kp(e,t){var n;n=t?t.m:e.U++;var r=zd(e.F);Wd(r,"SID",e.I),Wd(r,"RID",n),Wd(r,"AID",e.T),$p(e,r),e.o&&e.s&&Vp(r,e.o,e.s),n=new _d(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=Qp(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),pp(e.h,n),Td(n,r,t)}function $p(e,t){e.ia&&dh(e.ia,(function(e,n){Wd(t,n,e)})),e.l&&Md({},(function(e,n){Wd(t,n,e)}))}function Qp(e,t,n){n=Math.min(e.i.length,n);var r=e.l?Pf(e.l.Ra,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=a))a=Math.max(0,i[u].h-100),s=!1;else try{bp(l,o,"req"+c+"_")}catch(f){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function Yp(e){e.g||e.u||(e.Z=1,Bh(e.Ia,e),e.A=0)}function Xp(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=fd(Pf(e.Ia,e),nv(e,e.A)),e.A++,!0)}function Jp(e){null!=e.B&&(_f.clearTimeout(e.B),e.B=null)}function Zp(e){e.g=new _d(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=zd(e.sa);Wd(t,"RID","rpc"),Wd(t,"SID",e.I),Wd(t,"CI",e.L?"0":"1"),Wd(t,"AID",e.T),Wd(t,"TYPE","xmlhttp"),$p(e,t),e.o&&e.s&&Vp(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=Gd(zd(t)),n.s=null,n.P=!0,Id(n,e)}function ev(e){null!=e.v&&(_f.clearTimeout(e.v),e.v=null)}function tv(e,t){var n=null;if(e.g==t){ev(e),Jp(e),e.g=null;var r=2}else{if(!dp(e.h,t))return;n=t.D,vp(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Ah(r=ad(),new ld(r,n)),Gp(e)}else Yp(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(hp(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Za?0:e.$a))&&(e.m=fd(Pf(e.Ja,e,t),nv(e,e.C)),e.C++,!0))}(e,t)||2==r&&Xp(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:rv(e,5);break;case 4:rv(e,10);break;case 3:rv(e,6);break;default:rv(e,2)}}function nv(e,t){var n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function rv(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=Pf(e.kb,e);n||(n=new Vd("//www.google.com/images/cleardot.gif"),_f.location&&"http"==_f.location.protocol||Bd(n,"https"),Gd(n)),function(e,t){var n=new td;if(_f.Image){var r=new Image;r.onload=Of(kp,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Of(kp,n,r,"TestLoadImage: error",!1,t),r.onabort=Of(kp,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Of(kp,n,r,"TestLoadImage: timeout",!1,t),_f.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else cd(2);e.G=0,e.l&&e.l.va(t),iv(e),Wp(e)}function iv(e){if(e.G=0,e.la=[],e.l){var t=mp(e.h);0==t.length&&0==e.i.length||(jf(e.la,t),jf(e.la,e.i),e.h.i.length=0,Ff(e.i),e.i.length=0),e.l.ua()}}function av(e,t,n){var r=n instanceof Vd?zd(n):new Vd(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),qd(r,r.m);else{var i=_f.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new Vd(null,void 0);r&&Bd(a,r),t&&(a.g=t),i&&qd(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.za,n&&t&&Wd(r,n,t),Wd(r,"VER",e.ma),$p(e,r),r}function ov(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new Ip(new wp({jb:!0})):new Ip(e.ra)).Ka(e.H),t}function sv(){}function uv(){if(Kf&&!(10<=Number(oh)))throw Error("Environmental error: no available transport.")}function cv(e,t){Nh.call(this),this.g=new Bp(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!Uf(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Uf(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new hv(this)}function lv(e){bd.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function fv(){kd.call(this),this.status=1}function hv(e){this.g=e}(gf=Ip.prototype).Ka=function(e){this.L=e},gf.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():yd.g(),this.C=this.u?vd(this.u):vd(yd),this.g.onreadystatechange=Pf(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){return void Np(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=T(r.keys());try{for(o.s();!(a=o.n()).done;){var s=a.value;n.set(s,r.get(s))}}catch(p){o.e(p)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=_f.FormData&&e instanceof _f.FormData,!(0<=Df(Op,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var u,c=T(n);try{for(c.s();!(u=c.n()).done;){var l=d(u.value,2),f=l[0],h=l[1];this.g.setRequestHeader(f,h)}}catch(p){c.e(p)}finally{c.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{jp(this),0<this.B&&((this.K=function(e){return Kf&&ih()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Pf(this.qa,this)):this.A=$h(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Np(this,s)}},gf.qa=function(){"undefined"!=typeof wf&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ah(this,"timeout"),this.abort(8))},gf.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Ah(this,"complete"),Ah(this,"abort"),Fp(this))},gf.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Fp(this,!0)),Ip.X.M.call(this)},gf.Ha=function(){this.s||(this.F||this.v||this.l?Dp(this):this.fb())},gf.fb=function(){Dp(this)},gf.aa=function(){try{return 2<Lp(this)?this.g.status:-1}catch(cp){return-1}},gf.fa=function(){try{return this.g?this.g.responseText:""}catch(cp){return""}},gf.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Tp(t)}},gf.Ea=function(){return this.m},gf.Oa=function(){return"string"===typeof this.j?this.j:String(this.j)},(gf=Bp.prototype).ma=8,gf.G=1,gf.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new _d(this,this.j,e,void 0),n=this.s;if(this.S&&(n?mh(n=ph(n),this.S):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Qp(this,t,r),Wd(i=zd(this.F),"RID",e),Wd(i,"CVER",22),this.D&&Wd(i,"X-HTTP-Session-Id",this.D),$p(this,i),n&&(this.N?r="headers="+encodeURIComponent(String(Up(n)))+"&"+r:this.o&&Vp(i,this.o,n)),pp(this.h,t),this.Ya&&Wd(i,"TYPE","init"),this.O?(Wd(i,"$req",r),Wd(i,"SID","null"),t.Z=!0,Td(t,i,null)):Td(t,i,r),this.G=2}}else 3==this.G&&(e?Kp(this,e):0==this.i.length||fp(this.h)||Kp(this))},gf.Ia=function(){if(this.u=null,Zp(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=fd(Pf(this.eb,this),e)}},gf.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,cd(10),Hp(this),Zp(this))},gf.cb=function(){null!=this.v&&(this.v=null,Hp(this),Xp(this),cd(19))},gf.kb=function(e){e?(this.j.info("Successfully pinged google.com"),cd(2)):(this.j.info("Failed to ping google.com"),cd(1))},(gf=sv.prototype).xa=function(){},gf.wa=function(){},gf.va=function(){},gf.ua=function(){},gf.Ra=function(){},uv.prototype.g=function(e,t){return new cv(e,t)},Nf(cv,Nh),cv.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;cd(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=av(e,null,e.V),Gp(e)},cv.prototype.close=function(){qp(this.g)},cv.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Fh(e),e=n);t.i.push(new sp(t.ab++,e)),3==t.G&&Gp(t)},cv.prototype.M=function(){this.g.l=null,delete this.j,qp(this.g),delete this.g,cv.X.M.call(this)},Nf(lv,bd),Nf(fv,kd),Nf(hv,sv),hv.prototype.xa=function(){Ah(this.g,"a")},hv.prototype.wa=function(e){Ah(this.g,new lv(e))},hv.prototype.va=function(e){Ah(this.g,new fv)},hv.prototype.ua=function(){Ah(this.g,"b")},uv.prototype.createWebChannel=uv.prototype.g,cv.prototype.send=cv.prototype.u,cv.prototype.open=cv.prototype.m,cv.prototype.close=cv.prototype.close,hd.NO_ERROR=0,hd.TIMEOUT=8,hd.HTTP_ERROR=6,dd.COMPLETE="complete",md.EventType=gd,gd.OPEN="a",gd.CLOSE="b",gd.ERROR="c",gd.MESSAGE="d",Nh.prototype.listen=Nh.prototype.N,Ip.prototype.listenOnce=Ip.prototype.O,Ip.prototype.getLastError=Ip.prototype.Oa,Ip.prototype.getLastErrorCode=Ip.prototype.Ea,Ip.prototype.getStatus=Ip.prototype.aa,Ip.prototype.getResponseJson=Ip.prototype.Sa,Ip.prototype.getResponseText=Ip.prototype.fa,Ip.prototype.send=Ip.prototype.da,Ip.prototype.setWithCredentials=Ip.prototype.Ka;var dv=kf.createWebChannelTransport=function(){return new uv},pv=kf.getStatEventTarget=function(){return ad()},vv=kf.ErrorCode=hd,mv=kf.EventType=dd,yv=kf.Event=rd,gv=kf.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},bv=kf.FetchXmlHttpFactory=wp,kv=kf.WebChannel=md,wv=kf.XhrIo=Ip,_v="@firebase/firestore",xv=function(){function e(t){p(this,e),this.uid=t}return g(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();xv.UNAUTHENTICATED=new xv(null),xv.GOOGLE_CREDENTIALS=new xv("google-credentials-uid"),xv.FIRST_PARTY=new xv("first-party-uid"),xv.MOCK_USER=new xv("mock-user");var Cv="9.16.0",Sv=new Ue("@firebase/firestore");function Ev(){return Sv.logLevel}function Tv(e){if(Sv.logLevel<=Ne.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Pv);Sv.debug.apply(Sv,["Firestore (".concat(Cv,"): ").concat(e)].concat(C(i)))}}function Iv(e){if(Sv.logLevel<=Ne.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Pv);Sv.error.apply(Sv,["Firestore (".concat(Cv,"): ").concat(e)].concat(C(i)))}}function Rv(e){if(Sv.logLevel<=Ne.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Pv);Sv.warn.apply(Sv,["Firestore (".concat(Cv,"): ").concat(e)].concat(C(i)))}}function Pv(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Ov(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Cv,") INTERNAL ASSERTION FAILED: ")+e;throw Iv(t),new Error(t)}function Nv(e,t){e||Ov()}function Av(e,t){return e}var Dv={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Fv=function(e){k(n,e);var t=_(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return g(n)}(ie),jv=g((function e(){var t=this;p(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Lv=g((function e(t,n){p(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Mv=function(){function e(){p(this,e)}return g(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(xv.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Uv=function(){function e(t){p(this,e),this.token=t,this.changeListener=null}return g(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Vv=function(){function e(t){p(this,e),this.t=t,this.currentUser=xv.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return g(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new jv;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new jv,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(P(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){Tv("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(Tv("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new jv)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Tv("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Nv("string"==typeof n.accessToken),new Lv(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Nv(null===e||"string"==typeof e),new xv(e)}}]),e}(),zv=function(){function e(t,n,r,i){p(this,e),this.h=t,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=xv.FIRST_PARTY,this.p=new Map}return g(e,[{key:"I",value:function(){return this.g?this.g():(Nv(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}},{key:"headers",get:function(){this.p.set("X-Goog-AuthUser",this.l);var e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}]),e}(),Bv=function(){function e(t,n,r,i){p(this,e),this.h=t,this.l=n,this.m=r,this.g=i}return g(e,[{key:"getToken",value:function(){return Promise.resolve(new zv(this.h,this.l,this.m,this.g))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(xv.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),qv=g((function e(t){p(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Hv=function(){function e(t){p(this,e),this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}return g(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Tv("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.A;return n.A=e.token,Tv("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Tv("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.T.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.T.getImmediate({optional:!0});e?i(e):Tv("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Nv("string"==typeof t.token),e.A=t.token,new qv(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Wv(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Gv=function(){function e(){p(this,e)}return g(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Wv(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Kv(e,t){return e<t?-1:e>t?1:0}function $v(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}var Qv=function(){function e(t,n){if(p(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Fv(Dv.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Fv(Dv.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Fv(Dv.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Fv(Dv.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return g(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Kv(this.nanoseconds,e.nanoseconds):Kv(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Yv=function(){function e(t){p(this,e),this.timestamp=t}return g(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Qv(0,0))}},{key:"max",value:function(){return new e(new Qv(253402300799,999999999))}}]),e}(),Xv=function(){function e(t,n,r){p(this,e),void 0===n?n=0:n>t.length&&Ov(),void 0===r?r=t.length-n:r>t.length-n&&Ov(),this.segments=t,this.offset=n,this.len=r}return g(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Jv=function(e){k(n,e);var t=_(n);function n(){return p(this,n),t.apply(this,arguments)}return g(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new Fv(Dv.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,C(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Xv),Zv=/^[_a-zA-Z][_a-zA-Z0-9]*$/,em=function(e){k(n,e);var t=_(n);function n(){return p(this,n),t.apply(this,arguments)}return g(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Zv.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Fv(Dv.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new Fv(Dv.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Fv(Dv.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new Fv(Dv.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Xv),tm=function(){function e(t){p(this,e),this.path=t}return g(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Jv.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Jv.fromString(t))}},{key:"fromName",value:function(t){return new e(Jv.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Jv.emptyPath())}},{key:"comparator",value:function(e,t){return Jv.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Jv(t.slice()))}}]),e}(),nm=g((function e(t,n,r,i){p(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));nm.UNKNOWN_ID=-1;function rm(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Yv.fromTimestamp(1e9===r?new Qv(n+1,0):new Qv(n,r));return new am(i,tm.empty(),t)}function im(e){return new am(e.readTime,e.key,-1)}var am=function(){function e(t,n,r){p(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return g(e,null,[{key:"min",value:function(){return new e(Yv.min(),tm.empty(),-1)}},{key:"max",value:function(){return new e(Yv.max(),tm.empty(),-1)}}]),e}();function om(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=tm.comparator(e.documentKey,t.documentKey))?n:Kv(e.largestBatchId,t.largestBatchId)}var sm="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",um=function(){function e(){p(this,e),this.onCommittedListeners=[]}return g(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function cm(e){return lm.apply(this,arguments)}function lm(){return lm=P(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Dv.FAILED_PRECONDITION&&t.message===sm){e.next=2;break}throw t;case 2:Tv("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),lm.apply(this,arguments)}var fm=function(){function e(t){var n=this;p(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return g(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Ov(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=T(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,s=function(){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},u=0;u<i;u++)s()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}();function hm(e){return"IndexedDbTransactionError"===e.name}var dm=function(){function e(t,n){var r=this;p(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ut(e)},this.ct=function(e){return n.writeSequenceNumber(e)})}return g(e,[{key:"ut",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ct&&this.ct(e),e}}]),e}();dm.at=-1;var pm=g((function e(t,n,r,i,a,o,s,u){p(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u})),vm=function(){function e(t,n){p(this,e),this.projectId=t,this.database=n||"(default)"}return g(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function mm(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ym(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function gm(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function bm(e){return null==e}function km(e){return 0===e&&1/e==-1/0}function wm(e){return"number"==typeof e&&Number.isInteger(e)&&!km(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var _m=function(e){function t(e){p(this,t),this.binaryString=e}return g(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Kv(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();_m.EMPTY_BYTE_STRING=new _m("");var xm=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cm(e){if(Nv(!!e),"string"==typeof e){var t=0,n=xm.exec(e);if(Nv(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Sm(e.seconds),nanos:Sm(e.nanos)}}function Sm(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Em(e){return"string"==typeof e?_m.fromBase64String(e):_m.fromUint8Array(e)}function Tm(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Im(e){var t=e.mapValue.fields.__previous_value__;return Tm(t)?Im(t):t}function Rm(e){var t=Cm(e.mapValue.fields.__local_write_time__.timestampValue);return new Qv(t.seconds,t.nanos)}var Pm={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Om(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Tm(e)?4:Hm(e)?9007199254740991:10:Ov()}function Nm(e,t){if(e===t)return!0;var n=Om(e);if(n!==Om(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Rm(e).isEqual(Rm(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Cm(e.timestampValue),r=Cm(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Em(e.bytesValue).isEqual(Em(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Sm(e.geoPointValue.latitude)===Sm(t.geoPointValue.latitude)&&Sm(e.geoPointValue.longitude)===Sm(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Sm(e.integerValue)===Sm(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Sm(e.doubleValue),r=Sm(t.doubleValue);return n===r?km(n)===km(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return $v(e.arrayValue.values||[],t.arrayValue.values||[],Nm);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(mm(n)!==mm(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Nm(n[i],r[i])))return!1;return!0}(e,t);default:return Ov()}}function Am(e,t){return void 0!==(e.values||[]).find((function(e){return Nm(e,t)}))}function Dm(e,t){if(e===t)return 0;var n=Om(e),r=Om(t);if(n!==r)return Kv(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Kv(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Sm(e.integerValue||e.doubleValue),r=Sm(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Fm(e.timestampValue,t.timestampValue);case 4:return Fm(Rm(e),Rm(t));case 5:return Kv(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Em(e),r=Em(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Kv(n[i],r[i]);if(0!==a)return a}return Kv(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Kv(Sm(e.latitude),Sm(t.latitude));return 0!==n?n:Kv(Sm(e.longitude),Sm(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Dm(n[i],r[i]);if(a)return a}return Kv(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Pm.mapValue&&t===Pm.mapValue)return 0;if(e===Pm.mapValue)return 1;if(t===Pm.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=Kv(r[o],a[o]);if(0!==s)return s;var u=Dm(n[r[o]],i[a[o]]);if(0!==u)return u}return Kv(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Ov()}}function Fm(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Kv(e,t);var n=Cm(e),r=Cm(t),i=Kv(n.seconds,r.seconds);return 0!==i?i:Kv(n.nanos,r.nanos)}function jm(e){return Lm(e)}function Lm(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Cm(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Em(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,tm.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=T(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Lm(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=T(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Lm(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Ov();var t,n}function Mm(e){return!!e&&"integerValue"in e}function Um(e){return!!e&&"arrayValue"in e}function Vm(e){return!!e&&"nullValue"in e}function zm(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Bm(e){return!!e&&"mapValue"in e}function qm(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return ym(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=qm(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=qm(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Hm(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}var Wm=g((function e(t,n){p(this,e),this.position=t,this.inclusive=n}));function Gm(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?tm.comparator(tm.fromName(o.referenceValue),n.key):Dm(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Km(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Nm(e.position[n],t.position[n]))return!1;return!0}var $m=g((function e(){p(this,e)})),Qm=function(e){k(n,e);var t=_(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return g(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Dm(t,this.value)):null!==t&&Om(this.value)===Om(t)&&this.matchesComparison(Dm(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ov()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new ry(e,t,r):"array-contains"===t?new sy(e,r):"in"===t?new uy(e,r):"not-in"===t?new cy(e,r):"array-contains-any"===t?new ly(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new iy(e,n):new ay(e,n)}}]),n}($m),Ym=function(e){k(n,e);var t=_(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).filters=e,i.op=r,i.ht=null,i}return g(n,[{key:"matches",value:function(e){return Xm(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ht||(this.ht=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ht}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.lt((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"lt",value:function(e){var t,n=T(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}($m);function Xm(e){return"and"===e.op}function Jm(e){return Zm(e)&&Xm(e)}function Zm(e){var t,n=T(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof Ym)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function ey(e){if(e instanceof Qm)return e.field.canonicalString()+e.op.toString()+jm(e.value);if(Jm(e))return e.filters.map((function(e){return ey(e)})).join(",");var t=e.filters.map((function(e){return ey(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function ty(e,t){return e instanceof Qm?function(e,t){return t instanceof Qm&&e.op===t.op&&e.field.isEqual(t.field)&&Nm(e.value,t.value)}(e,t):e instanceof Ym?function(e,t){return t instanceof Ym&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&ty(n,t.filters[r])}),!0)}(e,t):void Ov()}function ny(e){return e instanceof Qm?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(jm(e.value))}(e):e instanceof Ym?function(e){return e.op.toString()+" {"+e.getFilters().map(ny).join(" ,")+"}"}(e):"Filter"}var ry=function(e){k(n,e);var t=_(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this,e,r,i)).key=tm.fromName(i.referenceValue),a}return g(n,[{key:"matches",value:function(e){var t=tm.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(Qm),iy=function(e){k(n,e);var t=_(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e,"in",r)).keys=oy("in",r),i}return g(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Qm),ay=function(e){k(n,e);var t=_(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e,"not-in",r)).keys=oy("not-in",r),i}return g(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Qm);function oy(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return tm.fromName(e.referenceValue)}))}var sy=function(e){k(n,e);var t=_(n);function n(e,r){return p(this,n),t.call(this,e,"array-contains",r)}return g(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Um(t)&&Am(t.arrayValue,this.value)}}]),n}(Qm),uy=function(e){k(n,e);var t=_(n);function n(e,r){return p(this,n),t.call(this,e,"in",r)}return g(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Am(this.value.arrayValue,t)}}]),n}(Qm),cy=function(e){k(n,e);var t=_(n);function n(e,r){return p(this,n),t.call(this,e,"not-in",r)}return g(n,[{key:"matches",value:function(e){if(Am(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Am(this.value.arrayValue,t)}}]),n}(Qm),ly=function(e){k(n,e);var t=_(n);function n(e,r){return p(this,n),t.call(this,e,"array-contains-any",r)}return g(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Um(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Am(t.value.arrayValue,e)}))}}]),n}(Qm),fy=g((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";p(this,e),this.field=t,this.dir=n}));function hy(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var dy=function(){function e(t,n){p(this,e),this.comparator=t,this.root=n||vy.EMPTY}return g(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,vy.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,vy.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new py(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new py(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new py(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new py(this.root,e,this.comparator,!0)}}]),e}(),py=function(){function e(t,n,r,i){p(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return g(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),vy=function(){function e(t,n,r,i,a){p(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return g(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Ov();if(this.right.isRed())throw Ov();var e=this.left.check();if(e!==this.right.check())throw Ov();return e+(this.isRed()?0:1)}}]),e}();vy.EMPTY=null,vy.RED=!0,vy.BLACK=!1,vy.EMPTY=new(function(){function e(){p(this,e),this.size=0}return g(e,[{key:"key",get:function(){throw Ov()}},{key:"value",get:function(){throw Ov()}},{key:"color",get:function(){throw Ov()}},{key:"left",get:function(){throw Ov()}},{key:"right",get:function(){throw Ov()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new vy(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var my=function(){function e(t){p(this,e),this.comparator=t,this.data=new dy(this.comparator)}return g(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new yy(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new yy(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),yy=function(){function e(t){p(this,e),this.iter=t}return g(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();var gy=function(){function e(t){p(this,e),this.fields=t,t.sort(em.comparator)}return g(e,[{key:"unionWith",value:function(t){var n,r=new my(em.comparator),i=T(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,s=T(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;r=r.add(u)}}catch(c){s.e(c)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=T(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return $v(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),by=function(){function e(t){p(this,e),this.value=t}return g(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Bm(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=qm(t)}},{key:"setAll",value:function(e){var t=this,n=em.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=qm(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Bm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Nm(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Bm(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){ym(t,(function(t,n){return e[t]=n}));var r,i=T(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(qm(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function ky(e){var t=[];return ym(e.fields,(function(e,n){var r=new em([e]);if(Bm(n)){var i=ky(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=T(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new gy(t)}var wy=function(){function e(t,n,r,i,a,o,s){p(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}return g(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(Yv.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=by.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=by.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Yv.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Yv.min(),Yv.min(),Yv.min(),by.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,Yv.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Yv.min(),Yv.min(),by.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Yv.min(),Yv.min(),by.empty(),2)}}]),e}(),_y=g((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;p(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.ft=null}));function xy(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new _y(e,t,n,r,i,a,o)}function Cy(e){var t=Av(e);if(null===t.ft){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return ey(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),bm(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return jm(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return jm(e)})).join(",")),t.ft=n}return t.ft}function Sy(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!hy(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!ty(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Km(e.startAt,t.startAt)&&Km(e.endAt,t.endAt)}function Ey(e){return tm.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var Ty=g((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;p(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.dt=null,this._t=null,this.startAt,this.endAt}));function Iy(e,t,n,r,i,a,o,s){return new Ty(e,t,n,r,i,a,o,s)}function Ry(e){return new Ty(e)}function Py(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Oy(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Ny(e){var t,n=T(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function Ay(e){return null!==e.collectionGroup}function Dy(e){var t=Av(e);if(null===t.dt){t.dt=[];var n=Ny(t),r=Oy(t);if(null!==n&&null===r)n.isKeyField()||t.dt.push(new fy(n)),t.dt.push(new fy(em.keyField(),"asc"));else{var i,a=!1,o=T(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.dt.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new fy(em.keyField(),u))}}}return t.dt}function Fy(e){var t=Av(e);if(!t._t)if("F"===t.limitType)t._t=xy(t.path,t.collectionGroup,Dy(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=T(Dy(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new fy(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new Wm(t.endAt.position,t.endAt.inclusive):null,u=t.startAt?new Wm(t.startAt.position,t.startAt.inclusive):null;t._t=xy(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t._t}function jy(e,t,n){return new Ty(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ly(e,t){return Sy(Fy(e),Fy(t))&&e.limitType===t.limitType}function My(e){return"".concat(Cy(Fy(e)),"|lt:").concat(e.limitType)}function Uy(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return ny(e)})).join(", "),"]")),bm(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return jm(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return jm(e)})).join(",")),"Target(".concat(t,")")}(Fy(e)),"; limitType=").concat(e.limitType,")")}function Vy(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):tm.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=T(Dy(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=T(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Gm(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Dy(e),t))&&!(e.endAt&&!function(e,t,n){var r=Gm(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Dy(e),t))}(e,t)}function zy(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function By(e){return function(t,n){var r,i=!1,a=T(Dy(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=qy(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function qy(e,t,n){var r=e.field.isKeyField()?tm.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Dm(r,i):Ov()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Ov()}}function Hy(e,t){if(e.wt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:km(t)?"-0":t}}function Wy(e){return{integerValue:""+e}}function Gy(e,t){return wm(t)?Wy(t):Hy(e,t)}var Ky=g((function e(){p(this,e),this._=void 0}));function $y(e,t,n){return e instanceof Xy?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Jy?Zy(e,t):e instanceof eg?tg(e,t):function(e,t){var n=Yy(e,t),r=rg(n)+rg(e.gt);return Mm(n)&&Mm(e.gt)?Wy(r):Hy(e.yt,r)}(e,t)}function Qy(e,t,n){return e instanceof Jy?Zy(e,t):e instanceof eg?tg(e,t):n}function Yy(e,t){return e instanceof ng?Mm(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Xy=function(e){k(n,e);var t=_(n);function n(){return p(this,n),t.apply(this,arguments)}return g(n)}(Ky),Jy=function(e){k(n,e);var t=_(n);function n(e){var r;return p(this,n),(r=t.call(this)).elements=e,r}return g(n)}(Ky);function Zy(e,t){var n,r=ig(t),i=T(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Nm(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var eg=function(e){k(n,e);var t=_(n);function n(e){var r;return p(this,n),(r=t.call(this)).elements=e,r}return g(n)}(Ky);function tg(e,t){var n,r=ig(t),i=T(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Nm(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var ng=function(e){k(n,e);var t=_(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).yt=e,i.gt=r,i}return g(n)}(Ky);function rg(e){return Sm(e.integerValue||e.doubleValue)}function ig(e){return Um(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var ag=g((function e(t,n){p(this,e),this.version=t,this.transformResults=n})),og=function(){function e(t,n){p(this,e),this.updateTime=t,this.exists=n}return g(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function sg(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var ug=g((function e(){p(this,e)}));function cg(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new wg(e.key,og.none()):new pg(e.key,e.data,og.none());var n,r=e.data,i=by.empty(),a=new my(em.comparator),o=T(t.fields);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!a.has(s)){var u=r.field(s);null===u&&s.length>1&&(s=s.popLast(),u=r.field(s)),null===u?i.delete(s):i.set(s,u),a=a.add(s)}}}catch(c){o.e(c)}finally{o.f()}return new vg(e.key,i,new gy(a.toArray()),og.none())}function lg(e,t,n){e instanceof pg?function(e,t,n){var r=e.value.clone(),i=yg(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof vg?function(e,t,n){if(sg(e.precondition,t)){var r=yg(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(mg(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function fg(e,t,n,r){return e instanceof pg?function(e,t,n,r){if(!sg(e.precondition,t))return n;var i=e.value.clone(),a=gg(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof vg?function(e,t,n,r){if(!sg(e.precondition,t))return n;var i=gg(e.fieldTransforms,r,t),a=t.data;return a.setAll(mg(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return sg(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function hg(e,t){var n,r=null,i=T(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=Yy(a.transform,o||null);null!=s&&(null===r&&(r=by.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function dg(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&$v(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Jy&&t instanceof Jy||e instanceof eg&&t instanceof eg?$v(e.elements,t.elements,Nm):e instanceof ng&&t instanceof ng?Nm(e.gt,t.gt):e instanceof Xy&&t instanceof Xy}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var pg=function(e){k(n,e);var t=_(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return p(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return g(n,[{key:"getFieldMask",value:function(){return null}}]),n}(ug),vg=function(e){k(n,e);var t=_(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return p(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return g(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(ug);function mg(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function yg(e,t,n){var r=new Map;Nv(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,Qy(o,s,n[i]))}return r}function gg(e,t,n){var r,i=new Map,a=T(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,$y(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var bg,kg,wg=function(e){k(n,e);var t=_(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return g(n,[{key:"getFieldMask",value:function(){return null}}]),n}(ug),_g=function(e){k(n,e);var t=_(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return g(n,[{key:"getFieldMask",value:function(){return null}}]),n}(ug),xg=g((function e(t){p(this,e),this.count=t}));function Cg(e){switch(e){default:return Ov();case Dv.CANCELLED:case Dv.UNKNOWN:case Dv.DEADLINE_EXCEEDED:case Dv.RESOURCE_EXHAUSTED:case Dv.INTERNAL:case Dv.UNAVAILABLE:case Dv.UNAUTHENTICATED:return!1;case Dv.INVALID_ARGUMENT:case Dv.NOT_FOUND:case Dv.ALREADY_EXISTS:case Dv.PERMISSION_DENIED:case Dv.FAILED_PRECONDITION:case Dv.ABORTED:case Dv.OUT_OF_RANGE:case Dv.UNIMPLEMENTED:case Dv.DATA_LOSS:return!0}}function Sg(e){if(void 0===e)return Iv("GRPC error has no .code"),Dv.UNKNOWN;switch(e){case bg.OK:return Dv.OK;case bg.CANCELLED:return Dv.CANCELLED;case bg.UNKNOWN:return Dv.UNKNOWN;case bg.DEADLINE_EXCEEDED:return Dv.DEADLINE_EXCEEDED;case bg.RESOURCE_EXHAUSTED:return Dv.RESOURCE_EXHAUSTED;case bg.INTERNAL:return Dv.INTERNAL;case bg.UNAVAILABLE:return Dv.UNAVAILABLE;case bg.UNAUTHENTICATED:return Dv.UNAUTHENTICATED;case bg.INVALID_ARGUMENT:return Dv.INVALID_ARGUMENT;case bg.NOT_FOUND:return Dv.NOT_FOUND;case bg.ALREADY_EXISTS:return Dv.ALREADY_EXISTS;case bg.PERMISSION_DENIED:return Dv.PERMISSION_DENIED;case bg.FAILED_PRECONDITION:return Dv.FAILED_PRECONDITION;case bg.ABORTED:return Dv.ABORTED;case bg.OUT_OF_RANGE:return Dv.OUT_OF_RANGE;case bg.UNIMPLEMENTED:return Dv.UNIMPLEMENTED;case bg.DATA_LOSS:return Dv.DATA_LOSS;default:return Ov()}}(kg=bg||(bg={}))[kg.OK=0]="OK",kg[kg.CANCELLED=1]="CANCELLED",kg[kg.UNKNOWN=2]="UNKNOWN",kg[kg.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kg[kg.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kg[kg.NOT_FOUND=5]="NOT_FOUND",kg[kg.ALREADY_EXISTS=6]="ALREADY_EXISTS",kg[kg.PERMISSION_DENIED=7]="PERMISSION_DENIED",kg[kg.UNAUTHENTICATED=16]="UNAUTHENTICATED",kg[kg.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kg[kg.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kg[kg.ABORTED=10]="ABORTED",kg[kg.OUT_OF_RANGE=11]="OUT_OF_RANGE",kg[kg.UNIMPLEMENTED=12]="UNIMPLEMENTED",kg[kg.INTERNAL=13]="INTERNAL",kg[kg.UNAVAILABLE=14]="UNAVAILABLE",kg[kg.DATA_LOSS=15]="DATA_LOSS";var Eg=function(){function e(t,n){p(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return g(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=T(n);try{for(i.s();!(r=i.n()).done;){var a=d(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){ym(this.inner,(function(t,n){var r,i=T(n);try{for(i.s();!(r=i.n()).done;){var a=d(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return gm(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Tg=new dy(tm.comparator);function Ig(){return Tg}var Rg=new dy(tm.comparator);function Pg(){for(var e=Rg,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function Og(e){var t=Rg;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Ng(){return Dg()}function Ag(){return Dg()}function Dg(){return new Eg((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Fg=new dy(tm.comparator),jg=new my(tm.comparator);function Lg(){for(var e=jg,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Mg=new my(Kv);function Ug(){return Mg}var Vg=function(){function e(t,n,r,i,a){p(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return g(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,zg.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(Yv.min(),i,Ug(),Ig(),Lg())}}]),e}(),zg=function(){function e(t,n,r,i,a){p(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return g(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,Lg(),Lg(),Lg())}}]),e}(),Bg=g((function e(t,n,r,i){p(this,e),this.It=t,this.removedTargetIds=n,this.key=r,this.Tt=i})),qg=g((function e(t,n){p(this,e),this.targetId=t,this.Et=n})),Hg=g((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_m.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;p(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Wg=function(){function e(){p(this,e),this.At=0,this.Rt=$g(),this.bt=_m.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}return g(e,[{key:"current",get:function(){return this.Pt}},{key:"resumeToken",get:function(){return this.bt}},{key:"Vt",get:function(){return 0!==this.At}},{key:"St",get:function(){return this.vt}},{key:"Dt",value:function(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}},{key:"Ct",value:function(){var e=Lg(),t=Lg(),n=Lg();return this.Rt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Ov()}})),new zg(this.bt,this.Pt,e,t,n)}},{key:"xt",value:function(){this.vt=!1,this.Rt=$g()}},{key:"Nt",value:function(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}},{key:"kt",value:function(e){this.vt=!0,this.Rt=this.Rt.remove(e)}},{key:"Ot",value:function(){this.At+=1}},{key:"Mt",value:function(){this.At-=1}},{key:"Ft",value:function(){this.vt=!0,this.Pt=!0}}]),e}(),Gg=function(){function e(t){p(this,e),this.$t=t,this.Bt=new Map,this.Lt=Ig(),this.qt=Kg(),this.Ut=new my(Kv)}return g(e,[{key:"Kt",value:function(e){var t,n=T(e.It);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Tt&&e.Tt.isFoundDocument()?this.Gt(r,e.Tt):this.Qt(r,e.key,e.Tt)}}catch(s){n.e(s)}finally{n.f()}var i,a=T(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Qt(o,e.key,e.Tt)}}catch(s){a.e(s)}finally{a.f()}}},{key:"jt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Wt(n);switch(e.state){case 0:t.zt(n)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||t.removeTarget(n);break;case 3:t.zt(n)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:t.zt(n)&&(t.Ht(n),r.Dt(e.resumeToken));break;default:Ov()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((function(e,r){n.zt(r)&&t(r)}))}},{key:"Jt",value:function(e){var t=e.targetId,n=e.Et.count,r=this.Yt(t);if(r){var i=r.target;if(Ey(i))if(0===n){var a=new tm(i.path);this.Qt(t,a,wy.newNoDocument(a,Yv.min()))}else Nv(1===n);else this.Xt(t)!==n&&(this.Ht(t),this.Ut=this.Ut.add(t))}}},{key:"Zt",value:function(e){var t=this,n=new Map;this.Bt.forEach((function(r,i){var a=t.Yt(i);if(a){if(r.current&&Ey(a.target)){var o=new tm(a.target.path);null!==t.Lt.get(o)||t.te(i,o)||t.Qt(i,o,wy.newNoDocument(o,e))}r.St&&(n.set(i,r.Ct()),r.xt())}}));var r=Lg();this.qt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Yt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Lt.forEach((function(t,n){return n.setReadTime(e)}));var i=new Vg(e,n,this.Ut,this.Lt,r);return this.Lt=Ig(),this.qt=Kg(),this.Ut=new my(Kv),i}},{key:"Gt",value:function(e,t){if(this.zt(e)){var n=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,n),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}}},{key:"Qt",value:function(e,t,n){if(this.zt(e)){var r=this.Wt(e);this.te(e,t)?r.Nt(t,1):r.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),n&&(this.Lt=this.Lt.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Bt.delete(e)}},{key:"Xt",value:function(e){var t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Ot",value:function(e){this.Wt(e).Ot()}},{key:"Wt",value:function(e){var t=this.Bt.get(e);return t||(t=new Wg,this.Bt.set(e,t)),t}},{key:"ee",value:function(e){var t=this.qt.get(e);return t||(t=new my(Kv),this.qt=this.qt.insert(e,t)),t}},{key:"zt",value:function(e){var t=null!==this.Yt(e);return t||Tv("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Yt",value:function(e){var t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}},{key:"Ht",value:function(e){var t=this;this.Bt.set(e,new Wg),this.$t.getRemoteKeysForTarget(e).forEach((function(n){t.Qt(e,n,null)}))}},{key:"te",value:function(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}]),e}();function Kg(){return new dy(tm.comparator)}function $g(){return new dy(tm.comparator)}var Qg={asc:"ASCENDING",desc:"DESCENDING"},Yg={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Xg={and:"AND",or:"OR"},Jg=g((function e(t,n){p(this,e),this.databaseId=t,this.wt=n}));function Zg(e,t){return e.wt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function eb(e,t){return e.wt?t.toBase64():t.toUint8Array()}function tb(e,t){return Zg(e,t.toTimestamp())}function nb(e){return Nv(!!e),Yv.fromTimestamp(function(e){var t=Cm(e);return new Qv(t.seconds,t.nanos)}(e))}function rb(e,t){return function(e){return new Jv(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function ib(e){var t=Jv.fromString(e);return Nv(Cb(t)),t}function ab(e,t){return rb(e.databaseId,t.path)}function ob(e,t){var n=ib(t);if(n.get(1)!==e.databaseId.projectId)throw new Fv(Dv.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Fv(Dv.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new tm(lb(n))}function sb(e,t){return rb(e.databaseId,t)}function ub(e){var t=ib(e);return 4===t.length?Jv.emptyPath():lb(t)}function cb(e){return new Jv(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function lb(e){return Nv(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function fb(e,t,n){return{name:ab(e,t),fields:n.value.mapValue.fields}}function hb(e,t){var n;if(t instanceof pg)n={update:fb(e,t.key,t.value)};else if(t instanceof wg)n={delete:ab(e,t.key)};else if(t instanceof vg)n={update:fb(e,t.key,t.data),updateMask:xb(t.fieldMask)};else{if(!(t instanceof _g))return Ov();n={verify:ab(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Xy)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Jy)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof eg)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof ng)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw Ov()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:tb(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Ov()}(e,t.precondition)),n}function db(e,t){return{documents:[sb(e,t.path)]}}function pb(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=sb(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=sb(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return _b(Ym.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:kb(e.field),direction:yb(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,s=function(e,t){return e.wt||bm(t)?t:{value:t}}(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function vb(e){var t=ub(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Nv(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=mb(e);return t instanceof Ym&&Jm(t)?t.getFilters():[t]}(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new fy(wb(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return bm(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Wm(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Wm(n,t)}(n.endAt)),Iy(t,i,s,o,u,"F",c,l)}function mb(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=wb(e.unaryFilter.field);return Qm.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=wb(e.unaryFilter.field);return Qm.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=wb(e.unaryFilter.field);return Qm.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=wb(e.unaryFilter.field);return Qm.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Ov()}}(e):void 0!==e.fieldFilter?function(e){return Qm.create(wb(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ov()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Ym.create(e.compositeFilter.filters.map((function(e){return mb(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Ov()}}(e.compositeFilter.op))}(e):Ov()}function yb(e){return Qg[e]}function gb(e){return Yg[e]}function bb(e){return Xg[e]}function kb(e){return{fieldPath:e.canonicalString()}}function wb(e){return em.fromServerFormat(e.fieldPath)}function _b(e){return e instanceof Qm?function(e){if("=="===e.op){if(zm(e.value))return{unaryFilter:{field:kb(e.field),op:"IS_NAN"}};if(Vm(e.value))return{unaryFilter:{field:kb(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(zm(e.value))return{unaryFilter:{field:kb(e.field),op:"IS_NOT_NAN"}};if(Vm(e.value))return{unaryFilter:{field:kb(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:kb(e.field),op:gb(e.op),value:e.value}}}(e):e instanceof Ym?function(e){var t=e.getFilters().map((function(e){return _b(e)}));return 1===t.length?t[0]:{compositeFilter:{op:bb(e.op),filters:t}}}(e):Ov()}function xb(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Cb(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var Sb=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),Eb=([].concat(C(Sb),["documentOverlays"]),["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"]),Tb=Eb;[].concat(Tb,["indexConfiguration","indexState","indexEntries"]);var Ib=function(){function e(t,n,r,i){p(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return g(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&lg(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=T(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=fg(i,e,t,this.localWriteTime))}}catch(u){r.e(u)}finally{r.f()}var a,o=T(this.mutations);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.key.isEqual(e.key)&&(t=fg(s,e,t,this.localWriteTime))}}catch(u){o.e(u)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Ag();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,s=n.applyToLocalView(o,a.mutatedFields),u=cg(o,s=t.has(i.key)?null:s);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Yv.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Lg())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&$v(this.mutations,e.mutations,(function(e,t){return dg(e,t)}))&&$v(this.baseMutations,e.baseMutations,(function(e,t){return dg(e,t)}))}}]),e}(),Rb=function(){function e(t,n,r,i){p(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return g(e,null,[{key:"from",value:function(t,n,r){Nv(t.mutations.length===r.length);for(var i=Fg,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Pb=function(){function e(t,n){p(this,e),this.largestBatchId=t,this.mutation=n}return g(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Ob=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Yv.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Yv.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:_m.EMPTY_BYTE_STRING;p(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return g(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Nb=g((function e(t){p(this,e),this.ie=t}));function Ab(e){var t=vb({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?jy(t,t.limit,"L"):t}var Db=function(){function e(){p(this,e)}return g(e,[{key:"ue",value:function(e,t){this.ce(e,t),t.ae()}},{key:"ce",value:function(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(Sm(e.integerValue));else if("doubleValue"in e){var n=Sm(e.doubleValue);isNaN(n)?this.he(t,13):(this.he(t,15),km(n)?t.le(0):t.le(n))}else if("timestampValue"in e){var r=e.timestampValue;this.he(t,20),"string"==typeof r?t.fe(r):(t.fe("".concat(r.seconds||"")),t.le(r.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(Em(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.he(t,45),t.le(i.latitude||0),t.le(i.longitude||0)}else"mapValue"in e?Hm(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):Ov()}},{key:"de",value:function(e,t){this.he(t,25),this.pe(e,t)}},{key:"pe",value:function(e,t){t.fe(e)}},{key:"ge",value:function(e,t){var n=e.fields||{};this.he(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.de(a,t),this.ce(n[a],t)}}},{key:"ye",value:function(e,t){var n=e.values||[];this.he(t,50);var r,i=T(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.ce(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"me",value:function(e,t){var n=this;this.he(t,37),tm.fromName(e).path.forEach((function(e){n.he(t,60),n.pe(e,t)}))}},{key:"he",value:function(e,t){e.le(t)}},{key:"_e",value:function(e){e.le(2)}}]),e}();Db.Ie=new Db;var Fb=function(){function e(){p(this,e),this.Je=new jb}return g(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Je.add(t),fm.resolve()}},{key:"getCollectionParents",value:function(e,t){return fm.resolve(this.Je.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return fm.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return fm.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return fm.resolve(null)}},{key:"getIndexType",value:function(e,t){return fm.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return fm.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return fm.resolve(null)}},{key:"getMinOffset",value:function(e,t){return fm.resolve(am.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return fm.resolve(am.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return fm.resolve()}},{key:"updateIndexEntries",value:function(e,t){return fm.resolve()}}]),e}(),jb=function(){function e(){p(this,e),this.index={}}return g(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new my(Jv.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new my(Jv.comparator)).toArray()}}]),e}();new Uint8Array(0);var Lb=function(){function e(t,n,r){p(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return g(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();Lb.DEFAULT_COLLECTION_PERCENTILE=10,Lb.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Lb.DEFAULT=new Lb(41943040,Lb.DEFAULT_COLLECTION_PERCENTILE,Lb.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Lb.DISABLED=new Lb(-1,0,0);var Mb=function(){function e(t){p(this,e),this.bn=t}return g(e,[{key:"next",value:function(){return this.bn+=2,this.bn}}],[{key:"Pn",value:function(){return new e(0)}},{key:"vn",value:function(){return new e(-1)}}]),e}();var Ub=function(){function e(){p(this,e),this.changes=new Eg((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return g(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,wy.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?fm.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}();var Vb=g((function e(t,n){p(this,e),this.overlayedDocument=t,this.mutatedFields=n})),zb=function(){function e(t,n,r,i){p(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return g(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&fg(r.mutation,e,gy.empty(),Qv.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,Lg()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Lg(),i=Ng();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=Pg();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Ng();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,Lg())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=Ig(),a=Dg(),o=Dg();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof vg)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),fg(o.mutation,t,o.mutation.getFieldMask(),Qv.now())):a.set(t.key,gy.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new Vb(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Dg(),i=new dy((function(e,t){return e-t})),a=Lg();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=T(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||gy.empty();o=e.applyToLocalView(a,o),r.set(n,o);var s=(i.get(e.batchId)||Lg()).add(n);i=i.insert(e.batchId,s)}}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}})).next((function(){for(var o=[],s=i.getReverseIterator(),u=function(){var i=s.getNext(),u=i.key,c=i.value,l=Ag();c.forEach((function(e){if(!a.has(e)){var n=cg(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,u,l))};s.hasNext();)u();return fm.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return tm.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Ay(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):fm.resolve(Ng()),s=-1,u=a;return o.next((function(t){return fm.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?fm.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,u,t,Lg())})).next((function(e){return{batchId:s,changes:Og(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new tm(t)).next((function(e){var t=Pg();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Pg();return this.indexManager.getCollectionParents(e,i).next((function(o){return fm.forEach(o,(function(o){var s=function(e,t){return new Ty(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(a){return r=a,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,wy.newInvalidDocument(n)))}));var n=Pg();return r.forEach((function(r,i){var a=e.get(r);void 0!==a&&fg(a.mutation,i,gy.empty(),Qv.now()),Vy(t,i)&&(n=n.insert(r,i))})),n}))}}]),e}(),Bb=function(){function e(t){p(this,e),this.yt=t,this.Zn=new Map,this.ts=new Map}return g(e,[{key:"getBundleMetadata",value:function(e,t){return fm.resolve(this.Zn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:nb(n.createTime)}),fm.resolve()}},{key:"getNamedQuery",value:function(e,t){return fm.resolve(this.ts.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ts.set(t.name,function(e){return{name:e.name,query:Ab(e.bundledQuery),readTime:nb(e.readTime)}}(t)),fm.resolve()}}]),e}(),qb=function(){function e(){p(this,e),this.overlays=new dy(tm.comparator),this.es=new Map}return g(e,[{key:"getOverlay",value:function(e,t){return fm.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Ng();return fm.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.oe(e,t,i)})),fm.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.es.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.es.delete(n)),fm.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Ng(),i=t.length+1,a=new tm(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return fm.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new dy((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=Ng(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=Ng(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return fm.resolve(u)}},{key:"oe",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.es.get(r.largestBatchId).delete(n.key);this.es.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Pb(t,n));var a=this.es.get(t);void 0===a&&(a=Lg(),this.es.set(t,a)),this.es.set(t,a.add(n.key))}}]),e}(),Hb=function(){function e(){p(this,e),this.ns=new my(Wb.ss),this.rs=new my(Wb.os)}return g(e,[{key:"isEmpty",value:function(){return this.ns.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Wb(e,t);this.ns=this.ns.add(n),this.rs=this.rs.add(n)}},{key:"us",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.cs(new Wb(e,t))}},{key:"hs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ls",value:function(e){var t=this,n=new tm(new Jv([])),r=new Wb(n,e),i=new Wb(n,e+1),a=[];return this.rs.forEachInRange([r,i],(function(e){t.cs(e),a.push(e.key)})),a}},{key:"fs",value:function(){var e=this;this.ns.forEach((function(t){return e.cs(t)}))}},{key:"cs",value:function(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}},{key:"ds",value:function(e){var t=new tm(new Jv([])),n=new Wb(t,e),r=new Wb(t,e+1),i=Lg();return this.rs.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Wb(e,0),n=this.ns.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Wb=function(){function e(t,n){p(this,e),this.key=t,this._s=n}return g(e,null,[{key:"ss",value:function(e,t){return tm.comparator(e.key,t.key)||Kv(e._s,t._s)}},{key:"os",value:function(e,t){return Kv(e._s,t._s)||tm.comparator(e.key,t.key)}}]),e}(),Gb=function(){function e(t,n){p(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new my(Wb.ss)}return g(e,[{key:"checkEmpty",value:function(e){return fm.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new Ib(i,t,n,r);this.mutationQueue.push(a);var o,s=T(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.gs=this.gs.add(new Wb(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return fm.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return fm.resolve(this.ys(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ps(n),i=r<0?0:r;return fm.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return fm.resolve(0===this.mutationQueue.length?-1:this.ws-1)}},{key:"getAllMutationBatches",value:function(e){return fm.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Wb(t,0),i=new Wb(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],(function(e){var t=n.ys(e._s);a.push(t)})),fm.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new my(Kv);return t.forEach((function(e){var t=new Wb(e,0),i=new Wb(e,Number.POSITIVE_INFINITY);n.gs.forEachInRange([t,i],(function(e){r=r.add(e._s)}))})),fm.resolve(this.Is(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;tm.isDocumentKey(i)||(i=i.child(""));var a=new Wb(new tm(i),0),o=new my(Kv);return this.gs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e._s)),!0)}),a),fm.resolve(this.Is(o))}},{key:"Is",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ys(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Nv(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();var r=this.gs;return fm.forEach(t.mutations,(function(i){var a=new Wb(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.gs=r}))}},{key:"An",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Wb(t,0),r=this.gs.firstAfterOrEqual(n);return fm.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,fm.resolve()}},{key:"Ts",value:function(e,t){return this.ps(e)}},{key:"ps",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"ys",value:function(e){var t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),Kb=function(){function e(t){p(this,e),this.Es=t,this.docs=new dy(tm.comparator),this.size=0}return g(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Es(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return fm.resolve(n?n.document.mutableCopy():wy.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Ig();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():wy.newInvalidDocument(e))})),fm.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=Ig(),i=new tm(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),s=o.key,u=o.value.document;if(!t.isPrefixOf(s.path))break;s.path.length>t.length+1||om(im(u),n)<=0||(r=r.insert(u.key,u.mutableCopy()))}return fm.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Ov()}},{key:"As",value:function(e,t){return fm.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new $b(this)}},{key:"getSize",value:function(e){return fm.resolve(this.size)}}]),e}(),$b=function(e){k(n,e);var t=_(n);function n(e){var r;return p(this,n),(r=t.call(this)).Yn=e,r}return g(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Yn.addEntry(e,i)):t.Yn.removeEntry(r)})),fm.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Yn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Yn.getEntries(e,t)}}]),n}(Ub),Qb=function(){function e(t){p(this,e),this.persistence=t,this.Rs=new Eg((function(e){return Cy(e)}),Sy),this.lastRemoteSnapshotVersion=Yv.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Hb,this.targetCount=0,this.vs=Mb.Pn()}return g(e,[{key:"forEachTarget",value:function(e,t){return this.Rs.forEach((function(e,n){return t(n)})),fm.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return fm.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return fm.resolve(this.bs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.vs.next(),fm.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.bs&&(this.bs=t),fm.resolve()}},{key:"Dn",value:function(e){this.Rs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.vs=new Mb(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Dn(t),this.targetCount+=1,fm.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Dn(t),fm.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,fm.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Rs.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Rs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),fm.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return fm.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Rs.get(t)||null;return fm.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Ps.us(t,n),fm.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Ps.hs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),fm.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Ps.ls(t),fm.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Ps.ds(t);return fm.resolve(n)}},{key:"containsKey",value:function(e,t){return fm.resolve(this.Ps.containsKey(t))}}]),e}(),Yb=function(){function e(t,n){var r=this;p(this,e),this.Vs={},this.overlays={},this.Ss=new dm(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new Qb(this),this.indexManager=new Fb,this.remoteDocumentCache=new Kb((function(e){return r.referenceDelegate.xs(e)})),this.yt=new Nb(n),this.Ns=new Bb(this.yt)}return g(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ds=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ds}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new qb,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Vs[e.toKey()];return n||(n=new Gb(t,this.referenceDelegate),this.Vs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;Tv("MemoryPersistence","Starting transaction:",e);var i=new Xb(this.Ss.next());return this.referenceDelegate.ks(),n(i).next((function(e){return r.referenceDelegate.Os(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ms",value:function(e,t){return fm.or(Object.values(this.Vs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Xb=function(e){k(n,e);var t=_(n);function n(e){var r;return p(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return g(n)}(um),Jb=function(){function e(t){p(this,e),this.persistence=t,this.Fs=new Hb,this.$s=null}return g(e,[{key:"Ls",get:function(){if(this.$s)return this.$s;throw Ov()}},{key:"addReference",value:function(e,t,n){return this.Fs.addReference(n,t),this.Ls.delete(n.toString()),fm.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Fs.removeReference(n,t),this.Ls.add(n.toString()),fm.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ls.add(t.toString()),fm.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Fs.ls(t.targetId).forEach((function(e){return n.Ls.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ls.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"ks",value:function(){this.$s=new Set}},{key:"Os",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fm.forEach(this.Ls,(function(r){var i=tm.fromPath(r);return t.qs(e,i).next((function(e){e||n.removeEntry(i,Yv.min())}))})).next((function(){return t.$s=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.qs(e,t).next((function(e){e?n.Ls.delete(t.toString()):n.Ls.add(t.toString())}))}},{key:"xs",value:function(e){return 0}},{key:"qs",value:function(e,t){var n=this;return fm.or([function(){return fm.resolve(n.Fs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ms(e,t)}])}}],[{key:"Bs",value:function(t){return new e(t)}}]),e}();var Zb=function(){function e(t,n,r,i){p(this,e),this.targetId=t,this.fromCache=n,this.Si=r,this.Di=i}return g(e,null,[{key:"Ci",value:function(t,n){var r,i=Lg(),a=Lg(),o=T(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),ek=function(){function e(){p(this,e),this.xi=!1}return g(e,[{key:"initialize",value:function(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.ki(e,t).next((function(a){return a||i.Oi(e,t,r,n)})).next((function(n){return n||i.Mi(e,t)}))}},{key:"ki",value:function(e,t){var n=this;if(Py(t))return fm.resolve(null);var r=Fy(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=jy(t,null,"F"),r=Fy(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=Lg.apply(void 0,C(i));return n.Ni.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Fi(t,i);return n.$i(t,o,a,r.readTime)?n.ki(e,jy(t,null,"F")):n.Bi(e,o,t,r)}))}))})))}))}},{key:"Oi",value:function(e,t,n,r){var i=this;return Py(t)||r.isEqual(Yv.min())?this.Mi(e,t):this.Ni.getDocuments(e,n).next((function(a){var o=i.Fi(t,a);return i.$i(t,o,n,r)?i.Mi(e,t):(Ev()<=Ne.DEBUG&&Tv("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Uy(t)),i.Bi(e,o,t,rm(r,-1)))}))}},{key:"Fi",value:function(e,t){var n=new my(By(e));return t.forEach((function(t,r){Vy(e,r)&&(n=n.add(r))})),n}},{key:"$i",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Mi",value:function(e,t){return Ev()<=Ne.DEBUG&&Tv("QueryEngine","Using full collection scan to execute query:",Uy(t)),this.Ni.getDocumentsMatchingQuery(e,t,am.min())}},{key:"Bi",value:function(e,t,n,r){return this.Ni.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),tk=function(){function e(t,n,r,i){p(this,e),this.persistence=t,this.Li=n,this.yt=i,this.qi=new dy(Kv),this.Ui=new Eg((function(e){return Cy(e)}),Sy),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(r)}return g(e,[{key:"Qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zb(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.qi)}))}}]),e}();function nk(e,t,n,r){return new tk(e,t,n,r)}function rk(e,t){return ik.apply(this,arguments)}function ik(){return ik=P(I().mark((function e(t,n){var r;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Av(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.Qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=Lg(),u=T(t);try{for(u.s();!(i=u.n()).done;){var c=i.value;a.push(c.batchId);var l,f=T(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;s=s.add(h.key)}}catch(b){f.e(b)}finally{f.f()}}}catch(b){u.e(b)}finally{u.f()}var d,p=T(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=T(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;s=s.add(g.key)}}catch(b){y.e(b)}finally{y.f()}}}catch(b){p.e(b)}finally{p.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{ji:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),ik.apply(this,arguments)}function ak(e,t){var n=Av(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Gi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=fm.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Nv(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=Lg(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function ok(e){var t=Av(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Cs.getLastRemoteSnapshotVersion(e)}))}function sk(e,t){var n=Av(e),r=t.snapshotVersion,i=n.qi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.qi;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.Cs.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.Cs.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(s)?c=c.withResumeToken(_m.EMPTY_BYTE_STRING,Yv.min()).withLastLimboFreeSnapshotVersion(Yv.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.Cs.updateTargetData(e,c))}}));var s=Ig(),u=Lg();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(uk(e,a,t.documentUpdates).next((function(e){s=e.Wi,u=e.zi}))),!r.isEqual(Yv.min())){var c=n.Cs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Cs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return fm.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,u)})).next((function(){return s}))})).then((function(e){return n.qi=i,e}))}function uk(e,t,n){var r=Lg(),i=Lg();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Ig();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Yv.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Tv("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Wi:r,zi:i}}))}function ck(e,t){var n=Av(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function lk(e,t){var n=Av(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Cs.getTargetData(e,t).next((function(i){return i?(r=i,fm.resolve(r)):n.Cs.allocateTargetId(e).next((function(i){return r=new Ob(t,i,0,e.currentSequenceNumber),n.Cs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.qi.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qi=n.qi.insert(e.targetId,e),n.Ui.set(t,e.targetId)),e}))}function fk(e,t,n){return hk.apply(this,arguments)}function hk(){return hk=P(I().mark((function e(t,n,r){var i,a,o;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Av(t),a=i.qi.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),hm(e.t1)){e.next=12;break}throw e.t1;case 12:Tv("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.qi=i.qi.remove(n),i.Ui.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),hk.apply(this,arguments)}function dk(e,t,n){var r=Av(e),i=Yv.min(),a=Lg();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Av(e),i=r.Ui.get(n);return void 0!==i?fm.resolve(r.qi.get(i)):r.Cs.getTargetData(t,n)}(r,e,Fy(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Li.getDocumentsMatchingQuery(e,t,n?i:Yv.min(),n?a:Lg())})).next((function(e){return pk(r,zy(t),e),{documents:e,Hi:a}}))}))}function pk(e,t,n){var r=e.Ki.get(t)||Yv.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ki.set(t,r)}var vk=function(){function e(){p(this,e),this.activeTargetIds=Ug()}return g(e,[{key:"er",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"tr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),mk=function(){function e(){p(this,e),this.Lr=new vk,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return g(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Lr.er(e),this.qr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.qr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Lr.nr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.qr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Lr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Lr=new vk,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),yk=function(){function e(){p(this,e)}return g(e,[{key:"Ur",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),gk=function(){function e(){var t=this;p(this,e),this.Kr=function(){return t.Gr()},this.Qr=function(){return t.jr()},this.Wr=[],this.zr()}return g(e,[{key:"Ur",value:function(e){this.Wr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}},{key:"zr",value:function(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}},{key:"Gr",value:function(){Tv("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=T(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"jr",value:function(){Tv("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=T(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),bk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},kk=function(){function e(t){p(this,e),this.Hr=t.Hr,this.Jr=t.Jr}return g(e,[{key:"Yr",value:function(e){this.Xr=e}},{key:"Zr",value:function(e){this.eo=e}},{key:"onMessage",value:function(e){this.no=e}},{key:"close",value:function(){this.Jr()}},{key:"send",value:function(e){this.Hr(e)}},{key:"so",value:function(){this.Xr()}},{key:"io",value:function(e){this.eo(e)}},{key:"ro",value:function(e){this.no(e)}}]),e}(),wk=function(e){k(n,e);var t=_(n);function n(e){var r;return p(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return g(n,[{key:"fo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new wv;o.setWithCredentials(!0),o.listenOnce(mv.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case vv.NO_ERROR:var t=o.getResponseJson();Tv("Connection","XHR received:",JSON.stringify(t)),i(t);break;case vv.TIMEOUT:Tv("Connection",'RPC "'+e+'" timed out'),a(new Fv(Dv.DEADLINE_EXCEEDED,"Request time out"));break;case vv.HTTP_ERROR:var n=o.getStatus();if(Tv("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson();Array.isArray(r)&&(r=r[0]);var s=null==r?void 0:r.error;if(s&&s.status&&s.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Dv).indexOf(t)>=0?t:Dv.UNKNOWN}(s.status);a(new Fv(u,s.message))}else a(new Fv(Dv.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Fv(Dv.UNAVAILABLE,"Connection failed."));break;default:Ov()}}finally{Tv("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);o.send(t,"POST",s,n,15)}))}},{key:"wo",value:function(e,t,n){var r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=dv(),a=pv(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new bv({})),this.lo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;var s=r.join("");Tv("Connection","Creating WebChannel: "+s,o);var u=i.createWebChannel(s,o),c=!1,l=!1,f=new kk({Hr:function(e){l?Tv("Connection","Not sending because WebChannel is closed:",e):(c||(Tv("Connection","Opening WebChannel transport."),u.open(),c=!0),Tv("Connection","WebChannel sending:",e),u.send(e))},Jr:function(){return u.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(u,kv.EventType.OPEN,(function(){l||Tv("Connection","WebChannel transport opened.")})),h(u,kv.EventType.CLOSE,(function(){l||(l=!0,Tv("Connection","WebChannel transport closed"),f.io())})),h(u,kv.EventType.ERROR,(function(e){l||(l=!0,Rv("Connection","WebChannel transport errored:",e),f.io(new Fv(Dv.UNAVAILABLE,"The operation could not be completed")))})),h(u,kv.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Nv(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Tv("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=bg[e];if(void 0!==t)return Sg(t)}(a),s=i.message;void 0===o&&(o=Dv.INTERNAL,s="Unknown error status: "+a+" with message "+i.message),l=!0,f.io(new Fv(o,s)),u.close()}else Tv("Connection","WebChannel received:",n),f.ro(n)}})),h(a,yv.STAT_EVENT,(function(e){e.stat===gv.PROXY?Tv("Connection","Detected buffering proxy"):e.stat===gv.NOPROXY&&Tv("Connection","Detected no buffering proxy")})),setTimeout((function(){f.so()}),0),f}}]),n}(function(){function e(t){p(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.oo=n+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return g(e,[{key:"co",get:function(){return!1}},{key:"ao",value:function(e,t,n,r,i){var a=this.ho(e,t);Tv("RestConnection","Sending: ",a,n);var o={};return this.lo(o,r,i),this.fo(e,a,o,n).then((function(e){return Tv("RestConnection","Received: ",e),e}),(function(t){throw Rv("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"_o",value:function(e,t,n,r,i,a){return this.ao(e,t,n,r,i)}},{key:"lo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Cv,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ho",value:function(e,t){var n=bk[e];return"".concat(this.oo,"/v1/").concat(t,":").concat(n)}}]),e}());function _k(){return"undefined"!=typeof document?document:null}function xk(e){return new Jg(e,!0)}var Ck=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;p(this,e),this.Hs=t,this.timerId=n,this.mo=r,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}return g(e,[{key:"reset",value:function(){this.Io=0}},{key:"Ao",value:function(){this.Io=this.po}},{key:"Ro",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&Tv("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Io," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,(function(){return t.Eo=Date.now(),e()})),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}},{key:"Po",value:function(){null!==this.To&&(this.To.skipDelay(),this.To=null)}},{key:"cancel",value:function(){null!==this.To&&(this.To.cancel(),this.To=null)}},{key:"bo",value:function(){return(Math.random()-.5)*this.Io}}]),e}(),Sk=function(){function e(t,n,r,i,a,o,s,u){p(this,e),this.Hs=t,this.vo=r,this.Vo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Ck(t,n)}return g(e,[{key:"No",value:function(){return 1===this.state||5===this.state||this.ko()}},{key:"ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Oo()}},{key:"stop",value:function(){var e=P(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.No(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Mo",value:function(){this.state=0,this.xo.reset()}},{key:"Fo",value:function(){var e=this;this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,(function(){return e.$o()})))}},{key:"Bo",value:function(e){this.Lo(),this.stream.send(e)}},{key:"$o",value:function(){var e=P(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Lo",value:function(){this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"qo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"close",value:function(){var e=P(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Lo(),this.qo(),this.xo.cancel(),this.So++,4!==t?this.xo.reset():n&&n.code===Dv.RESOURCE_EXHAUSTED?(Iv(n.toString()),Iv("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):n&&n.code===Dv.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Uo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Zr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Uo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=d(t,2),i=r[0],a=r[1];e.So===n&&e.Go(i,a)}),(function(n){t((function(){var t=new Fv(Dv.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Qo(t)}))}))}},{key:"Go",value:function(e,t){var n=this,r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr((function(){r((function(){return n.state=2,n.Co=n.Hs.enqueueAfterDelay(n.Vo,1e4,(function(){return n.ko()&&(n.state=3),Promise.resolve()})),n.listener.Yr()}))})),this.stream.Zr((function(e){r((function(){return n.Qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Oo",value:function(){var e=this;this.state=5,this.xo.Ro(P(I().mark((function t(){return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Qo",value:function(e){return Tv("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Ko",value:function(e){var t=this;return function(n){t.Hs.enqueueAndForget((function(){return t.So===e?n():(Tv("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Ek=function(e){k(n,e);var t=_(n);function n(e,r,i,a,o,s){var u;return p(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).yt=o,u}return g(n,[{key:"jo",value:function(e,t){return this.connection.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.xo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Ov()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.wt?(Nv(void 0===t||"string"==typeof t),_m.fromBase64String(t||"")):(Nv(void 0===t||t instanceof Uint8Array),_m.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?Dv.UNKNOWN:Sg(e.code);return new Fv(t,e.message||"")}(o);n=new Hg(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=ob(e,u.document.name),l=nb(u.document.updateTime),f=u.document.createTime?nb(u.document.createTime):Yv.min(),h=new by({mapValue:{fields:u.document.fields}}),d=wy.newFoundDocument(c,l,f,h),p=u.targetIds||[],v=u.removedTargetIds||[];n=new Bg(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var y=ob(e,m.document),g=m.readTime?nb(m.readTime):Yv.min(),b=wy.newNoDocument(y,g),k=m.removedTargetIds||[];n=new Bg([],k,b.key,b)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var _=ob(e,w.document),x=w.removedTargetIds||[];n=new Bg([],x,_,null)}else{if(!("filter"in t))return Ov();t.filter;var C=t.filter;C.targetId;var S=C.count||0,E=new xg(S),T=C.targetId;n=new qg(T,E)}return n}(this.yt,e),n=function(e){if(!("targetChange"in e))return Yv.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Yv.min():t.readTime?nb(t.readTime):Yv.min()}(e);return this.listener.Wo(t,n)}},{key:"zo",value:function(e){var t={};t.database=cb(this.yt),t.addTarget=function(e,t){var n,r=t.target;return(n=Ey(r)?{documents:db(e,r)}:{query:pb(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=eb(e,t.resumeToken):t.snapshotVersion.compareTo(Yv.min())>0&&(n.readTime=Zg(e,t.snapshotVersion.toTimestamp())),n}(this.yt,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ov()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.yt,e);n&&(t.labels=n),this.Bo(t)}},{key:"Ho",value:function(e){var t={};t.database=cb(this.yt),t.removeTarget=e,this.Bo(t)}}]),n}(Sk),Tk=function(e){k(n,e);var t=_(n);function n(e,r,i,a,o,s){var u;return p(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).yt=o,u.Jo=!1,u}return g(n,[{key:"Yo",get:function(){return this.Jo}},{key:"start",value:function(){this.Jo=!1,this.lastStreamToken=void 0,E(i(n.prototype),"start",this).call(this)}},{key:"Uo",value:function(){this.Jo&&this.Xo([])}},{key:"jo",value:function(e,t){return this.connection.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(Nv(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();var t=function(e,t){return e&&e.length>0?(Nv(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?nb(e.updateTime):nb(t);return n.isEqual(Yv.min())&&(n=nb(t)),new ag(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=nb(e.commitTime);return this.listener.Zo(n,t)}return Nv(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}},{key:"eu",value:function(){var e={};e.database=cb(this.yt),this.Bo(e)}},{key:"Xo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return hb(t.yt,e)}))};this.Bo(n)}}]),n}(Sk),Ik=function(e){k(n,e);var t=_(n);function n(e,r,i,a){var o;return p(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.yt=a,o.nu=!1,o}return g(n,[{key:"su",value:function(){if(this.nu)throw new Fv(Dv.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ao",value:function(e,t,n){var r=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=d(i,2),o=a[0],s=a[1];return r.connection.ao(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Dv.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Fv(Dv.UNKNOWN,e.toString())}))}},{key:"_o",value:function(e,t,n,r){var i=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=d(a,2),s=o[0],u=o[1];return i.connection._o(e,t,n,s,u,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Dv.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new Fv(Dv.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.nu=!0}}]),n}(function(){return g((function e(){p(this,e)}))}());var Rk=function(){function e(t,n){p(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}return g(e,[{key:"uu",value:function(){var e=this;0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ru=null,e.au("Backend didn't respond within 10 seconds."),e.cu("Offline"),Promise.resolve()})))}},{key:"hu",value:function(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.cu("Offline")))}},{key:"set",value:function(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}},{key:"cu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"au",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ou?(Iv(t),this.ou=!1):Tv("OnlineStateTracker",t)}},{key:"lu",value:function(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}]),e}(),Pk=g((function e(t,n,r,i,a){var o=this;p(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.Ur((function(e){r.enqueueAndForget(P(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=zk(o),!e.t0){e.next=5;break}return Tv("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=P(I().mark((function e(t){var n;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Av(t))._u.add(4),e.next=4,Ak(n);case 4:return n.gu.set("Unknown"),n._u.delete(4),e.next=8,Ok(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.gu=new Rk(r,i)}));function Ok(e){return Nk.apply(this,arguments)}function Nk(){return Nk=P(I().mark((function e(t){var n,r,i;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!zk(t)){e.next=18;break}n=T(t.wu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),Nk.apply(this,arguments)}function Ak(e){return Dk.apply(this,arguments)}function Dk(){return Dk=P(I().mark((function e(t){var n,r,i;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=T(t.wu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),Dk.apply(this,arguments)}function Fk(e,t){var n=Av(e);n.du.has(t.targetId)||(n.du.set(t.targetId,t),Vk(n)?Uk(n):mw(n).ko()&&Lk(n,t))}function jk(e,t){var n=Av(e),r=mw(n);n.du.delete(t),r.ko()&&Mk(n,t),0===n.du.size&&(r.ko()?r.Fo():zk(n)&&n.gu.set("Unknown"))}function Lk(e,t){e.yu.Ot(t.targetId),mw(e).zo(t)}function Mk(e,t){e.yu.Ot(t),mw(e).Ho(t)}function Uk(e){e.yu=new Gg({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},ne:function(t){return e.du.get(t)||null}}),mw(e).start(),e.gu.uu()}function Vk(e){return zk(e)&&!mw(e).No()&&e.du.size>0}function zk(e){return 0===Av(e)._u.size}function Bk(e){e.yu=void 0}function qk(e){return Hk.apply(this,arguments)}function Hk(){return Hk=P(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.du.forEach((function(e,n){Lk(t,e)}));case 1:case"end":return e.stop()}}),e)}))),Hk.apply(this,arguments)}function Wk(e,t){return Gk.apply(this,arguments)}function Gk(){return Gk=P(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Bk(t),Vk(t)?(t.gu.hu(n),Uk(t)):t.gu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),Gk.apply(this,arguments)}function Kk(e,t,n){return $k.apply(this,arguments)}function $k(){return $k=P(I().mark((function e(t,n,r){var i;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.gu.set("Online"),!(n instanceof Hg&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=P(I().mark((function e(t,n){var r,i,a,o;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=T(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.du.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.du.delete(o),t.yu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Tv("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,Qk(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Bg?t.yu.Kt(n):n instanceof qg?t.yu.Jt(n):t.yu.jt(n),r.isEqual(Yv.min())){e.next=29;break}return e.prev=14,e.next=17,ok(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.yu.Zt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.du.get(r);i&&e.du.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.du.get(t);if(n){e.du.set(t,n.withResumeToken(_m.EMPTY_BYTE_STRING,n.snapshotVersion)),Mk(e,t);var r=new Ob(n.target,t,1,n.sequenceNumber);Lk(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Tv("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,Qk(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),$k.apply(this,arguments)}function Qk(e,t,n){return Yk.apply(this,arguments)}function Yk(){return Yk=P(I().mark((function e(t,n,r){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(hm(n)){e.next=2;break}throw n;case 2:return t._u.add(1),e.next=5,Ak(t);case 5:t.gu.set("Offline"),r||(r=function(){return ok(t.localStore)}),t.asyncQueue.enqueueRetryable(P(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Tv("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t._u.delete(1),e.next=6,Ok(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),Yk.apply(this,arguments)}function Xk(e,t){return t().catch((function(n){return Qk(e,n,t)}))}function Jk(e){return Zk.apply(this,arguments)}function Zk(){return Zk=P(I().mark((function e(t){var n,r,i,a;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Av(t),r=yw(n),i=n.fu.length>0?n.fu[n.fu.length-1].batchId:-1;case 2:if(!ew(n)){e.next=19;break}return e.prev=3,e.next=6,ck(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.fu.length&&r.Fo(),e.abrupt("break",19);case 10:i=a.batchId,tw(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,Qk(n,e.t0);case 17:e.next=2;break;case 19:nw(n)&&rw(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),Zk.apply(this,arguments)}function ew(e){return zk(e)&&e.fu.length<10}function tw(e,t){e.fu.push(t);var n=yw(e);n.ko()&&n.Yo&&n.Xo(t.mutations)}function nw(e){return zk(e)&&!yw(e).No()&&e.fu.length>0}function rw(e){yw(e).start()}function iw(e){return aw.apply(this,arguments)}function aw(){return aw=P(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:yw(t).eu();case 1:case"end":return e.stop()}}),e)}))),aw.apply(this,arguments)}function ow(e){return sw.apply(this,arguments)}function sw(){return sw=P(I().mark((function e(t){var n,r,i,a;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=yw(t),r=T(t.fu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Xo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),sw.apply(this,arguments)}function uw(e,t,n){return cw.apply(this,arguments)}function cw(){return cw=P(I().mark((function e(t,n,r){var i,a;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.fu.shift(),a=Rb.from(i,n,r),e.next=3,Xk(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,Jk(t);case 5:case"end":return e.stop()}}),e)}))),cw.apply(this,arguments)}function lw(e,t){return fw.apply(this,arguments)}function fw(){return fw=P(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&yw(t).Yo,!e.t0){e.next=4;break}return e.next=4,function(){var e=P(I().mark((function e(t,n){var r,i;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Cg(i=n.code)||i===Dv.ABORTED){e.next=7;break}return r=t.fu.shift(),yw(t).Mo(),e.next=5,Xk(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,Jk(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:nw(t)&&rw(t);case 5:case"end":return e.stop()}}),e)}))),fw.apply(this,arguments)}function hw(e,t){return dw.apply(this,arguments)}function dw(){return dw=P(I().mark((function e(t,n){var r,i;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Av(t)).asyncQueue.verifyOperationInProgress(),Tv("RemoteStore","RemoteStore received new credentials"),i=zk(r),r._u.add(3),e.next=6,Ak(r);case 6:return i&&r.gu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r._u.delete(3),e.next=12,Ok(r);case 12:case"end":return e.stop()}}),e)}))),dw.apply(this,arguments)}function pw(e,t){return vw.apply(this,arguments)}function vw(){return vw=P(I().mark((function e(t,n){var r;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Av(t),!n){e.next=7;break}return r._u.delete(2),e.next=5,Ok(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r._u.add(2),e.next=12,Ak(r);case 12:r.gu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),vw.apply(this,arguments)}function mw(e){return e.pu||(e.pu=function(e,t,n){var r=Av(e);return r.su(),new Ek(t,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,n)}(e.datastore,e.asyncQueue,{Yr:qk.bind(null,e),Zr:Wk.bind(null,e),Wo:Kk.bind(null,e)}),e.wu.push(function(){var t=P(I().mark((function t(n){return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.pu.Mo(),Vk(e)?Uk(e):e.gu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.pu.stop();case 6:Bk(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.pu}function yw(e){return e.Iu||(e.Iu=function(e,t,n){var r=Av(e);return r.su(),new Tk(t,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,n)}(e.datastore,e.asyncQueue,{Yr:iw.bind(null,e),Zr:lw.bind(null,e),tu:ow.bind(null,e),Zo:uw.bind(null,e)}),e.wu.push(function(){var t=P(I().mark((function t(n){return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Iu.Mo(),t.next=4,Jk(e);case 4:t.next=9;break;case 6:return t.next=8,e.Iu.stop();case 8:e.fu.length>0&&(Tv("RemoteStore","Stopping write stream with ".concat(e.fu.length," pending writes")),e.fu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Iu}var gw=function(){function e(t,n,r,i,a){p(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new jv,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return g(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Fv(Dv.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function bw(e,t){if(Iv("AsyncQueue","".concat(t,": ").concat(e)),hm(e))return new Fv(Dv.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var kw=function(){function e(t){p(this,e),this.comparator=t?function(e,n){return t(e,n)||tm.comparator(e.key,n.key)}:function(e,t){return tm.comparator(e.key,t.key)},this.keyedMap=Pg(),this.sortedSet=new dy(this.comparator)}return g(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),ww=function(){function e(){p(this,e),this.Tu=new dy(tm.comparator)}return g(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Tu.get(t);n?0!==e.type&&3===n.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==n.type?this.Tu=this.Tu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Tu=this.Tu.remove(t):1===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):Ov():this.Tu=this.Tu.insert(t,e)}},{key:"Eu",value:function(){var e=[];return this.Tu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),_w=function(){function e(t,n,r,i,a,o,s,u,c){p(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u,this.hasCachedResults=c}return g(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ly(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,kw.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),xw=g((function e(){p(this,e),this.Au=void 0,this.listeners=[]})),Cw=g((function e(){p(this,e),this.queries=new Eg((function(e){return My(e)}),Ly),this.onlineState="Unknown",this.Ru=new Set}));function Sw(e,t){return Ew.apply(this,arguments)}function Ew(){return Ew=P(I().mark((function e(t,n){var r,i,a,o,s;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Av(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new xw),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Au=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=bw(e.t0,"Initialization of query '".concat(Uy(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.bu(r.onlineState),o.Au&&n.Pu(o.Au)&&Ow(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),Ew.apply(this,arguments)}function Tw(e,t){return Iw.apply(this,arguments)}function Iw(){return Iw=P(I().mark((function e(t,n){var r,i,a,o,s;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Av(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),Iw.apply(this,arguments)}function Rw(e,t){var n,r=Av(e),i=!1,a=T(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=T(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Pu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.Au=o}}}catch(f){a.e(f)}finally{a.f()}i&&Ow(r)}function Pw(e,t,n){var r=Av(e),i=r.queries.get(t);if(i){var a,o=T(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function Ow(e){e.Ru.forEach((function(e){e.next()}))}var Nw=function(){function e(t,n,r){p(this,e),this.query=t,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}return g(e,[{key:"Pu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=T(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new _w(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),a=!0):this.Cu(e,this.onlineState)&&(this.xu(e),a=!0),this.Su=e,a}},{key:"onError",value:function(e){this.vu.error(e)}},{key:"bu",value:function(e){this.onlineState=e;var t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}},{key:"Cu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Nu||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Du",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"xu",value:function(e){e=_w.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}]),e}();var Aw=g((function e(t){p(this,e),this.key=t})),Dw=g((function e(t){p(this,e),this.key=t})),Fw=function(){function e(t,n){p(this,e),this.query=t,this.qu=n,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Lg(),this.mutatedKeys=Lg(),this.Gu=By(t),this.Qu=new kw(this.Gu)}return g(e,[{key:"ju",get:function(){return this.qu}},{key:"Wu",value:function(e,t){var n=this,r=t?t.zu:new ww,i=t?t.Qu:this.Qu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Vy(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Hu(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.Gu(f,u)>0||c&&n.Gu(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Qu:o,zu:r,$i:s,mutatedKeys:a}}},{key:"Hu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;var a=e.zu.Eu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ov()}};return n(e)-n(t)}(e.type,t.type)||r.Gu(e.doc,t.doc)})),this.Ju(n);var o=t?this.Yu():[],s=0===this.Ku.size&&this.current?1:0,u=s!==this.Uu;return this.Uu=s,0!==a.length||u?{snapshot:new _w(this.query,e.Qu,i,a,e.mutatedKeys,0===s,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}},{key:"bu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new ww,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}},{key:"Zu",value:function(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}},{key:"Ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.qu=t.qu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.qu=t.qu.delete(e)})),this.current=e.current)}},{key:"Yu",value:function(){var e=this;if(!this.current)return[];var t=this.Ku;this.Ku=Lg(),this.Qu.forEach((function(t){e.Zu(t.key)&&(e.Ku=e.Ku.add(t.key))}));var n=[];return t.forEach((function(t){e.Ku.has(t)||n.push(new Dw(t))})),this.Ku.forEach((function(e){t.has(e)||n.push(new Aw(e))})),n}},{key:"tc",value:function(e){this.qu=e.Hi,this.Ku=Lg();var t=this.Wu(e.documents);return this.applyChanges(t,!0)}},{key:"ec",value:function(){return _w.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}]),e}(),jw=g((function e(t,n,r){p(this,e),this.query=t,this.targetId=n,this.view=r})),Lw=g((function e(t){p(this,e),this.key=t,this.nc=!1})),Mw=function(){function e(t,n,r,i,a,o){p(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new Eg((function(e){return My(e)}),Ly),this.rc=new Map,this.oc=new Set,this.uc=new dy(tm.comparator),this.cc=new Map,this.ac=new Hb,this.hc={},this.lc=new Map,this.fc=Mb.vn(),this.onlineState="Unknown",this.dc=void 0}return g(e,[{key:"isPrimaryClient",get:function(){return!0===this.dc}}]),e}();function Uw(e,t){return Vw.apply(this,arguments)}function Vw(){return Vw=P(I().mark((function e(t,n){var r,i,a,o,s,u;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=p_(t),!(o=r.ic.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.ec(),e.next=15;break;case 6:return e.next=8,lk(r.localStore,Fy(n));case 8:return s=e.sent,r.isPrimaryClient&&Fk(r.remoteStore,s),u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=14,zw(r,n,i,"current"===u,s.resumeToken);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),Vw.apply(this,arguments)}function zw(e,t,n,r,i){return Bw.apply(this,arguments)}function Bw(){return Bw=P(I().mark((function e(t,n,r,i,a){var o,s,u,c,l,f;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._c=function(e,n,r){return function(){var e=P(I().mark((function e(t,n,r,i){var a,o,s;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Wu(r),e.t0=a.$i,!e.t0){e.next=6;break}return e.next=5,dk(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Wu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(o_(t,n.targetId,s.Xu),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,dk(t.localStore,n,!0);case 3:return o=e.sent,s=new Fw(n,o.Hi),u=s.Wu(o.documents),c=zg.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=s.applyChanges(u,t.isPrimaryClient,c),o_(t,r,l.Xu),f=new jw(n,r,s),e.abrupt("return",(t.ic.set(n,f),t.rc.has(r)?t.rc.get(r).push(n):t.rc.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),Bw.apply(this,arguments)}function qw(e,t){return Hw.apply(this,arguments)}function Hw(){return Hw=P(I().mark((function e(t,n){var r,i,a;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Av(t),i=r.ic.get(n),!((a=r.rc.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.rc.set(i.targetId,a.filter((function(e){return!Ly(e,n)}))),void r.ic.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,fk(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),jk(r.remoteStore,i.targetId),i_(r,i.targetId)})).catch(cm);case 9:e.next=14;break;case 11:return i_(r,i.targetId),e.next=14,fk(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),Hw.apply(this,arguments)}function Ww(e,t,n){return Gw.apply(this,arguments)}function Gw(){return Gw=P(I().mark((function e(t,n,r){var i,a,o;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=v_(t),e.prev=1,e.next=4,function(e,t){var n,r,i=Av(e),a=Qv.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Lg());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=Ig(),u=Lg();return i.Gi.getEntries(e,o).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(u=u.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var o,s=[],u=T(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=hg(c,n.get(c.key).overlayedDocument);null!=l&&s.push(new vg(c.key,l,ky(l.value.mapValue),og.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return i.mutationQueue.addMutationBatch(e,a,s,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,u);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:Og(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.hc[e.currentUser.toKey()];r||(r=new dy(Kv)),r=r.insert(t,n),e.hc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,c_(i,a.changes);case 9:return e.next=11,Jk(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=bw(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),Gw.apply(this,arguments)}function Kw(e,t){return $w.apply(this,arguments)}function $w(){return $w=P(I().mark((function e(t,n){var r,i;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Av(t),e.prev=1,e.next=4,sk(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.cc.get(t);n&&(Nv(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.nc=!0:e.modifiedDocuments.size>0?Nv(n.nc):e.removedDocuments.size>0&&(Nv(n.nc),n.nc=!1))})),e.next=8,c_(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,cm(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),$w.apply(this,arguments)}function Qw(e,t,n){var r=Av(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ic.forEach((function(e,n){var r=n.view.bu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Av(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=T(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.bu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&Ow(n)}(r.eventManager,t),i.length&&r.sc.Wo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Yw(e,t,n){return Xw.apply(this,arguments)}function Xw(){return Xw=P(I().mark((function e(t,n,r){var i,a,o,s,u,c;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Av(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.cc.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new dy(tm.comparator)).insert(o,wy.newNoDocument(o,Yv.min())),u=Lg().add(o),c=new Vg(Yv.min(),new Map,new my(Kv),s,u),e.next=9,Kw(i,c);case 9:i.uc=i.uc.remove(o),i.cc.delete(n),u_(i),e.next=16;break;case 14:return e.next=16,fk(i.localStore,n,!1).then((function(){return i_(i,n,r)})).catch(cm);case 16:case"end":return e.stop()}}),e)}))),Xw.apply(this,arguments)}function Jw(e,t){return Zw.apply(this,arguments)}function Zw(){return Zw=P(I().mark((function e(t,n){var r,i,a;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Av(t),i=n.batch.batchId,e.prev=1,e.next=4,ak(r.localStore,n);case 4:return a=e.sent,r_(r,i,null),n_(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,c_(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,cm(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Zw.apply(this,arguments)}function e_(e,t,n){return t_.apply(this,arguments)}function t_(){return t_=P(I().mark((function e(t,n,r){var i,a;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Av(t),e.prev=1,e.next=4,function(e,t){var n=Av(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return Nv(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,r_(i,n,r),n_(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,c_(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,cm(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),t_.apply(this,arguments)}function n_(e,t){(e.lc.get(t)||[]).forEach((function(e){e.resolve()})),e.lc.delete(t)}function r_(e,t,n){var r=Av(e),i=r.hc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.hc[r.currentUser.toKey()]=i}}function i_(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=T(e.rc.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ic.delete(a),n&&e.sc.wc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.rc.delete(t),e.isPrimaryClient&&e.ac.ls(t).forEach((function(t){e.ac.containsKey(t)||a_(e,t)}))}function a_(e,t){e.oc.delete(t.path.canonicalString());var n=e.uc.get(t);null!==n&&(jk(e.remoteStore,n),e.uc=e.uc.remove(t),e.cc.delete(n),u_(e))}function o_(e,t,n){var r,i=T(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof Aw?(e.ac.addReference(a.key,t),s_(e,a)):a instanceof Dw?(Tv("SyncEngine","Document no longer in limbo: "+a.key),e.ac.removeReference(a.key,t),e.ac.containsKey(a.key)||a_(e,a.key)):Ov()}}catch(o){i.e(o)}finally{i.f()}}function s_(e,t){var n=t.key,r=n.path.canonicalString();e.uc.get(n)||e.oc.has(r)||(Tv("SyncEngine","New document in limbo: "+n),e.oc.add(r),u_(e))}function u_(e){for(;e.oc.size>0&&e.uc.size<e.maxConcurrentLimboResolutions;){var t=e.oc.values().next().value;e.oc.delete(t);var n=new tm(Jv.fromString(t)),r=e.fc.next();e.cc.set(r,new Lw(n)),e.uc=e.uc.insert(n,r),Fk(e.remoteStore,new Ob(Fy(Ry(n.path)),r,2,dm.at))}}function c_(e,t,n){return l_.apply(this,arguments)}function l_(){return l_=P(I().mark((function e(t,n,r){var i,a,o,s;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Av(t),a=[],o=[],s=[],e.t0=i.ic.isEmpty(),e.t0){e.next=9;break}return i.ic.forEach((function(e,t){s.push(i._c(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=Zb.Ci(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.sc.Wo(a),e.next=9,function(){var e=P(I().mark((function e(t,n){var r,i,a,o,s,u,c,l;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Av(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return fm.forEach(n,(function(t){return fm.forEach(t.Si,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return fm.forEach(t.Di,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),hm(e.t0)){e.next=10;break}throw e.t0;case 10:Tv("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=T(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.qi.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.qi=r.qi.insert(s,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),l_.apply(this,arguments)}function f_(e,t){return h_.apply(this,arguments)}function h_(){return h_=P(I().mark((function e(t,n){var r,i;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Av(t)).currentUser.isEqual(n)){e.next=11;break}return Tv("SyncEngine","User change. New user:",n.toKey()),e.next=5,rk(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.lc.forEach((function(e){e.forEach((function(e){e.reject(new Fv(Dv.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.lc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,c_(r,i.ji);case 11:case"end":return e.stop()}}),e)}))),h_.apply(this,arguments)}function d_(e,t){var n=Av(e),r=n.cc.get(t);if(r&&r.nc)return Lg().add(r.key);var i=Lg(),a=n.rc.get(t);if(!a)return i;var o,s=T(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.ic.get(u);i=i.unionWith(c.view.ju)}}catch(l){s.e(l)}finally{s.f()}return i}function p_(e){var t=Av(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Kw.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=d_.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Yw.bind(null,t),t.sc.Wo=Rw.bind(null,t.eventManager),t.sc.wc=Pw.bind(null,t.eventManager),t}function v_(e){var t=Av(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Jw.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=e_.bind(null,t),t}var m_=function(){function e(){p(this,e),this.synchronizeTabs=!1}return g(e,[{key:"initialize",value:function(){var e=P(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.yt=xk(t.databaseInfo.databaseId),this.sharedClientState=this.gc(t),this.persistence=this.yc(t),e.next=5,this.persistence.start();case 5:this.localStore=this.Ic(t),this.gcScheduler=this.Tc(t,this.localStore),this.indexBackfillerScheduler=this.Ec(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Tc",value:function(e,t){return null}},{key:"Ec",value:function(e,t){return null}},{key:"Ic",value:function(e){return nk(this.persistence,new ek,e.initialUser,this.yt)}},{key:"yc",value:function(e){return new Yb(Jb.Bs,this.yt)}},{key:"gc",value:function(e){return new mk}},{key:"terminate",value:function(){var e=P(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),y_=function(){function e(){p(this,e)}return g(e,[{key:"initialize",value:function(){var e=P(I().mark((function e(t,n){var r=this;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Qw(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=f_.bind(null,this.syncEngine),e.next=12,pw(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Cw}},{key:"createDatastore",value:function(e){var t,n=xk(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new wk(t));return function(e,t,n,r){return new Ik(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Qw(o.syncEngine,e,0)},a=gk.C()?new gk:new yk,new Pk(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new Mw(e,t,n,r,i,a);return o&&(s.dc=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=P(I().mark((function e(t){var n;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Av(t),Tv("RemoteStore","RemoteStore shutting down."),n._u.add(5),e.next=5,Ak(n);case 5:n.mu.shutdown(),n.gu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function g_(e,t,n){if(!n)throw new Fv(Dv.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function b_(e){if(!tm.isDocumentKey(e))throw new Fv(Dv.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function k_(e){if(tm.isDocumentKey(e))throw new Fv(Dv.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function w_(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Ov()}function __(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Fv(Dv.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=w_(e);throw new Fv(Dv.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}var x_=new Map,C_=function(){function e(t){var n;if(p(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Fv(Dv.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Fv(Dv.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,function(e,t,n,r){if(!0===t&&!0===r)throw new Fv(Dv.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return g(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),S_=function(){function e(t,n,r,i){p(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new C_({}),this._settingsFrozen=!1}return g(e,[{key:"app",get:function(){if(!this._app)throw new Fv(Dv.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Fv(Dv.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new C_(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Mv;switch(e.type){case"gapi":var t=e.client;return new Bv(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Fv(Dv.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=x_.get(e);t&&(Tv("ComponentProvider","Removing Datastore"),x_.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function E_(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=__(e,S_))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Rv("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,s;if("string"==typeof i.mockUserToken)o=i.mockUserToken,s=xv.MOCK_USER;else{o=Y(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new Fv(Dv.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new xv(u)}e._authCredentials=new Uv(new Lv(o,s))}}var T_=function(){function e(t,n,r){p(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return g(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new R_(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),I_=function(){function e(t,n,r){p(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return g(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),R_=function(e){k(n,e);var t=_(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this,e,r,Ry(i)))._path=i,a.type="collection",a}return g(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new T_(this.firestore,null,new tm(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(I_);function P_(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Te(e),g_("collection","path",t),e instanceof S_){var a=Jv.fromString.apply(Jv,[t].concat(r));return k_(a),new R_(e,null,a)}if(!(e instanceof T_||e instanceof R_))throw new Fv(Dv.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Jv.fromString.apply(Jv,[t].concat(r)));return k_(o),new R_(e.firestore,null,o)}function O_(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Te(e),1===arguments.length&&(t=Gv.R()),g_("doc","path",t),e instanceof S_){var a=Jv.fromString.apply(Jv,[t].concat(r));return b_(a),new T_(e,null,new tm(a))}if(!(e instanceof T_||e instanceof R_))throw new Fv(Dv.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Jv.fromString.apply(Jv,[t].concat(r)));return b_(o),new T_(e.firestore,e instanceof R_?e.converter:null,new tm(o))}function N_(e,t){return e=Te(e),t=Te(t),e instanceof I_&&t instanceof I_&&e.firestore===t.firestore&&Ly(e._query,t._query)&&e.converter===t.converter}var A_=function(){function e(t){p(this,e),this.observer=t,this.muted=!1}return g(e,[{key:"next",value:function(e){this.observer.next&&this.Rc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Rc(this.observer.error,e):Iv("Uncaught Error in snapshot listener:",e.toString())}},{key:"bc",value:function(){this.muted=!0}},{key:"Rc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),D_=function(){function e(t,n,r,i){var a=this;p(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=xv.UNAUTHENTICATED,this.clientId=Gv.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=P(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Tv("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Tv("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return g(e,[{key:"getConfiguration",value:function(){var e=P(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Fv(Dv.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new jv;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(P(I().mark((function n(){var r;return I().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=bw(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function F_(e,t){return j_.apply(this,arguments)}function j_(){return j_=P(I().mark((function e(t,n){var r,i;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Tv("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=P(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,rk(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),j_.apply(this,arguments)}function L_(e,t){return M_.apply(this,arguments)}function M_(){return M_=P(I().mark((function e(t,n){var r,i;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,U_(t);case 3:return r=e.sent,Tv("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return hw(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return hw(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),M_.apply(this,arguments)}function U_(e){return V_.apply(this,arguments)}function V_(){return V_=P(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Tv("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,F_(t,new m_);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),V_.apply(this,arguments)}function z_(e){return B_.apply(this,arguments)}function B_(){return B_=P(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Tv("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,L_(t,new y_);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),B_.apply(this,arguments)}function q_(e){return z_(e).then((function(e){return e.syncEngine}))}function H_(e){return W_.apply(this,arguments)}function W_(){return W_=P(I().mark((function e(t){var n,r;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z_(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=Uw.bind(null,n.syncEngine),r.onUnlisten=qw.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),W_.apply(this,arguments)}var G_=function(){function e(){var t=this;p(this,e),this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new Ck(this,"async_queue_retry"),this.Wc=function(){var e=_k();e&&Tv("AsyncQueue","Visibility state changed to "+e.visibilityState),t.xo.Po()};var n=_k();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Wc)}return g(e,[{key:"isShuttingDown",get:function(){return this.qc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.zc(),this.Hc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;var t=_k();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}},{key:"enqueue",value:function(e){var t=this;if(this.zc(),this.qc)return new Promise((function(){}));var n=new jv;return this.Hc((function(){return t.qc&&t.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Lc.push(e),t.Jc()}))}},{key:"Jc",value:function(){var e=P(I().mark((function e(){var t=this;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Lc.length){e.next=14;break}return e.prev=1,e.next=4,this.Lc[0]();case 4:this.Lc.shift(),this.xo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),hm(e.t0)){e.next=12;break}throw e.t0;case 12:Tv("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Lc.length>0&&this.xo.Ro((function(){return t.Jc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Hc",value:function(e){var t=this,n=this.Bc.then((function(){return t.Gc=!0,e().catch((function(e){t.Kc=e,t.Gc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Iv("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Gc=!1,e}))}));return this.Bc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.zc(),this.jc.indexOf(e)>-1&&(t=0);var i=gw.createAndSchedule(this,e,t,n,(function(e){return r.Yc(e)}));return this.Uc.push(i),i}},{key:"zc",value:function(){this.Kc&&Ov()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Xc",value:function(){var e=P(I().mark((function e(){var t;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Bc,e.next=3,t;case 3:if(t!==this.Bc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Zc",value:function(e){var t,n=T(this.Uc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ta",value:function(e){var t=this;return this.Xc().then((function(){t.Uc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=T(t.Uc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Xc()}))}},{key:"ea",value:function(e){this.jc.push(e)}},{key:"Yc",value:function(e){var t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}]),e}();function K_(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=T(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var $_=function(e){k(n,e);var t=_(n);function n(e,r,i,a){var o;return p(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new G_,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return g(n,[{key:"_terminate",value:function(){return this._firestoreClient||X_(this),this._firestoreClient.terminate()}}]),n}(S_);function Q_(e,t){var n="string"==typeof e?e:t||"(default)",r=yt("object"==typeof e?e:xt(),"firestore").getImmediate({identifier:n});if(!r._initialized){var i=function(e){var t=G(e);if(t){var n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));var r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]}}("firestore");i&&E_.apply(void 0,[r].concat(C(i)))}return r}function Y_(e){return e._firestoreClient||X_(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function X_(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new pm(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new D_(e._authCredentials,e._appCheckCredentials,e._queue,r)}var J_=function(){function e(t){p(this,e),this._byteString=t}return g(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(_m.fromBase64String(t))}catch(t){throw new Fv(Dv.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(_m.fromUint8Array(t))}}]),e}(),Z_=function(){function e(){p(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Fv(Dv.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new em(n)}return g(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var ex=g((function e(t){p(this,e),this._methodName=t})),tx=function(){function e(t,n){if(p(this,e),!isFinite(t)||t<-90||t>90)throw new Fv(Dv.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Fv(Dv.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return g(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Kv(this._lat,e._lat)||Kv(this._long,e._long)}}]),e}(),nx=/^__.*__$/,rx=function(){function e(t,n,r){p(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return g(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new vg(e,this.data,this.fieldMask,t,this.fieldTransforms):new pg(e,this.data,t,this.fieldTransforms)}}]),e}();function ix(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ov()}}var ax=function(){function e(t,n,r,i,a,o){p(this,e),this.settings=t,this.databaseId=n,this.yt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.na(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return g(e,[{key:"path",get:function(){return this.settings.path}},{key:"sa",get:function(){return this.settings.sa}},{key:"ia",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ra",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.ua(e),r}},{key:"ca",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.na(),r}},{key:"aa",value:function(e){return this.ia({path:void 0,oa:!0})}},{key:"ha",value:function(e){return mx(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"na",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.ua(this.path.get(e))}},{key:"ua",value:function(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(ix(this.sa)&&nx.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}]),e}(),ox=function(){function e(t,n,r){p(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.yt=r||xk(t)}return g(e,[{key:"da",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new ax({sa:e,methodName:t,fa:n,path:em.emptyPath(),oa:!1,la:r},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}]),e}();function sx(e){var t=e._freezeSettings(),n=xk(e._databaseId);return new ox(e._databaseId,!!t.ignoreUndefinedProperties,n)}function ux(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.da(a.merge||a.mergeFields?2:0,t,n,i);hx("Data must be an object, but it was:",o,r);var s,u,c=lx(r,o);if(a.merge)s=new gy(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=T(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=dx(t,d,n);if(!o.contains(p))throw new Fv(Dv.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));yx(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}s=new gy(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new rx(new by(c),s,u)}function cx(e,t){if(fx(e=Te(e)))return hx("Unsupported field value:",t,e),lx(e,t);if(e instanceof ex)return function(e,t){if(!ix(t.sa))throw t.ha("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ha("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.oa&&4!==t.sa)throw t.ha("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=T(e);try{for(a.s();!(n=a.n()).done;){var o=cx(n.value,t.aa(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Te(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Gy(t.yt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Qv.fromDate(e);return{timestampValue:Zg(t.yt,n)}}if(e instanceof Qv){var r=new Qv(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Zg(t.yt,r)}}if(e instanceof tx)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof J_)return{bytesValue:eb(t.yt,e._byteString)};if(e instanceof T_){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ha("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:rb(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ha("Unsupported field value: ".concat(w_(e)))}(e,t)}function lx(e,t){var n={};return gm(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ym(e,(function(e,r){var i=cx(r,t.ra(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function fx(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Qv||e instanceof tx||e instanceof J_||e instanceof T_||e instanceof ex)}function hx(e,t,n){if(!fx(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=w_(n);throw"an object"===r?t.ha(e+" a custom object"):t.ha(e+" "+r)}}function dx(e,t,n){if((t=Te(t))instanceof Z_)return t._internalPath;if("string"==typeof t)return vx(e,t);throw mx("Field path arguments must be of type string or ",e,!1,void 0,n)}var px=new RegExp("[~\\*/\\[\\]]");function vx(e,t,n){if(t.search(px)>=0)throw mx("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return s(Z_,C(t.split(".")))._internalPath}catch(r){throw mx("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function mx(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new Fv(Dv.INVALID_ARGUMENT,s+e+u)}function yx(e,t){return e.some((function(e){return e.isEqual(t)}))}var gx=function(){function e(t,n,r,i,a){p(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return g(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new T_(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new bx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(kx("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),bx=function(e){k(n,e);var t=_(n);function n(){return p(this,n),t.apply(this,arguments)}return g(n,[{key:"data",value:function(){return E(i(n.prototype),"data",this).call(this)}}]),n}(gx);function kx(e,t){return"string"==typeof t?vx(e,t):t instanceof Z_?t._internalPath:t._delegate._internalPath}function wx(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Fv(Dv.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var _x=function(){function e(){p(this,e)}return g(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Om(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Sm(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Em(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ov()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return ym(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new tx(Sm(e.latitude),Sm(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Im(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Rm(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Cm(e);return new Qv(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Jv.fromString(e);Nv(Cb(n));var r=new vm(n.get(1),n.get(3)),i=new tm(n.popFirst(5));return r.isEqual(t)||Iv("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function xx(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Cx=function(){function e(t,n){p(this,e),this.hasPendingWrites=t,this.fromCache=n}return g(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),Sx=function(e){k(n,e);var t=_(n);function n(e,r,i,a,o,s){var u;return p(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return g(n,[{key:"exists",value:function(){return E(i(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new Ex(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(kx("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(gx),Ex=function(e){k(n,e);var t=_(n);function n(){return p(this,n),t.apply(this,arguments)}return g(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return E(i(n.prototype),"data",this).call(this,e)}}]),n}(Sx),Tx=function(){function e(t,n,r,i){p(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Cx(i.hasPendingWrites,i.fromCache),this.query=r}return g(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Ex(n._firestore,n._userDataWriter,r.key,r,new Cx(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Fv(Dv.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new Ex(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Cx(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Ex(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Cx(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Ix(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function Ix(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ov()}}var Rx=function(e){k(n,e);var t=_(n);function n(e){var r;return p(this,n),(r=t.call(this)).firestore=e,r}return g(n,[{key:"convertBytes",value:function(e){return new J_(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new T_(this.firestore,null,t)}}]),n}(_x);function Px(e,t,n){e=__(e,T_);var r=__(e.firestore,$_),i=xx(e.converter,t,n);return Nx(r,[ux(sx(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,og.none())])}function Ox(e,t){var n=__(e.firestore,$_),r=O_(e),i=xx(e.converter,t);return Nx(n,[ux(sx(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,og.exists(!1))]).then((function(){return r}))}function Nx(e,t){return function(e,t){var n=new jv;return e.asyncQueue.enqueueAndForget(P(I().mark((function r(){return I().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=Ww,r.next=3,q_(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(Y_(e),t)}function Ax(e,t,n){var r=n.docs.get(t._key),i=new Rx(e);return new Sx(e,i,t._key,r,new Cx(n.hasPendingWrites,n.fromCache),t.converter)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Cv=e}(wt),mt(new Ie("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new $_(new Vv(e.getProvider("auth-internal")),new Hv(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Fv(Dv.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vm(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Ct(_v,"3.8.1",e),Ct(_v,"3.8.1","esm2017")}();var Dx="functions";var Fx=function(){function e(t,n,r){var i=this;p(this,e),this.auth=null,this.messaging=null,this.appCheck=null,this.auth=t.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||t.get().then((function(e){return i.auth=e}),(function(){})),this.messaging||n.get().then((function(e){return i.messaging=e}),(function(){})),this.appCheck||r.get().then((function(e){return i.appCheck=e}),(function(){}))}return g(e,[{key:"getAuthToken",value:function(){var e=P(I().mark((function e(){var t;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth){e.next=2;break}return e.abrupt("return",void 0);case 2:return e.prev=2,e.next=5,this.auth.getToken();case 5:return t=e.sent,e.abrupt("return",null===t||void 0===t?void 0:t.accessToken);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",void 0);case 12:case"end":return e.stop()}}),e,this,[[2,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"getMessagingToken",value:function(){var e=P(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.messaging&&"Notification"in self&&"granted"===Notification.permission){e.next=2;break}return e.abrupt("return",void 0);case 2:return e.prev=2,e.next=5,this.messaging.getToken();case 5:return e.abrupt("return",e.sent);case 8:return e.prev=8,e.t0=e.catch(2),e.abrupt("return",void 0);case 11:case"end":return e.stop()}}),e,this,[[2,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"getAppCheckToken",value:function(){var e=P(I().mark((function e(){var t;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.appCheck){e.next=7;break}return e.next=3,this.appCheck.getToken();case 3:if(!(t=e.sent).error){e.next=6;break}return e.abrupt("return",null);case 6:return e.abrupt("return",t.token);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getContext",value:function(){var e=P(I().mark((function e(){var t,n,r;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getAuthToken();case 2:return t=e.sent,e.next=5,this.getMessagingToken();case 5:return n=e.sent,e.next=8,this.getAppCheckToken();case 8:return r=e.sent,e.abrupt("return",{authToken:t,messagingToken:n,appCheckToken:r});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),jx="us-central1";var Lx=function(){function e(t,n,r,i){var a=this,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:jx,s=arguments.length>5?arguments[5]:void 0;p(this,e),this.app=t,this.fetchImpl=s,this.emulatorOrigin=null,this.contextProvider=new Fx(n,r,i),this.cancelAllRequests=new Promise((function(e){a.deleteService=function(){return Promise.resolve(e())}}));try{var u=new URL(o);this.customDomain=u.origin,this.region=jx}catch(zT){this.customDomain=null,this.region=o}}return g(e,[{key:"_delete",value:function(){return this.deleteService()}},{key:"_url",value:function(e){var t=this.app.options.projectId;if(null!==this.emulatorOrigin){var n=this.emulatorOrigin;return"".concat(n,"/").concat(t,"/").concat(this.region,"/").concat(e)}return null!==this.customDomain?"".concat(this.customDomain,"/").concat(e):"https://".concat(this.region,"-").concat(t,".cloudfunctions.net/").concat(e)}}]),e}();var Mx="@firebase/functions",Ux="0.9.1";!function(e,t){mt(new Ie(Dx,(function(t,n){var r=n.instanceIdentifier,i=t.getProvider("app").getImmediate(),a=t.getProvider("auth-internal"),o=t.getProvider("messaging-internal"),s=t.getProvider("app-check-internal");return new Lx(i,a,o,s,r,e)}),"PUBLIC").setMultipleInstances(!0)),Ct(Mx,Ux,t),Ct(Mx,Ux,"esm2017")}(fetch.bind(self));var Vx="firebasestorage.googleapis.com",zx="storageBucket",Bx=function(e){k(n,e);var t=_(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return p(this,n),(i=t.call(this,qx(e),"Firebase Storage: ".concat(r," (").concat(qx(e),")"))).status_=a,i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(b(i),n.prototype),i}return g(n,[{key:"status",get:function(){return this.status_},set:function(e){this.status_=e}},{key:"_codeEquals",value:function(e){return qx(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(ie);function qx(e){return"storage/"+e}function Hx(){return new Bx("unknown","An unknown error occurred, please check the error payload for server response.")}function Wx(){return new Bx("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function Gx(){return new Bx("canceled","User canceled the upload/download.")}function Kx(e){return new Bx("invalid-argument",e)}function $x(){return new Bx("app-deleted","The Firebase app was deleted.")}var Qx,Yx=function(){function e(t,n){p(this,e),this.bucket=t,this.path_=n}return g(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(zT){return new e(t,"")}if(""===r.path)return r;throw new Bx("invalid-default-bucket","Invalid default bucket '"+t+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===Vx?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<u.length;c++){var l=u[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new Bx("invalid-url","Invalid URL '"+e+"'.")}(t);return r}}]),e}(),Xx=function(){function e(t){p(this,e),this.promise_=Promise.reject(t)}return g(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function Jx(e,t,n,r){if(r<t)throw Kx("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw Kx("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function Zx(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}function eC(e,t){var n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Qx||(Qx={}));var tC=function(){function e(t,n,r,i,a,o,s,u,c,l,f){var h=this,d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];p(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=f,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return g(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(zT){i(zT)}else if(null!==a){var s=Hx();s.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,s)):i(s)}else{if(n.canceled)i(e.appDelete_?$x():Gx());else i(Wx())}};this.canceled_?t(0,new nC(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,s=0;function u(){return 2===s}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,u())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var a;if(u()||o)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===s?(s=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(s=2),clearTimeout(i),f(0)):e||(s=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new nC(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===Qx.NO_ERROR,a=r.getStatus();if(!n||eC(a,e.additionalRetryCodes_)&&e.retry){var o=r.getErrorCode()===Qx.ABORT;t(!1,new nC(!1,null,o))}else{var s=-1!==e.successCodes_.indexOf(a);t(!0,new nC(s,r))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}]),e}(),nC=g((function e(t,n,r){p(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function rC(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}function iC(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}function aC(e,t){t&&(e["X-Firebase-GMPID"]=t)}function oC(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}function sC(e,t,n,r,i,a){var o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],s=Zx(e.urlParams),u=e.url+s,c=Object.assign({},e.headers);return aC(c,t),rC(c,n),iC(c,a),oC(c,r),new tC(u,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}function uC(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}var cC=function(){function e(t,n){p(this,e),this._service=t,this._location=n instanceof Yx?n:Yx.makeFromUrl(n,t.host)}return g(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new Yx(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return uC(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new Yx(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw function(e){return new Bx("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}]),e}();function lC(e,t){var n=null===t||void 0===t?void 0:t[zx];return null==n?null:Yx.makeFromBucketSpec(n,e)}var fC=function(){function e(t,n,r,i,a){p(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=Vx,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Yx.makeFromBucketSpec(i,this._host):lC(this._host,this.app.options)}return g(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=Yx.makeFromBucketSpec(this._url,e):this._bucket=lC(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){Jx("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){Jx("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=P(I().mark((function e(){var t,n;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=P(I().mark((function e(){var t,n;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new cC(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new Xx($x());var o=sC(e,this._appId,n,r,t,this._firebaseVersion,a);return this._requests.add(o),o.getPromise().then((function(){return i._requests.delete(o)}),(function(){return i._requests.delete(o)})),o}},{key:"makeRequestWithTokens",value:function(){var e=P(I().mark((function e(t,n){var r,i,a,o;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=d(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),hC="@firebase/storage",dC="0.10.1",pC="storage";function vC(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new fC(r,i,a,n,wt)}mt(new Ie(pC,vC,"PUBLIC").setMultipleInstances(!0)),Ct(hC,dC,""),Ct(hC,dC,"esm2017");var mC,yC;var gC=new WeakMap,bC=new WeakMap,kC=new WeakMap,wC=new WeakMap,_C=new WeakMap;var xC={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return bC.get(e);if("objectStoreNames"===t)return e.objectStoreNames||kC.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return EC(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function CC(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(yC||(yC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(TC(this),n),EC(gC.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return EC(e.apply(TC(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[TC(this),t].concat(r));return kC.set(a,t.sort?t.sort():[t]),EC(a)}}function SC(e){return"function"===typeof e?CC(e):(e instanceof IDBTransaction&&function(e){if(!bC.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));bC.set(e,t)}}(e),function(e,t){return t.some((function(t){return e instanceof t}))}(e,mC||(mC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,xC):e)}function EC(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(EC(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&gC.set(t,e)})).catch((function(){})),_C.set(t,e),t}(e);if(wC.has(e))return wC.get(e);var t=SC(e);return t!==e&&(wC.set(e,t),_C.set(t,e)),t}var TC=function(e){return _C.get(e)};var IC,RC=["get","getKey","getAll","getAllKeys","count"],PC=["put","add","delete","clear"],OC=new Map;function NC(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(OC.get(t))return OC.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=PC.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||RC.includes(n))){var a=function(){var e=P(I().mark((function e(t){var a,o,s,u,c,l,f=arguments;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=f.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=f[l];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return OC.set(t,a),a}}}!function(e){xC=e(xC)}((function(e){return ze(ze({},e),{},{get:function(t,n,r){return NC(t,n)||e.get(t,n,r)},has:function(t,n){return!!NC(t,n)||e.has(t,n)}})}));var AC="@firebase/installations",DC="0.6.1",FC=1e4,jC="w:".concat(DC),LC="FIS_v2",MC=36e5,UC=(O(IC={},"missing-app-config-values",'Missing App configuration value: "{$valueName}"'),O(IC,"not-registered","Firebase Installation is not registered."),O(IC,"installation-not-found","Firebase Installation not found."),O(IC,"request-failed",'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"'),O(IC,"app-offline","Could not process request. Application offline."),O(IC,"delete-pending-registration","Can't delete installation while there is a pending registration request."),IC),VC=new ae("installations","Installations",UC);function zC(e){return e instanceof ie&&e.code.includes("request-failed")}function BC(e){var t=e.projectId;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(t,"/installations")}function qC(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function HC(e,t){return WC.apply(this,arguments)}function WC(){return(WC=P(I().mark((function e(t,n){var r,i;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:return r=e.sent,i=r.error,e.abrupt("return",VC.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function GC(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function KC(e,t){var n=t.refreshToken,r=GC(e);return r.append("Authorization",function(e){return"".concat(LC," ").concat(e)}(n)),r}function $C(e){return QC.apply(this,arguments)}function QC(){return QC=P(I().mark((function e(t){var n;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:if(!((n=e.sent).status>=500&&n.status<600)){e.next=5;break}return e.abrupt("return",t());case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)}))),QC.apply(this,arguments)}function YC(e,t){return XC.apply(this,arguments)}function XC(){return(XC=P(I().mark((function e(t,n){var r,i,a,o,s,u,c,l,f,h,d,p;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.appConfig,i=t.heartbeatServiceProvider,a=n.fid,o=BC(r),s=GC(r),!(u=i.getImmediate({optional:!0}))){e.next=10;break}return e.next=8,u.getHeartbeatsHeader();case 8:(c=e.sent)&&s.append("x-firebase-client",c);case 10:return l={fid:a,authVersion:LC,appId:r.appId,sdkVersion:jC},f={method:"POST",headers:s,body:JSON.stringify(l)},e.next=14,$C((function(){return fetch(o,f)}));case 14:if(!(h=e.sent).ok){e.next=23;break}return e.next=18,h.json();case 18:return d=e.sent,p={fid:d.fid||a,registrationStatus:2,refreshToken:d.refreshToken,authToken:qC(d.authToken)},e.abrupt("return",p);case 23:return e.next=25,HC("Create Installation",h);case 25:throw e.sent;case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function JC(e){return new Promise((function(t){setTimeout(t,e)}))}var ZC=/^[cdef][\w-]{21}$/;function eS(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){var t=function(e){return btoa(String.fromCharCode.apply(String,C(e))).replace(/\+/g,"-").replace(/\//g,"_")}(e);return t.substr(0,22)}(e);return ZC.test(t)?t:""}catch(x_){return""}}function tS(e){return"".concat(e.appName,"!").concat(e.appId)}var nS=new Map;function rS(e,t){var n=tS(e);iS(n,t),function(e,t){var n=oS();n&&n.postMessage({key:e,fid:t});sS()}(n,t)}function iS(e,t){var n=nS.get(e);if(n){var r,i=T(n);try{for(i.s();!(r=i.n()).done;){(0,r.value)(t)}}catch(a){i.e(a)}finally{i.f()}}}var aS=null;function oS(){return!aS&&"BroadcastChannel"in self&&((aS=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){iS(e.data.key,e.data.fid)}),aS}function sS(){0===nS.size&&aS&&(aS.close(),aS=null)}var uS="firebase-installations-store",cS=null;function lS(){return cS||(cS=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=EC(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(EC(s.result),e.oldVersion,e.newVersion,EC(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),u}("firebase-installations-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(uS)}})),cS}function fS(e,t){return hS.apply(this,arguments)}function hS(){return hS=P(I().mark((function e(t,n){var r,i,a,o,s;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=tS(t),e.next=3,lS();case 3:return i=e.sent,a=i.transaction(uS,"readwrite"),o=a.objectStore(uS),e.next=8,o.get(r);case 8:return s=e.sent,e.next=11,o.put(n,r);case 11:return e.next=13,a.done;case 13:return s&&s.fid===n.fid||rS(t,n.fid),e.abrupt("return",n);case 15:case"end":return e.stop()}}),e)}))),hS.apply(this,arguments)}function dS(e){return pS.apply(this,arguments)}function pS(){return pS=P(I().mark((function e(t){var n,r,i;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=tS(t),e.next=3,lS();case 3:return r=e.sent,i=r.transaction(uS,"readwrite"),e.next=7,i.objectStore(uS).delete(n);case 7:return e.next=9,i.done;case 9:case"end":return e.stop()}}),e)}))),pS.apply(this,arguments)}function vS(e,t){return mS.apply(this,arguments)}function mS(){return mS=P(I().mark((function e(t,n){var r,i,a,o,s,u;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=tS(t),e.next=3,lS();case 3:return i=e.sent,a=i.transaction(uS,"readwrite"),o=a.objectStore(uS),e.next=8,o.get(r);case 8:if(s=e.sent,void 0!==(u=n(s))){e.next=15;break}return e.next=13,o.delete(r);case 13:e.next=17;break;case 15:return e.next=17,o.put(u,r);case 17:return e.next=19,a.done;case 19:return!u||s&&s.fid===u.fid||rS(t,u.fid),e.abrupt("return",u);case 21:case"end":return e.stop()}}),e)}))),mS.apply(this,arguments)}function yS(e){return gS.apply(this,arguments)}function gS(){return(gS=P(I().mark((function e(t){var n,r;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vS(t.appConfig,(function(e){var r=bS(e),i=kS(t,r);return n=i.registrationPromise,i.installationEntry}));case 2:if(""!==(r=e.sent).fid){e.next=8;break}return e.next=6,n;case 6:return e.t0=e.sent,e.abrupt("return",{installationEntry:e.t0});case 8:return e.abrupt("return",{installationEntry:r,registrationPromise:n});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bS(e){return SS(e||{fid:eS(),registrationStatus:0})}function kS(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(VC.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=function(e,t){return wS.apply(this,arguments)}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:_S(e)}:{installationEntry:t}}function wS(){return(wS=P(I().mark((function e(t,n){var r;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,YC(t,n);case 3:return r=e.sent,e.abrupt("return",fS(t.appConfig,r));case 7:if(e.prev=7,e.t0=e.catch(0),!zC(e.t0)||409!==e.t0.customData.serverCode){e.next=14;break}return e.next=12,dS(t.appConfig);case 12:e.next=16;break;case 14:return e.next=16,fS(t.appConfig,{fid:n.fid,registrationStatus:0});case 16:throw e.t0;case 17:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function _S(e){return xS.apply(this,arguments)}function xS(){return(xS=P(I().mark((function e(t){var n,r,i,a;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,CS(t.appConfig);case 2:n=e.sent;case 3:if(1!==n.registrationStatus){e.next=11;break}return e.next=6,JC(100);case 6:return e.next=8,CS(t.appConfig);case 8:n=e.sent,e.next=3;break;case 11:if(0!==n.registrationStatus){e.next=22;break}return e.next=14,yS(t);case 14:if(r=e.sent,i=r.installationEntry,!(a=r.registrationPromise)){e.next=21;break}return e.abrupt("return",a);case 21:return e.abrupt("return",i);case 22:return e.abrupt("return",n);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function CS(e){return vS(e,(function(e){if(!e)throw VC.create("installation-not-found");return SS(e)}))}function SS(e){return 1===(t=e).registrationStatus&&t.registrationTime+FC<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function ES(e,t){return TS.apply(this,arguments)}function TS(){return(TS=P(I().mark((function e(t,n){var r,i,a,o,s,u,c,l,f,h,d;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.appConfig,i=t.heartbeatServiceProvider,a=IS(r,n),o=KC(r,n),!(s=i.getImmediate({optional:!0}))){e.next=9;break}return e.next=7,s.getHeartbeatsHeader();case 7:(u=e.sent)&&o.append("x-firebase-client",u);case 9:return c={installation:{sdkVersion:jC,appId:r.appId}},l={method:"POST",headers:o,body:JSON.stringify(c)},e.next=13,$C((function(){return fetch(a,l)}));case 13:if(!(f=e.sent).ok){e.next=22;break}return e.next=17,f.json();case 17:return h=e.sent,d=qC(h),e.abrupt("return",d);case 22:return e.next=24,HC("Generate Auth Token",f);case 24:throw e.sent;case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function IS(e,t){var n=t.fid;return"".concat(BC(e),"/").concat(n,"/authTokens:generate")}function RS(e){return PS.apply(this,arguments)}function PS(){return PS=P(I().mark((function e(t){var n,r,i,a,o=arguments;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]&&o[1],e.next=3,vS(t.appConfig,(function(e){if(!jS(e))throw VC.create("not-registered");var i=e.authToken;if(!n&&LS(i))return e;if(1===i.requestStatus)return r=OS(t,n),e;if(!navigator.onLine)throw VC.create("app-offline");var a=MS(e);return r=DS(t,a),a}));case 3:if(i=e.sent,!r){e.next=10;break}return e.next=7,r;case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=i.authToken;case 11:return a=e.t0,e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),PS.apply(this,arguments)}function OS(e,t){return NS.apply(this,arguments)}function NS(){return(NS=P(I().mark((function e(t,n){var r,i;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,AS(t.appConfig);case 2:r=e.sent;case 3:if(1!==r.authToken.requestStatus){e.next=11;break}return e.next=6,JC(100);case 6:return e.next=8,AS(t.appConfig);case 8:r=e.sent,e.next=3;break;case 11:if(0!==(i=r.authToken).requestStatus){e.next=16;break}return e.abrupt("return",RS(t,n));case 16:return e.abrupt("return",i);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function AS(e){return vS(e,(function(e){if(!jS(e))throw VC.create("not-registered");var t,n=e.authToken;return 1===(t=n).requestStatus&&t.requestTime+FC<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e}))}function DS(e,t){return FS.apply(this,arguments)}function FS(){return(FS=P(I().mark((function e(t,n){var r,i,a;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ES(t,n);case 3:return r=e.sent,i=Object.assign(Object.assign({},n),{authToken:r}),e.next=7,fS(t.appConfig,i);case 7:return e.abrupt("return",r);case 10:if(e.prev=10,e.t0=e.catch(0),!zC(e.t0)||401!==e.t0.customData.serverCode&&404!==e.t0.customData.serverCode){e.next=17;break}return e.next=15,dS(t.appConfig);case 15:e.next=20;break;case 17:return a=Object.assign(Object.assign({},n),{authToken:{requestStatus:0}}),e.next=20,fS(t.appConfig,a);case 20:throw e.t0;case 21:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function jS(e){return void 0!==e&&2===e.registrationStatus}function LS(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+MC}(e)}function MS(e){var t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function US(){return(US=P(I().mark((function e(t){var n,r,i,a;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.next=3,yS(n);case 3:return r=e.sent,i=r.installationEntry,(a=r.registrationPromise)?a.catch(console.error):RS(n).catch(console.error),e.abrupt("return",i.fid);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function VS(){return VS=P(I().mark((function e(t){var n,r,i,a=arguments;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]&&a[1],r=t,e.next=4,zS(r);case 4:return e.next=6,RS(r,n);case 6:return i=e.sent,e.abrupt("return",i.token);case 8:case"end":return e.stop()}}),e)}))),VS.apply(this,arguments)}function zS(e){return BS.apply(this,arguments)}function BS(){return(BS=P(I().mark((function e(t){var n,r;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yS(t);case 2:if(n=e.sent,!(r=n.registrationPromise)){e.next=7;break}return e.next=7,r;case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qS(e){return VC.create("missing-app-config-values",{valueName:e})}var HS,WS="installations",GS=function(e){var t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw qS("App Configuration");if(!e.name)throw qS("App Name");for(var t=0,n=["projectId","apiKey","appId"];t<n.length;t++){var r=n[t];if(!e.options[r])throw qS(r)}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:yt(t,"heartbeat"),_delete:function(){return Promise.resolve()}}},KS=function(e){var t=yt(e.getProvider("app").getImmediate(),WS).getImmediate(),n={getId:function(){return function(e){return US.apply(this,arguments)}(t)},getToken:function(e){return function(e){return VS.apply(this,arguments)}(t,e)}};return n};mt(new Ie(WS,GS,"PUBLIC")),mt(new Ie("installations-internal",KS,"PRIVATE")),Ct(AC,DC),Ct(AC,DC,"esm2017");var $S="@firebase/remote-config",QS="0.4.1",YS="remote-config",XS=(O(HS={},"registration-window","Undefined window object. This SDK only supports usage in a browser environment."),O(HS,"registration-project-id","Undefined project identifier. Check Firebase app initialization."),O(HS,"registration-api-key","Undefined API key. Check Firebase app initialization."),O(HS,"registration-app-id","Undefined app identifier. Check Firebase app initialization."),O(HS,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),O(HS,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),O(HS,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),O(HS,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),O(HS,"fetch-client-network","Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}."),O(HS,"fetch-timeout",'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.'),O(HS,"fetch-throttle",'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.'),O(HS,"fetch-client-parse","Fetch client could not parse response. Original error: {$originalErrorMessage}."),O(HS,"fetch-status","Fetch server returned an HTTP error status. HTTP status: {$httpStatus}."),O(HS,"indexed-db-unavailable","Indexed DB is not supported by current browser"),HS),JS=new ae("remoteconfig","Remote Config",XS);var ZS=function(){function e(t,n,r,i){p(this,e),this.client=t,this.storage=n,this.storageCache=r,this.logger=i}return g(e,[{key:"isCachedDataFresh",value:function(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-t,r=n<=e;return this.logger.debug("Config fetch cache check."+" Cache age millis: ".concat(n,".")+" Cache max age millis (minimumFetchIntervalMillis setting): ".concat(e,".")+" Is cache hit: ".concat(r,".")),r}},{key:"fetch",value:function(){var e=P(I().mark((function e(t){var n,r,i,a,o,s;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()]);case 2:if(n=e.sent,r=d(n,2),i=r[0],!(a=r[1])||!this.isCachedDataFresh(t.cacheMaxAgeMillis,i)){e.next=8;break}return e.abrupt("return",a);case 8:return t.eTag=a&&a.eTag,e.next=11,this.client.fetch(t);case 11:return o=e.sent,s=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===o.status&&s.push(this.storage.setLastSuccessfulFetchResponse(o)),e.next=16,Promise.all(s);case 16:return e.abrupt("return",o);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function eE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:navigator;return e.languages&&e.languages[0]||e.language}var tE=function(){function e(t,n,r,i,a,o){p(this,e),this.firebaseInstallations=t,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=a,this.appId=o}return g(e,[{key:"fetch",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e=P(I().mark((function e(t){var n,r,i,a,o,s,u,c,l,f,h,p,v,m,y,g,b,k;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()]);case 2:return n=e.sent,r=d(n,2),i=r[0],a=r[1],o=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",s="".concat(o,"/v1/projects/").concat(this.projectId,"/namespaces/").concat(this.namespace,":fetch?key=").concat(this.apiKey),u={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},c={sdk_version:this.sdkVersion,app_instance_id:i,app_instance_id_token:a,app_id:this.appId,language_code:eE()},l={method:"POST",headers:u,body:JSON.stringify(c)},f=fetch(s,l),h=new Promise((function(e,n){t.signal.addEventListener((function(){var e=new Error("The operation was aborted.");e.name="AbortError",n(e)}))})),e.prev=13,e.next=16,Promise.race([f,h]);case 16:return e.next=18,f;case 18:p=e.sent,e.next=26;break;case 21:throw e.prev=21,e.t0=e.catch(13),v="fetch-client-network","AbortError"===(null===e.t0||void 0===e.t0?void 0:e.t0.name)&&(v="fetch-timeout"),JS.create(v,{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message});case 26:if(m=p.status,y=p.headers.get("ETag")||void 0,200!==p.status){e.next=40;break}return e.prev=29,e.next=32,p.json();case 32:k=e.sent,e.next=38;break;case 35:throw e.prev=35,e.t1=e.catch(29),JS.create("fetch-client-parse",{originalErrorMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 38:g=k.entries,b=k.state;case 40:if("INSTANCE_STATE_UNSPECIFIED"===b?m=500:"NO_CHANGE"===b?m=304:"NO_TEMPLATE"!==b&&"EMPTY_CONFIG"!==b||(g={}),304===m||200===m){e.next=43;break}throw JS.create("fetch-status",{httpStatus:m});case 43:return e.abrupt("return",{status:m,eTag:y,config:g});case 44:case"end":return e.stop()}}),e,this,[[13,21],[29,35]])})));return function(t){return e.apply(this,arguments)}}())}]),e}();function nE(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),a=setTimeout(n,i);e.addEventListener((function(){clearTimeout(a),r(JS.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}function rE(e){if(!(e instanceof ie)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}var iE=function(){function e(t,n){p(this,e),this.client=t,this.storage=n}return g(e,[{key:"fetch",value:function(){var e=P(I().mark((function e(t){var n;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storage.getThrottleMetadata();case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0={backoffCount:0,throttleEndTimeMillis:Date.now()};case 5:return n=e.t0,e.abrupt("return",this.attemptFetch(t,n));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"attemptFetch",value:function(){var e=P(I().mark((function e(t,n){var r,i,a,o;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.throttleEndTimeMillis,i=n.backoffCount,e.next=3,nE(t.signal,r);case 3:return e.prev=3,e.next=6,this.client.fetch(t);case 6:return a=e.sent,e.next=9,this.storage.deleteThrottleMetadata();case 9:return e.abrupt("return",a);case 12:if(e.prev=12,e.t0=e.catch(3),rE(e.t0)){e.next=16;break}throw e.t0;case 16:return o={throttleEndTimeMillis:Date.now()+Ee(i),backoffCount:i+1},e.next=19,this.storage.setThrottleMetadata(o);case 19:return e.abrupt("return",this.attemptFetch(t,o));case 20:case"end":return e.stop()}}),e,this,[[3,12]])})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),aE=function(){function e(t,n,r,i,a){p(this,e),this.app=t,this._client=n,this._storageCache=r,this._storage=i,this._logger=a,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return g(e,[{key:"fetchTimeMillis",get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}},{key:"lastFetchStatus",get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}]),e}();function oE(e,t){var n=e.target.error||void 0;return JS.create(t,{originalErrorMessage:n&&(null===n||void 0===n?void 0:n.message)})}var sE="app_namespace_store";function uE(){return new Promise((function(e,t){try{var n=indexedDB.open("firebase_remote_config",1);n.onerror=function(e){t(oE(e,"storage-open"))},n.onsuccess=function(t){e(t.target.result)},n.onupgradeneeded=function(e){var t=e.target.result;if(0===e.oldVersion)t.createObjectStore(sE,{keyPath:"compositeKey"})}}catch(so){t(JS.create("storage-open",{originalErrorMessage:null===so||void 0===so?void 0:so.message}))}}))}var cE=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:uE();p(this,e),this.appId=t,this.appName=n,this.namespace=r,this.openDbPromise=i}return g(e,[{key:"getLastFetchStatus",value:function(){return this.get("last_fetch_status")}},{key:"setLastFetchStatus",value:function(e){return this.set("last_fetch_status",e)}},{key:"getLastSuccessfulFetchTimestampMillis",value:function(){return this.get("last_successful_fetch_timestamp_millis")}},{key:"setLastSuccessfulFetchTimestampMillis",value:function(e){return this.set("last_successful_fetch_timestamp_millis",e)}},{key:"getLastSuccessfulFetchResponse",value:function(){return this.get("last_successful_fetch_response")}},{key:"setLastSuccessfulFetchResponse",value:function(e){return this.set("last_successful_fetch_response",e)}},{key:"getActiveConfig",value:function(){return this.get("active_config")}},{key:"setActiveConfig",value:function(e){return this.set("active_config",e)}},{key:"getActiveConfigEtag",value:function(){return this.get("active_config_etag")}},{key:"setActiveConfigEtag",value:function(e){return this.set("active_config_etag",e)}},{key:"getThrottleMetadata",value:function(){return this.get("throttle_metadata")}},{key:"setThrottleMetadata",value:function(e){return this.set("throttle_metadata",e)}},{key:"deleteThrottleMetadata",value:function(){return this.delete("throttle_metadata")}},{key:"get",value:function(){var e=P(I().mark((function e(t){var n,r=this;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.openDbPromise;case 2:return n=e.sent,e.abrupt("return",new Promise((function(e,i){var a=n.transaction([sE],"readonly").objectStore(sE),o=r.createCompositeKey(t);try{var s=a.get(o);s.onerror=function(e){i(oE(e,"storage-get"))},s.onsuccess=function(t){var n=t.target.result;e(n?n.value:void 0)}}catch(zT){i(JS.create("storage-get",{originalErrorMessage:null===zT||void 0===zT?void 0:zT.message}))}})));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(){var e=P(I().mark((function e(t,n){var r,i=this;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.openDbPromise;case 2:return r=e.sent,e.abrupt("return",new Promise((function(e,a){var o=r.transaction([sE],"readwrite").objectStore(sE),s=i.createCompositeKey(t);try{var u=o.put({compositeKey:s,value:n});u.onerror=function(e){a(oE(e,"storage-set"))},u.onsuccess=function(){e()}}catch(zT){a(JS.create("storage-set",{originalErrorMessage:null===zT||void 0===zT?void 0:zT.message}))}})));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=P(I().mark((function e(t){var n,r=this;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.openDbPromise;case 2:return n=e.sent,e.abrupt("return",new Promise((function(e,i){var a=n.transaction([sE],"readwrite").objectStore(sE),o=r.createCompositeKey(t);try{var s=a.delete(o);s.onerror=function(e){i(oE(e,"storage-delete"))},s.onsuccess=function(){e()}}catch(zT){i(JS.create("storage-delete",{originalErrorMessage:null===zT||void 0===zT?void 0:zT.message}))}})));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createCompositeKey",value:function(e){return[this.appId,this.appName,this.namespace,e].join()}}]),e}(),lE=function(){function e(t){p(this,e),this.storage=t}return g(e,[{key:"getLastFetchStatus",value:function(){return this.lastFetchStatus}},{key:"getLastSuccessfulFetchTimestampMillis",value:function(){return this.lastSuccessfulFetchTimestampMillis}},{key:"getActiveConfig",value:function(){return this.activeConfig}},{key:"loadFromStorage",value:function(){var e=P(I().mark((function e(){var t,n,r,i,a,o;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.storage.getLastFetchStatus(),n=this.storage.getLastSuccessfulFetchTimestampMillis(),r=this.storage.getActiveConfig(),e.next=5,t;case 5:return(i=e.sent)&&(this.lastFetchStatus=i),e.next=9,n;case 9:return(a=e.sent)&&(this.lastSuccessfulFetchTimestampMillis=a),e.next=13,r;case 13:(o=e.sent)&&(this.activeConfig=o);case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setLastFetchStatus",value:function(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}},{key:"setLastSuccessfulFetchTimestampMillis",value:function(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}},{key:"setActiveConfig",value:function(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}]),e}();mt(new Ie(YS,(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if("undefined"===typeof window)throw JS.create("registration-window");if(!ne())throw JS.create("indexed-db-unavailable");var a=r.options,o=a.projectId,s=a.apiKey,u=a.appId;if(!o)throw JS.create("registration-project-id");if(!s)throw JS.create("registration-api-key");if(!u)throw JS.create("registration-app-id");n=n||"firebase";var c=new cE(u,r.name,n),l=new lE(c),f=new Ue($S);f.logLevel=Ne.ERROR;var h=new tE(i,wt,n,o,s,u),d=new iE(h,c),p=new ZS(d,c,l,f),v=new aE(r,p,l,c,f);return function(e){var t=Te(e);t._initializePromise||(t._initializePromise=t._storageCache.loadFromStorage().then((function(){t._isInitializationComplete=!0}))),t._initializePromise}(v),v}),"PUBLIC").setMultipleInstances(!0)),Ct($S,QS),Ct($S,QS,"esm2017");var fE=function(e,t){return(fE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function hE(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}fE(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function dE(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(t){a(t)}}function s(e){try{u(r.throw(e))}catch(t){a(t)}}function u(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(o,s)}u((r=r.apply(e,t||[])).next())}))}function pE(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(s){a=[6,s],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function vE(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function mE(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(cp){i={error:cp}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o}function yE(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)(r||!(i in t))&&(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function gE(e){return this instanceof gE?(this.v=e,this):new gE(e)}function bE(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),a=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){a.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{!function(e){e.value instanceof gE?Promise.resolve(e.value.v).then(u,c):l(a[0][2],e)}(i[e](t))}catch(Wd){l(a[0][3],Wd)}}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),a.shift(),a.length&&s(a[0][0],a[0][1])}}function kE(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=vE(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}function wE(e){return"function"==typeof e}function _E(e){var t=e((function(e){Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var xE=_E((function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}}));function CE(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var SE=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var e,t,n,r,i;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var o=vE(a),s=o.next();!s.done;s=o.next()){s.value.remove(this)}}catch(d){e={error:d}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}else a.remove(this);var u=this.initialTeardown;if(wE(u))try{u()}catch(d){i=d instanceof xE?d.errors:[d]}var c=this._finalizers;if(c){this._finalizers=null;try{for(var l=vE(c),f=l.next();!f.done;f=l.next()){var h=f.value;try{IE(h)}catch(d){i=null!=i?i:[],d instanceof xE?i=yE(yE([],mE(i)),mE(d.errors)):i.push(d)}}}catch(d){n={error:d}}finally{try{f&&!f.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}if(i)throw new xE(i)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)IE(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&CE(t,e)},e.prototype.remove=function(t){var n=this._finalizers;n&&CE(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),EE=SE.EMPTY;function TE(e){return e instanceof SE||e&&"closed"in e&&wE(e.remove)&&wE(e.add)&&wE(e.unsubscribe)}function IE(e){wE(e)?e():e.unsubscribe()}var RE=void 0,PE=!1,OE=!1,NE={setTimeout:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=NE.delegate;return null!=i&&i.setTimeout?i.setTimeout.apply(i,yE([e,t],mE(n))):setTimeout.apply(void 0,yE([e,t],mE(n)))})),clearTimeout:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){var t=NE.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)})),delegate:void 0};function AE(e){NE.setTimeout((function(){throw e}))}function DE(){}var FE=null;function jE(e){if(PE){var t=!FE;if(t&&(FE={errorThrown:!1,error:null}),e(),t){var n=FE,r=n.errorThrown,i=n.error;if(FE=null,r)throw i}}else e()}var LE=function(e){function t(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,TE(t)&&t.add(n)):n.destination=qE,n}return hE(t,e),t.create=function(e,t,n){return new zE(e,t,n)},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(SE),ME=Function.prototype.bind;function UE(e,t){return ME.call(e,t)}var VE=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(n){BE(n)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(n){BE(n)}else BE(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(t){BE(t)}},e}(),zE=function(e){function t(t,n,r){var i,a,o=e.call(this)||this;wE(t)||!t?i={next:null!=t?t:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0}:o&&OE?((a=Object.create(t)).unsubscribe=function(){return o.unsubscribe()},i={next:t.next&&UE(t.next,a),error:t.error&&UE(t.error,a),complete:t.complete&&UE(t.complete,a)}):i=t;return o.destination=new VE(i),o}return hE(t,e),t}(LE);function BE(e){AE(e)}var qE={closed:!0,next:DE,error:function(e){throw e},complete:DE},HE="function"==typeof Symbol&&Symbol.observable||"@@observable";function WE(e){return e}function GE(e){return 0===e.length?WE:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}var KE=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this,i=function(e){return e&&e instanceof LE||function(e){return e&&wE(e.next)&&wE(e.error)&&wE(e.complete)}(e)&&TE(e)}(e)?e:new zE(e,t,n);return jE((function(){var e=r,t=e.operator,n=e.source;i.add(t?t.call(i,n):n?r._subscribe(i):r._trySubscribe(i))})),i},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=$E(t))((function(t,r){var i=new zE({next:function(t){try{e(t)}catch(n){r(n),i.unsubscribe()}},error:r,complete:t});n.subscribe(i)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[HE]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return GE(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=$E(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function $E(e){var t;return null!==(t=null!=e?e:RE)&&void 0!==t?t:Promise}function QE(e){return function(t){if(function(e){return wE(null==e?void 0:e.lift)}(t))return t.lift((function(t){try{return e(t,this)}catch(n){this.error(n)}}));throw new TypeError("Unable to lift unknown Observable type")}}function YE(e,t,n,r,i){return new XE(e,t,n,r,i)}var XE=function(e){function t(t,n,r,i,a,o){var s=e.call(this,t)||this;return s.onFinalize=a,s.shouldUnsubscribe=o,s._next=n?function(e){try{n(e)}catch(_f){t.error(_f)}}:e.prototype._next,s._error=i?function(e){try{i(e)}catch(_f){t.error(_f)}finally{this.unsubscribe()}}:e.prototype._error,s._complete=r?function(){try{r()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,s}return hE(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(LE),JE=_E((function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),ZE=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return hE(t,e),t.prototype.lift=function(e){var t=new eT(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new JE},t.prototype.next=function(e){var t=this;jE((function(){var n,r;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var i=vE(t.currentObservers),a=i.next();!a.done;a=i.next()){a.value.next(e)}}catch(o){n={error:o}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}}))},t.prototype.error=function(e){var t=this;jE((function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var n=t.observers;n.length;)n.shift().error(e)}}))},t.prototype.complete=function(){var e=this;jE((function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}}))},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,n=this,r=n.hasError,i=n.isStopped,a=n.observers;return r||i?EE:(this.currentObservers=null,a.push(e),new SE((function(){t.currentObservers=null,CE(a,e)})))},t.prototype._checkFinalizedStatuses=function(e){var t=this,n=t.hasError,r=t.thrownError,i=t.isStopped;n?e.error(r):i&&e.complete()},t.prototype.asObservable=function(){var e=new KE;return e.source=this,e},t.create=function(e,t){return new eT(e,t)},t}(KE),eT=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return hE(t,e),t.prototype.next=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===n||n.call(t,e)},t.prototype.error=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===n||n.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,n;return null!==(n=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==n?n:EE},t}(ZE),tT={now:function(){return(tT.delegate||Date).now()},delegate:void 0},nT=function(e){function t(t,n,r){void 0===t&&(t=1/0),void 0===n&&(n=1/0),void 0===r&&(r=tT);var i=e.call(this)||this;return i._bufferSize=t,i._windowTime=n,i._timestampProvider=r,i._buffer=[],i._infiniteTimeWindow=!0,i._infiniteTimeWindow=n===1/0,i._bufferSize=Math.max(1,t),i._windowTime=Math.max(1,n),i}return hE(t,e),t.prototype.next=function(t){var n=this,r=n.isStopped,i=n._buffer,a=n._infiniteTimeWindow,o=n._timestampProvider,s=n._windowTime;r||(i.push(t),!a&&i.push(o.now()+s)),this._trimBuffer(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){this._throwIfClosed(),this._trimBuffer();for(var t=this._innerSubscribe(e),n=this._infiniteTimeWindow,r=this._buffer.slice(),i=0;i<r.length&&!e.closed;i+=n?1:2)e.next(r[i]);return this._checkFinalizedStatuses(e),t},t.prototype._trimBuffer=function(){var e=this,t=e._bufferSize,n=e._timestampProvider,r=e._buffer,i=e._infiniteTimeWindow,a=(i?1:2)*t;if(t<1/0&&a<r.length&&r.splice(0,r.length-a),!i){for(var o=n.now(),s=0,u=1;u<r.length&&r[u]<=o;u+=2)s=u;s&&r.splice(0,s+1)}},t}(ZE),rT=function(e){function t(t,n){return e.call(this)||this}return hE(t,e),t.prototype.schedule=function(e,t){return this},t}(SE),iT={setInterval:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=iT.delegate;return null!=i&&i.setInterval?i.setInterval.apply(i,yE([e,t],mE(n))):setInterval.apply(void 0,yE([e,t],mE(n)))})),clearInterval:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){var t=iT.delegate;return((null==t?void 0:t.clearInterval)||clearInterval)(e)})),delegate:void 0},aT=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return hE(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),iT.setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!=n&&this.delay===n&&!1===this.pending)return t;iT.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n,r=!1;try{this.work(e)}catch(i){r=!0,n=i||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),n},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,n=this.scheduler,r=n.actions;this.work=this.state=this.scheduler=null,this.pending=!1,CE(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(rT),oT=function(){function e(t,n){void 0===n&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(n,t)},e.now=tT.now,e}(),sT=function(e){function t(t,n){void 0===n&&(n=oT.now);var r=e.call(this,t,n)||this;return r.actions=[],r._active=!1,r._scheduled=void 0,r}return hE(t,e),t.prototype.flush=function(e){var t=this.actions;if(this._active)t.push(e);else{var n;this._active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(oT),uT=(new sT(aT),new KE((function(e){return e.complete()})));function cT(e){return e?function(e){return new KE((function(t){return e.schedule((function(){return t.complete()}))}))}(e):uT}var lT=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function fT(e){return wE(null==e?void 0:e.then)}function hT(e){return wE(e[HE])}function dT(e){return Symbol.asyncIterator&&wE(null==e?void 0:e[Symbol.asyncIterator])}function pT(e){return new TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var vT="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function mT(e){return wE(null==e?void 0:e[vT])}function yT(e){return bE(this,arguments,(function(){var t,n,r;return pE(this,(function(i){switch(i.label){case 0:t=e.getReader(),i.label=1;case 1:i.trys.push([1,,9,10]),i.label=2;case 2:return[4,gE(t.read())];case 3:return n=i.sent(),r=n.value,n.done?[4,gE(void 0)]:[3,5];case 4:return[2,i.sent()];case 5:return[4,gE(r)];case 6:return[4,i.sent()];case 7:return i.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}function gT(e){return wE(null==e?void 0:e.getReader)}function bT(e){if(e instanceof KE)return e;if(null!=e){if(hT(e))return function(e){return new KE((function(t){var n=e[HE]();if(wE(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")}))}(e);if(lT(e))return function(e){return new KE((function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()}))}(e);if(fT(e))return function(e){return new KE((function(t){e.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,AE)}))}(e);if(dT(e))return kT(e);if(mT(e))return function(e){return new KE((function(t){var n,r;try{for(var i=vE(e),a=i.next();!a.done;a=i.next()){var o=a.value;if(t.next(o),t.closed)return}}catch(cp){n={error:cp}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}t.complete()}))}(e);if(gT(e))return function(e){return kT(yT(e))}(e)}throw pT(e)}function kT(e){return new KE((function(t){(function(e,t){var n,r,i,a;return dE(this,void 0,void 0,(function(){var o,s;return pE(this,(function(u){switch(u.label){case 0:u.trys.push([0,5,6,11]),n=kE(e),u.label=1;case 1:return[4,n.next()];case 2:if((r=u.sent()).done)return[3,4];if(o=r.value,t.next(o),t.closed)return[2];u.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=u.sent(),i={error:s},[3,11];case 6:return u.trys.push([6,,9,10]),r&&!r.done&&(a=n.return)?[4,a.call(n)]:[3,8];case 7:u.sent(),u.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))}))})(e,t).catch((function(e){return t.error(e)}))}))}var wT=_E((function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}}));function _T(e,t){return QE((function(n,r){var i=0;n.subscribe(YE(r,(function(n){r.next(e.call(t,n,i++))})))}))}function xT(e,t){return QE((function(n,r){var i=0;n.subscribe(YE(r,(function(n){return e.call(t,n,i++)&&r.next(n)})))}))}function CT(e){return QE((function(t,n){var r,i=null,a=!1;i=t.subscribe(YE(n,void 0,void 0,(function(o){r=bT(e(o,CT(e)(t))),i?(i.unsubscribe(),i=null,r.subscribe(n)):a=!0}))),a&&(i.unsubscribe(),i=null,r.subscribe(n))}))}function ST(e){return QE((function(t,n){var r=!1;t.subscribe(YE(n,(function(e){r=!0,n.next(e)}),(function(){r||n.next(e),n.complete()})))}))}function ET(e){return e<=0?function(){return uT}:QE((function(t,n){var r=0;t.subscribe(YE(n,(function(t){++r<=e&&(n.next(t),e<=r&&n.complete())})))}))}function TT(e){return void 0===e&&(e=IT),QE((function(t,n){var r=!1;t.subscribe(YE(n,(function(e){r=!0,n.next(e)}),(function(){return r?n.complete():n.error(e())})))}))}function IT(){return new wT}function RT(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?xT((function(t,n){return e(t,n,r)})):WE,ET(1),n?ST(t):TT((function(){return new wT})))}}function PT(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!0!==t){if(!1!==t){var i=new zE({next:function(){i.unsubscribe(),e()}});return t.apply(void 0,yE([],mE(n))).subscribe(i)}}else e()}function OT(e,t,n){var r,i,a,o,s=!1;return e&&"object"==typeof e?(r=e.bufferSize,o=void 0===r?1/0:r,i=e.windowTime,t=void 0===i?1/0:i,s=void 0!==(a=e.refCount)&&a,n=e.scheduler):o=null!=e?e:1/0,function(e){void 0===e&&(e={});var t=e.connector,n=void 0===t?function(){return new ZE}:t,r=e.resetOnError,i=void 0===r||r,a=e.resetOnComplete,o=void 0===a||a,s=e.resetOnRefCountZero,u=void 0===s||s;return function(e){var t,r,a,s=0,c=!1,l=!1,f=function(){null==r||r.unsubscribe(),r=void 0},h=function(){f(),t=a=void 0,c=l=!1},d=function(){var e=t;h(),null==e||e.unsubscribe()};return QE((function(e,p){s++,!l&&!c&&f();var v=a=null!=a?a:n();p.add((function(){0===--s&&!l&&!c&&(r=PT(d,u))})),v.subscribe(p),!t&&s>0&&(t=new zE({next:function(e){return v.next(e)},error:function(e){l=!0,f(),r=PT(h,i,e),v.error(e)},complete:function(){c=!0,f(),r=PT(h,o),v.complete()}}),bT(e).subscribe(t))}))(e)}}({connector:function(){return new nT(o,t,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}function NT(e){return new KE((function(t){return{unsubscribe:ti(e,t.next.bind(t),t.error.bind(t),t.complete.bind(t))}}))}var AT=e.createContext(void 0),DT=e.createContext(!1);function FT(t){var n=t.firebaseConfig,r=t.appName,i=t.suspense,a=e.useMemo((function(){if(t.firebaseApp)return t.firebaseApp;var i=Array.from(dt.values()).find((function(e){return e.name===(r||"[DEFAULT]")}));if(i){if(n&&function(e,t){return e===t||[].concat(C(Object.keys(e)),C(Object.keys(t))).every((function(n){return e[n]===t[n]}))}(i.options,n))return i;throw new Error("Does not match the options already provided to the ".concat(r||"default"," firebase app instance, give this new instance a different appName."))}if(!n)throw new Error("No firebaseConfig provided");return Ct("react",e.version||"unknown"),Ct("reactfire","4.2.2"),_t(n,r)}),[t.firebaseApp,n,r]);return e.createElement(AT.Provider,{value:a},e.createElement(DT.Provider,Object.assign({value:null!=i&&i},t)))}function jT(t){var n=e.useContext(DT);return void 0!==t?t:n}function LT(){var t=e.useContext(AT);if(!t)throw new Error("Cannot call useFirebaseApp unless your component is within a FirebaseAppProvider");return t}function MT(e){var t,n=yI(),r="auth:user:".concat(n.name),i=NT(n),a=null!==(t=Object.assign({},e))&&void 0!==t?t:{};return void 0!==n.currentUser&&(a.initialData=n.currentUser,a.startWithValue=n.currentUser),ZT(r,i,a)}var UT,VT,zT;(zT=VT||(VT={})).added="child_added",zT.removed="child_removed",zT.changed="child_changed",zT.moved="child_moved",zT.value="value";Object.freeze(((UT={})[VT.added]=function(e,t,n,r){return hf(e,"child_added",t,n,r)},UT[VT.removed]=function(e,t,n,r){return hf(e,"child_removed",t,n,r)},UT[VT.changed]=function(e,t,n,r){return hf(e,"child_changed",t,n,r)},UT[VT.moved]=function(e,t,n,r){return hf(e,"child_moved",t,n,r)},UT[VT.value]=df,UT));var BT=globalThis._reactFireDatabaseCachedQueries||[];globalThis._reactFireDatabaseCachedQueries||(globalThis._reactFireDatabaseCachedQueries=BT);var qT={includeMetadataChanges:!1};function HT(e,t){return void 0===t&&(t=qT),new KE((function(n){var r=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Te(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||K_(n[u])||(s=n[u],u++);var c,l,f,h={includeMetadataChanges:s.includeMetadataChanges};if(K_(n[u])){var d=n[u];n[u]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[u+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[u+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof T_)l=__(e.firestore,$_),f=Ry(e._key.path),c={next:function(t){n[u]&&n[u](Ax(l,e,t))},error:n[u+1],complete:n[u+2]};else{var p=__(e,I_);l=__(p.firestore,$_),f=p._query;var v=new Rx(l);c={next:function(e){n[u]&&n[u](new Tx(l,v,p,e))},error:n[u+1],complete:n[u+2]},wx(e._query)}return function(e,t,n,r){var i=new A_(r),a=new Nw(t,i,n);return e.asyncQueue.enqueueAndForget(P(I().mark((function t(){return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Sw,t.next=3,H_(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.bc(),e.asyncQueue.enqueueAndForget(P(I().mark((function t(){return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Tw,t.next=3,H_(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(Y_(l),f,h,c)}(e,t,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}}))}function WT(e){return HT(e,{includeMetadataChanges:!0})}function GT(e,t){return void 0===t&&(t={}),WT(e).pipe(_T((function(e){return KT(e,t)})))}function KT(e,t){void 0===t&&(t={});var n=e.data();return!e.exists()||"object"!=typeof n||null===n||t.idField&&(n[t.idField]=e.id),n}function $T(e,t){return void 0===t&&(t={}),function(e){return HT(e,{includeMetadataChanges:!0}).pipe(_T((function(e){return e.docs})))}(e).pipe(_T((function(e){return e.map((function(e){return KT(e,t)}))})))}var QT=function(e){k(n,e);var t=_(n);function n(e,r){var i;return p(this,n),(i=t.call(this))._timeoutWindow=r,i._hasValue=!1,i._error=void 0,i._firstEmission=new Promise((function(e){return i._resolveFirstEmission=e})),i._innerObservable=e.pipe(function(e,t,n){var r=wE(e)||t||n?{next:e,error:t,complete:n}:e;return r?QE((function(e,t){var n;null===(n=r.subscribe)||void 0===n||n.call(r);var i=!0;e.subscribe(YE(t,(function(e){var n;null===(n=r.next)||void 0===n||n.call(r,e),t.next(e)}),(function(){var e;i=!1,null===(e=r.complete)||void 0===e||e.call(r),t.complete()}),(function(e){var n;i=!1,null===(n=r.error)||void 0===n||n.call(r,e),t.error(e)}),(function(){var e,t;i&&(null===(e=r.unsubscribe)||void 0===e||e.call(r)),null===(t=r.finalize)||void 0===t||t.call(r)})))})):WE}({next:function(e){i._next(e)},error:function(e){i._error=e,i._resolveFirstEmission()}}),CT((function(){return cT()})),OT(1)),i._warmupSubscription=i._innerObservable.subscribe(),i._timeoutHandler=setTimeout(i._reset.bind(b(i)),i._timeoutWindow),i}return g(n,[{key:"hasValue",get:function(){return this._hasValue||!!this._error}},{key:"value",get:function(){if(this._error)throw this._error;if(!this.hasValue)throw Error("Can only get value if SuspenseSubject has a value");return this._value}},{key:"firstEmission",get:function(){return this._firstEmission}},{key:"_next",value:function(e){this._hasValue=!0,this._value=e,this._resolveFirstEmission()}},{key:"_reset",value:function(){var e=this;this._warmupSubscription&&this._warmupSubscription.unsubscribe(),this._hasValue=!1,this._value=void 0,this._error=void 0,this._firstEmission=new Promise((function(t){return e._resolveFirstEmission=t}))}},{key:"_subscribe",value:function(e){return this._timeoutHandler&&clearTimeout(this._timeoutHandler),this._innerSubscriber=this._innerObservable.subscribe(e),this._innerSubscriber}},{key:"ourError",get:function(){return this._error}}]),n}(ZE),YT=globalThis._reactFirePreloadedObservables||new Map;function XT(e,t){if(YT.has(t))return YT.get(t);var n=new QT(e,3e4);return YT.set(t,n),n}function JT(e){return function(t,n){var r=Object.assign(Object.assign({},t),{hasEmitted:t.hasEmitted||e.hasValue,error:e.ourError,firstValuePromise:e.firstEmission});switch(e.hasValue&&(r.data=e.value),n){case"value":return r.status="success",r;case"error":return r.status="error",r;case"complete":return r.isComplete=!0,r;default:throw new Error('invalid action "'.concat(n,'"'))}}}function ZT(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t)throw new Error("cannot call useObservable without an observableId");var a=XT(n,t),o=i.hasOwnProperty("initialData")||i.hasOwnProperty("startWithValue"),s=a.hasValue||o;if(!0===jT(i.suspense)&&!s)throw a.firstEmission;var u={status:s?"success":"loading",hasEmitted:s,isComplete:!1,data:a.hasValue?a.value:null!==(r=null==i?void 0:i.initialData)&&void 0!==r?r:null==i?void 0:i.startWithValue,error:a.ourError,firstValuePromise:a.firstEmission},c=e.useReducer(JT(a),u),l=d(c,2),f=l[0],h=l[1];return e.useEffect((function(){var e=a.subscribe({next:function(){h("value")},error:function(e){throw h("error"),e},complete:function(){h("complete")}});return function(){return e.unsubscribe()}}),[a]),f}globalThis._reactFirePreloadedObservables||(globalThis._reactFirePreloadedObservables=YT);var eI=globalThis._reactFireFirestoreQueryCache||[];function tI(e){var t=eI.findIndex((function(t){return N_(t,e)}));return t>-1?t:eI.push(e)-1}function nI(e,t){var n=t?bI(t):"NO_ID_FIELD";return ZT("firestore:docDataOnce:".concat(e.firestore.app.name,":").concat(e.path,":idField=").concat(n),GT(e,{idField:n}).pipe(RT()),t)}function rI(e,t){var n=t?bI(t):"NO_ID_FIELD";return ZT("firestore:collectionData:".concat(tI(e),":idField=").concat(n),$T(e,{idField:n}),t)}globalThis._reactFireFirestoreQueryCache||(globalThis._reactFireFirestoreQueryCache=eI);var iI=e.createContext(void 0),aI=e.createContext(void 0),oI=e.createContext(void 0),sI=e.createContext(void 0),uI=e.createContext(void 0),cI=e.createContext(void 0),lI=e.createContext(void 0),fI=e.createContext(void 0),hI=e.createContext(void 0);function dI(t){return function(n){var r,i;if(!n.sdk)throw new Error("no sdk provided");var a=LT().name;if((null===(i=null===(r=null==n?void 0:n.sdk)||void 0===r?void 0:r.app)||void 0===i?void 0:i.name)!==a)throw new Error("sdk was initialized with a different firebase app");return e.createElement(t.Provider,Object.assign({value:n.sdk},n))}}function pI(t){var n=e.useContext(t);if(!n)throw new Error("SDK not found. useSdk must be called from within a provider");return n}dI(iI);var vI,mI=dI(aI),yI=(dI(oI),dI(sI),dI(uI),dI(cI),dI(fI),dI(lI),dI(hI),function(){return pI(aI)});Error;function gI(e,t){if("idField"===t||"initialData"===t||"suspense"===t)return e?e[t]:void 0;throw new Error('Field "'.concat(t,'" is not a valid key in ReactFireOptions'))}function bI(e){return gI(e,"idField")}function kI(){return kI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kI.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(vI||(vI={}));var wI,_I="popstate";function xI(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function CI(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(zT){}}}function SI(e){return{usr:e.state,key:e.key}}function EI(e,t,n,r){return void 0===n&&(n=null),kI({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?II(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function TI(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function II(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function RI(e){var t="undefined"!==typeof window&&"undefined"!==typeof window.location&&"null"!==window.location.origin?window.location.origin:window.location.href,n="string"===typeof e?e:TI(e);return xI(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}function PI(e,t,n,r){void 0===r&&(r={});var i=r,a=i.window,o=void 0===a?document.defaultView:a,s=i.v5Compat,u=void 0!==s&&s,c=o.history,l=vI.Pop,f=null;function h(){l=vI.Pop,f&&f({action:l,location:d.location})}var d={get action(){return l},get location(){return e(o,c)},listen:function(e){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(_I,h),f=e,function(){o.removeEventListener(_I,h),f=null}},createHref:function(e){return t(o,e)},encodeLocation:function(e){var t=RI("string"===typeof e?e:TI(e));return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=vI.Push;var r=EI(d.location,e,t);n&&n(r,e);var i=SI(r),a=d.createHref(r);try{c.pushState(i,"",a)}catch(so){o.location.assign(a)}u&&f&&f({action:l,location:d.location})},replace:function(e,t){l=vI.Replace;var r=EI(d.location,e,t);n&&n(r,e);var i=SI(r),a=d.createHref(r);c.replaceState(i,"",a),u&&f&&f({action:l,location:d.location})},go:function(e){return c.go(e)}};return d}function OI(e,t,n){void 0===n&&(n="/");var r=VI(("string"===typeof t?II(t):t).pathname||"/",n);if(null==r)return null;var i=NI(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=LI(i[o],UI(r));return a}function NI(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(xI(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var s=WI([r,o.relativePath]),u=n.concat(o);e.children&&e.children.length>0&&(xI(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),NI(e.children,t,u,s)),(null!=e.path||e.index)&&t.push({path:s,score:jI(s,e.index),routesMeta:u})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=T(AI(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(s){a.e(s)}finally{a.f()}}else i(e,t)})),t}function AI(e){var t=e.split("/");if(0===t.length)return[];var n,r=c(n=t)||x(n)||f(n)||h(),i=r[0],a=r.slice(1),o=i.endsWith("?"),s=i.replace(/\?$/,"");if(0===a.length)return o?[s,""]:[s];var u=AI(a.join("/")),l=[];return l.push.apply(l,C(u.map((function(e){return""===e?s:[s,e].join("/")})))),o&&l.push.apply(l,C(u)),l.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(wI||(wI={}));var DI=/^:\w+$/,FI=function(e){return"*"===e};function jI(e,t){var n=e.split("/"),r=n.length;return n.some(FI)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!FI(e)})).reduce((function(e,t){return e+(DI.test(t)?3:""===t?1:10)}),r)}function LI(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=MI({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var f=s.route;a.push({params:r,pathname:WI([i,l.pathname]),pathnameBase:GI(WI([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=WI([i,l.pathnameBase]))}return a}function MI(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);zI("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=d(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],u=s.replace(/(.)\/+$/,"$1"),c=o.slice(1),l=a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";u=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(so){return zI(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+so+")."),e}}(c[n]||"",t),e}),{});return{params:l,pathname:s,pathnameBase:u,pattern:e}}function UI(e){try{return decodeURI(e)}catch(so){return zI(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+so+")."),e}}function VI(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function zI(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(zT){}}}function BI(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function qI(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function HI(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=II(e):(xI(!(i=kI({},e)).pathname||!i.pathname.includes("?"),BI("?","pathname","search",i)),xI(!i.pathname||!i.pathname.includes("#"),BI("#","pathname","hash",i)),xI(!i.search||!i.search.includes("#"),BI("#","search","hash",i)));var a,o=""===e||""===i.pathname,s=o?"/":i.pathname;if(r||null==s)a=n;else{var u=t.length-1;if(s.startsWith("..")){for(var c=s.split("/");".."===c[0];)c.shift(),u-=1;i.pathname=c.join("/")}a=u>=0?t[u]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?II(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:KI(a),hash:$I(s)}}(i,a),f=s&&"/"!==s&&s.endsWith("/"),h=(o||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!h||(l.pathname+="/"),l}var WI=function(e){return e.join("/").replace(/\/\/+/g,"/")},GI=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},KI=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},$I=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},QI=function(e){k(n,e);var t=_(n);function n(){return p(this,n),t.apply(this,arguments)}return g(n)}(u(Error));var YI=g((function e(t,n,r,i){p(this,e),void 0===i&&(i=!1),this.status=t,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}));function XI(e){return e instanceof YI}var JI=["post","put","patch","delete"],ZI=(new Set(JI),["get"].concat(JI));new Set(ZI),new Set([301,302,303,307,308]),new Set([307,308]),"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;function eR(){return eR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eR.apply(this,arguments)}var tR="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},nR=e.useState,rR=e.useEffect,iR=e.useLayoutEffect,aR=e.useDebugValue;function oR(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!tR(n,r)}catch(so){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement,function(e){e.useSyncExternalStore}(t);var sR=e.createContext(null);var uR=e.createContext(null);var cR=e.createContext(null);var lR=e.createContext(null);var fR=e.createContext(null);var hR=e.createContext({outlet:null,matches:[]});var dR=e.createContext(null);function pR(){return null!=e.useContext(fR)}function vR(){return pR()||xI(!1),e.useContext(fR).location}function mR(){pR()||xI(!1);var t=e.useContext(lR),n=t.basename,r=t.navigator,i=e.useContext(hR).matches,a=vR().pathname,o=JSON.stringify(qI(i).map((function(e){return e.pathnameBase}))),s=e.useRef(!1);e.useEffect((function(){s.current=!0}));var u=e.useCallback((function(e,t){if(void 0===t&&(t={}),s.current)if("number"!==typeof e){var i=HI(e,JSON.parse(o),a,"path"===t.relative);"/"!==n&&(i.pathname="/"===i.pathname?n:WI([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state,t)}else r.go(e)}),[n,r,o,a]);return u}var yR=e.createContext(null);function gR(t,n){var r=(void 0===n?{}:n).relative,i=e.useContext(hR).matches,a=vR().pathname,o=JSON.stringify(qI(i).map((function(e){return e.pathnameBase})));return e.useMemo((function(){return HI(t,JSON.parse(o),a,"path"===r)}),[t,o,a,r])}function bR(){var t=function(){var t,n=e.useContext(dR),r=SR(wR.UseRouteError),i=ER(wR.UseRouteError);if(n)return n;return null==(t=r.errors)?void 0:t[i]}(),n=XI(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i};return e.createElement(e.Fragment,null,e.createElement("h2",null,"Unhandled Thrown Error!"),e.createElement("h3",{style:{fontStyle:"italic"}},n),r?e.createElement("pre",{style:a},r):null,e.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),e.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own\xa0",e.createElement("code",{style:o},"errorElement")," props on\xa0",e.createElement("code",{style:o},"<Route>")))}var kR,wR,_R=function(t){k(r,t);var n=_(r);function r(e){var t;return p(this,r),(t=n.call(this,e)).state={location:e.location,error:e.error},t}return g(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?e.createElement(hR.Provider,{value:this.props.routeContext},e.createElement(dR.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),r}(e.Component);function xR(t){var n=t.routeContext,r=t.match,i=t.children,a=e.useContext(sR);return a&&a.static&&a.staticContext&&r.route.errorElement&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),e.createElement(hR.Provider,{value:n},i)}function CR(t,n,r){if(void 0===n&&(n=[]),null==t){if(null==r||!r.errors)return null;t=r.matches}var i=t,a=null==r?void 0:r.errors;if(null!=a){var o=i.findIndex((function(e){return e.route.id&&(null==a?void 0:a[e.route.id])}));o>=0||xI(!1),i=i.slice(0,Math.min(i.length,o+1))}return i.reduceRight((function(t,o,s){var u=o.route.id?null==a?void 0:a[o.route.id]:null,c=r?o.route.errorElement||e.createElement(bR,null):null,l=n.concat(i.slice(0,s+1)),f=function(){return e.createElement(xR,{match:o,routeContext:{outlet:t,matches:l}},u?c:void 0!==o.route.element?o.route.element:t)};return r&&(o.route.errorElement||0===s)?e.createElement(_R,{location:r.location,component:c,error:u,children:f(),routeContext:{outlet:null,matches:l}}):f()}),null)}function SR(t){var n=e.useContext(uR);return n||xI(!1),n}function ER(t){var n=function(t){var n=e.useContext(hR);return n||xI(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||xI(!1),r.route.id}!function(e){e.UseRevalidator="useRevalidator"}(kR||(kR={})),function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(wR||(wR={}));var TR;function IR(t){return function(t){var n=e.useContext(hR).outlet;return n?e.createElement(yR.Provider,{value:t},n):n}(t.context)}function RR(e){xI(!1)}function PR(t){var n=t.basename,r=void 0===n?"/":n,i=t.children,a=void 0===i?null:i,o=t.location,s=t.navigationType,u=void 0===s?vI.Pop:s,c=t.navigator,l=t.static,f=void 0!==l&&l;pR()&&xI(!1);var h=r.replace(/^\/*/,"/"),d=e.useMemo((function(){return{basename:h,navigator:c,static:f}}),[h,c,f]);"string"===typeof o&&(o=II(o));var p=o,v=p.pathname,m=void 0===v?"/":v,y=p.search,g=void 0===y?"":y,b=p.hash,k=void 0===b?"":b,w=p.state,_=void 0===w?null:w,x=p.key,C=void 0===x?"default":x,S=e.useMemo((function(){var e=VI(m,h);return null==e?null:{pathname:e,search:g,hash:k,state:_,key:C}}),[h,m,g,k,_,C]);return null==S?null:e.createElement(lR.Provider,{value:d},e.createElement(fR.Provider,{children:a,value:{location:S,navigationType:u}}))}function OR(t){var n=t.children,r=t.location,i=e.useContext(sR);return function(t,n){pR()||xI(!1);var r,i=e.useContext(lR).navigator,a=e.useContext(uR),o=e.useContext(hR).matches,s=o[o.length-1],u=s?s.params:{},c=(s&&s.pathname,s?s.pathnameBase:"/"),l=(s&&s.route,vR());if(n){var f,h="string"===typeof n?II(n):n;"/"===c||(null==(f=h.pathname)?void 0:f.startsWith(c))||xI(!1),r=h}else r=l;var d=r.pathname||"/",p=OI(t,{pathname:"/"===c?d:d.slice(c.length)||"/"}),v=CR(p&&p.map((function(e){return Object.assign({},e,{params:Object.assign({},u,e.params),pathname:WI([c,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:WI([c,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),o,a||void 0);return n&&v?e.createElement(fR.Provider,{value:{location:eR({pathname:"/",search:"",hash:"",state:null,key:"default"},r),navigationType:vI.Pop}},v):v}(i&&!n?i.router.routes:AR(n),r)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(TR||(TR={}));var NR=new Promise((function(){}));e.Component;function AR(t,n){void 0===n&&(n=[]);var r=[];return e.Children.forEach(t,(function(t,i){if(e.isValidElement(t))if(t.type!==e.Fragment){t.type!==RR&&xI(!1),t.props.index&&t.props.children&&xI(!1);var a=[].concat(C(n),[i]),o={id:t.props.id||a.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,errorElement:t.props.errorElement,hasErrorBoundary:null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle};t.props.children&&(o.children=AR(t.props.children,a)),r.push(o)}else r.push.apply(r,AR(t.props.children,n))})),r}function DR(){return DR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},DR.apply(this,arguments)}function FR(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var jR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function LR(t){var n,r=t.basename,i=t.children,a=t.window,o=e.useRef();null==o.current&&(o.current=(void 0===(n={window:a,v5Compat:!0})&&(n={}),PI((function(e,t){var n=II(e.location.hash.substr(1)),r=n.pathname,i=void 0===r?"/":r,a=n.search,o=void 0===a?"":a,s=n.hash;return EI("",{pathname:i,search:o,hash:void 0===s?"":s},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){var n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){var i=e.location.href,a=i.indexOf("#");r=-1===a?i:i.slice(0,a)}return r+"#"+("string"===typeof t?t:TI(t))}),(function(e,t){CI("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),n)));var s=o.current,u=d(e.useState({action:s.action,location:s.location}),2),c=u[0],l=u[1];return e.useLayoutEffect((function(){return s.listen(l)}),[s]),e.createElement(PR,{basename:r,children:i,location:c.location,navigationType:c.action,navigator:s})}var MR=e.forwardRef((function(t,n){var r=t.onClick,i=t.relative,a=t.reloadDocument,o=t.replace,s=t.state,u=t.target,c=t.to,l=t.preventScrollReset,f=FR(t,jR),h=function(t,n){var r=(void 0===n?{}:n).relative;pR()||xI(!1);var i=e.useContext(lR),a=i.basename,o=i.navigator,s=gR(t,{relative:r}),u=s.hash,c=s.pathname,l=s.search,f=c;return"/"!==a&&(f="/"===c?a:WI([a,c])),o.createHref({pathname:f,search:l,hash:u})}(c,{relative:i}),d=function(t,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,s=r.preventScrollReset,u=r.relative,c=mR(),l=vR(),f=gR(t,{relative:u});return e.useCallback((function(e){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(e,i)){e.preventDefault();var n=void 0!==a?a:TI(l)===TI(f);c(t,{replace:n,state:o,preventScrollReset:s,relative:u})}}),[l,c,f,a,o,i,t,s,u])}(c,{replace:o,state:s,target:u,preventScrollReset:l,relative:i});return e.createElement("a",DR({},f,{href:h,onClick:a?r:function(e){r&&r(e),e.defaultPrevented||d(e)},ref:n,target:u}))}));var UR,VR;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(UR||(UR={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(VR||(VR={}));var zR,BR,qR;var HR=["title","titleId"];function WR(){return WR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},WR.apply(this,arguments)}function GR(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function KR(t,n){var r=t.title,i=t.titleId,a=GR(t,HR);return e.createElement("svg",WR({fill:"current",width:200,height:196,viewBox:"0 0 200 196",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":i},a),r?e.createElement("title",{id:i},r):null,zR||(zR=e.createElement("path",{d:"M191.666 91.6667H175V75C175 72.7899 174.122 70.6702 172.559 69.1074C170.996 67.5446 168.876 66.6667 166.666 66.6667C164.456 66.6667 162.337 67.5446 160.774 69.1074C159.211 70.6702 158.333 72.7899 158.333 75V91.6667H141.666C139.456 91.6667 137.337 92.5446 135.774 94.1074C134.211 95.6702 133.333 97.7898 133.333 100C133.333 102.21 134.211 104.33 135.774 105.893C137.337 107.455 139.456 108.333 141.666 108.333H158.333V125C158.333 127.21 159.211 129.33 160.774 130.893C162.337 132.455 164.456 133.333 166.666 133.333C168.876 133.333 170.996 132.455 172.559 130.893C174.122 129.33 175 127.21 175 125V108.333H191.666C193.876 108.333 195.996 107.455 197.559 105.893C199.122 104.33 200 102.21 200 100C200 97.7898 199.122 95.6702 197.559 94.1074C195.996 92.5446 193.876 91.6667 191.666 91.6667Z"})),BR||(BR=e.createElement("path",{d:"M75 100C84.8891 100 94.556 97.0675 102.779 91.5735C111.001 86.0794 117.41 78.2705 121.194 69.1342C124.978 59.9979 125.969 49.9445 124.039 40.2455C122.11 30.5464 117.348 21.6373 110.355 14.6447C103.363 7.65206 94.4536 2.89002 84.7545 0.960758C75.0555 -0.968502 65.0021 0.0216643 55.8658 3.80604C46.7295 7.59043 38.9206 13.999 33.4265 22.2215C27.9324 30.444 25 40.1109 25 50C25.0132 63.2568 30.2853 75.9668 39.6593 85.3407C49.0332 94.7147 61.7432 99.9868 75 100ZM75 16.6667C81.5927 16.6667 88.0374 18.6217 93.519 22.2844C99.0006 25.9471 103.273 31.153 105.796 37.2439C108.319 43.3348 108.979 50.037 107.693 56.503C106.407 62.9691 103.232 68.9085 98.5702 73.5702C93.9085 78.232 87.969 81.4067 81.503 82.6928C75.037 83.979 68.3348 83.3189 62.2439 80.796C56.153 78.2731 50.9471 74.0006 47.2843 68.519C43.6216 63.0374 41.6667 56.5927 41.6667 50C41.6667 41.1595 45.1786 32.681 51.4298 26.4298C57.681 20.1786 66.1594 16.6667 75 16.6667Z"})),qR||(qR=e.createElement("path",{d:"M75 112C55.1155 112.022 36.0518 119.931 21.9913 133.991C7.9309 148.052 0.0220571 167.116 0 187C0 189.21 0.877974 191.33 2.44078 192.893C4.00358 194.455 6.12319 195.333 8.33333 195.333C10.5435 195.333 12.6631 194.455 14.2259 192.893C15.7887 191.33 16.6667 189.21 16.6667 187C16.6667 171.529 22.8125 156.692 33.7521 145.752C44.6917 134.812 59.529 128.667 75 128.667C90.4709 128.667 105.308 134.812 116.248 145.752C127.187 156.692 133.333 171.529 133.333 187C133.333 189.21 134.211 191.33 135.774 192.893C137.337 194.455 139.457 195.333 141.667 195.333C143.877 195.333 145.996 194.455 147.559 192.893C149.122 191.33 150 189.21 150 187C149.978 167.116 142.069 148.052 128.009 133.991C113.948 119.931 94.8845 112.022 75 112Z"})))}var $R,QR,YR=e.forwardRef(KR),XR=(n.p,["title","titleId"]);function JR(){return JR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},JR.apply(this,arguments)}function ZR(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function eP(t,n){var r=t.title,i=t.titleId,a=ZR(t,XR);return e.createElement("svg",JR({fill:"current",width:204,height:204,viewBox:"0 0 204 204",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":i},a),r?e.createElement("title",{id:i},r):null,$R||($R=e.createElement("g",{clipPath:"url(#clip0_42_601)"},e.createElement("path",{d:"M33.9998 51C30.6487 51.0088 27.3291 50.353 24.2331 49.0705C21.1371 47.788 18.3261 45.9044 15.9628 43.5285L2.83883 31.8495C1.15483 30.3481 0.136238 28.2392 0.00711953 25.9868C-0.121999 23.7344 0.648935 21.523 2.15033 19.839C3.65172 18.155 5.76058 17.1364 8.01298 17.0073C10.2654 16.8782 12.4768 17.6491 14.1608 19.1505L27.6333 31.1695C28.4046 32.0356 29.3449 32.7347 30.3965 33.2239C31.448 33.713 32.5886 33.9817 33.7479 34.0136C34.9072 34.0454 36.0607 33.8397 37.1375 33.409C38.2144 32.9784 39.1917 32.332 40.0093 31.5095L70.6433 2.34599C72.2906 0.87949 74.4433 0.110654 76.6469 0.201876C78.8505 0.293098 80.9323 1.23724 82.4527 2.83487C83.9731 4.4325 84.813 6.55854 84.795 8.76393C84.7771 10.9693 83.9026 13.0814 82.3563 14.654L51.8498 43.673C49.5019 46.0072 46.7169 47.8558 43.6541 49.113C40.5912 50.3703 37.3106 51.0115 33.9998 51ZM204 34C204 31.7457 203.104 29.5836 201.51 27.9896C199.916 26.3955 197.754 25.5 195.5 25.5H110.5C108.245 25.5 106.083 26.3955 104.489 27.9896C102.895 29.5836 102 31.7457 102 34C102 36.2543 102.895 38.4163 104.489 40.0104C106.083 41.6045 108.245 42.5 110.5 42.5H195.5C197.754 42.5 199.916 41.6045 201.51 40.0104C203.104 38.4163 204 36.2543 204 34ZM51.8498 111.673L82.3563 82.654C83.2078 81.896 83.8981 80.9744 84.3861 79.9441C84.8741 78.9139 85.1499 77.796 85.1971 76.657C85.2442 75.5179 85.0618 74.3811 84.6606 73.314C84.2594 72.2469 83.6476 71.2715 82.8617 70.4457C82.0758 69.6198 81.1319 68.9606 80.086 68.507C79.0401 68.0535 77.9136 67.815 76.7737 67.8057C75.6337 67.7964 74.5035 68.0165 73.4504 68.4529C72.3972 68.8893 71.4426 69.5331 70.6433 70.346L40.0433 99.5095C38.4252 101.057 36.2727 101.92 34.0338 101.92C31.795 101.92 29.6424 101.057 28.0243 99.5095L14.5093 86.037C12.9062 84.4887 10.7591 83.6319 8.53042 83.6513C6.30174 83.6706 4.16984 84.5646 2.59387 86.1405C1.0179 87.7165 0.123963 89.8484 0.104596 92.0771C0.0852296 94.3058 0.941982 96.4529 2.49033 98.056L15.9628 111.529C20.72 116.287 27.1651 118.972 33.8936 118.999C40.622 119.026 47.0885 116.393 51.8838 111.673H51.8498ZM204 102C204 99.7457 203.104 97.5837 201.51 95.9896C199.916 94.3955 197.754 93.5 195.5 93.5H110.5C108.245 93.5 106.083 94.3955 104.489 95.9896C102.895 97.5837 102 99.7457 102 102C102 104.254 102.895 106.416 104.489 108.01C106.083 109.604 108.245 110.5 110.5 110.5H195.5C197.754 110.5 199.916 109.604 201.51 108.01C203.104 106.416 204 104.254 204 102ZM51.8498 179.673L82.3223 150.654C83.1738 149.896 83.8641 148.974 84.3521 147.944C84.8401 146.914 85.1159 145.796 85.163 144.657C85.2102 143.518 85.0277 142.381 84.6265 141.314C84.2254 140.247 83.6136 139.271 82.8277 138.446C82.0418 137.62 81.0979 136.961 80.052 136.507C79.0061 136.053 77.8796 135.815 76.7396 135.806C75.5997 135.796 74.4695 136.016 73.4163 136.453C72.3632 136.889 71.4086 137.533 70.6093 138.346L40.0093 167.51C39.1917 168.332 38.2144 168.978 37.1375 169.409C36.0607 169.84 34.9072 170.045 33.7479 170.014C32.5886 169.982 31.448 169.713 30.3965 169.224C29.3449 168.735 28.4046 168.036 27.6333 167.17L14.1608 155.151C12.4768 153.649 10.2654 152.878 8.01298 153.007C5.76058 153.136 3.65172 154.155 2.15033 155.839C0.648935 157.523 -0.121999 159.734 0.00711953 161.987C0.136238 164.239 1.15483 166.348 2.83883 167.85L15.9628 179.529C20.72 184.287 27.1651 186.972 33.8936 186.999C40.622 187.026 47.0885 184.393 51.8838 179.673H51.8498ZM204 170C204 167.746 203.104 165.584 201.51 163.99C199.916 162.396 197.754 161.5 195.5 161.5H110.5C108.245 161.5 106.083 162.396 104.489 163.99C102.895 165.584 102 167.746 102 170C102 172.254 102.895 174.416 104.489 176.01C106.083 177.604 108.245 178.5 110.5 178.5H195.5C197.754 178.5 199.916 177.604 201.51 176.01C203.104 174.416 204 172.254 204 170Z"}))),QR||(QR=e.createElement("defs",null,e.createElement("clipPath",{id:"clip0_42_601"},e.createElement("rect",{width:204,height:204,fill:"white"})))))}var tP,nP=e.forwardRef(eP),rP=(n.p,["title","titleId"]);function iP(){return iP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iP.apply(this,arguments)}function aP(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function oP(t,n){var r=t.title,i=t.titleId,a=aP(t,rP);return e.createElement("svg",iP({width:116,height:116,viewBox:"0 0 116 116",fill:"current",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":i},a),r?e.createElement("title",{id:i},r):null,tP||(tP=e.createElement("path",{d:"M58 77.3333C54.1762 77.3333 50.4383 76.1995 47.259 74.0751C44.0796 71.9507 41.6016 68.9313 40.1383 65.3986C38.675 61.8659 38.2922 57.9786 39.0382 54.2283C39.7841 50.478 41.6255 47.0331 44.3293 44.3293C47.0331 41.6255 50.478 39.7841 54.2283 39.0382C57.9786 38.2922 61.8658 38.675 65.3986 40.1383C68.9313 41.6016 71.9507 44.0796 74.0751 47.259C76.1995 50.4383 77.3333 54.1762 77.3333 58C77.3333 63.1275 75.2964 68.045 71.6707 71.6707C68.045 75.2964 63.1275 77.3333 58 77.3333ZM58 48.3333C56.0881 48.3333 54.2192 48.9003 52.6295 49.9625C51.0398 51.0247 49.8008 52.5344 49.0692 54.3007C48.3375 56.0671 48.1461 58.0107 48.5191 59.8859C48.8921 61.761 49.8127 63.4835 51.1646 64.8354C52.5165 66.1873 54.239 67.1079 56.1141 67.4809C57.9893 67.8539 59.9329 67.6625 61.6993 66.9308C63.4656 66.1992 64.9754 64.9602 66.0375 63.3705C67.0997 61.7808 67.6667 59.9119 67.6667 58C67.6667 55.4363 66.6482 52.9775 64.8354 51.1646C63.0225 49.3518 60.5638 48.3333 58 48.3333ZM87 111.167C87 103.475 83.9447 96.0991 78.5061 90.6606C73.0676 85.222 65.6913 82.1667 58 82.1667C50.3087 82.1667 42.9325 85.222 37.4939 90.6606C32.0554 96.0991 29 103.475 29 111.167C29 112.449 29.5092 113.678 30.4157 114.584C31.3221 115.491 32.5515 116 33.8333 116C35.1152 116 36.3446 115.491 37.251 114.584C38.1574 113.678 38.6667 112.449 38.6667 111.167C38.6667 106.039 40.7036 101.122 44.3293 97.496C47.955 93.8702 52.8725 91.8333 58 91.8333C63.1275 91.8333 68.045 93.8702 71.6707 97.496C75.2964 101.122 77.3333 106.039 77.3333 111.167C77.3333 112.449 77.8426 113.678 78.749 114.584C79.6554 115.491 80.8848 116 82.1667 116C83.4485 116 84.6779 115.491 85.5844 114.584C86.4908 113.678 87 112.449 87 111.167ZM87 38.6667C83.1762 38.6667 79.4383 37.5328 76.259 35.4084C73.0796 33.284 70.6016 30.2646 69.1383 26.7319C67.675 23.1992 67.2922 19.3119 68.0382 15.5616C68.7841 11.8113 70.6255 8.36643 73.3293 5.66261C76.0331 2.9588 79.478 1.11747 83.2283 0.371493C86.9786 -0.374488 90.8658 0.0083768 94.3985 1.47167C97.9313 2.93497 100.951 5.41297 103.075 8.59232C105.199 11.7717 106.333 15.5096 106.333 19.3333C106.333 24.4609 104.296 29.3784 100.671 33.0041C97.045 36.6298 92.1275 38.6667 87 38.6667ZM87 9.66668C85.0881 9.66668 83.2192 10.2336 81.6295 11.2958C80.0398 12.358 78.8008 13.8677 78.0692 15.6341C77.3375 17.4004 77.1461 19.3441 77.5191 21.2192C77.8921 23.0944 78.8127 24.8168 80.1646 26.1687C81.5165 27.5206 83.239 28.4413 85.1141 28.8143C86.9893 29.1873 88.9329 28.9958 90.6993 28.2642C92.4656 27.5325 93.9754 26.2935 95.0375 24.7039C96.0997 23.1142 96.6667 21.2452 96.6667 19.3333C96.6667 16.7696 95.6482 14.3108 93.8354 12.498C92.0225 10.6851 89.5638 9.66668 87 9.66668ZM116 72.5C115.992 64.8111 112.935 57.4393 107.498 52.0024C102.061 46.5655 94.6889 43.5077 87 43.5C85.7181 43.5 84.4887 44.0092 83.5823 44.9157C82.6759 45.8221 82.1667 47.0515 82.1667 48.3333C82.1667 49.6152 82.6759 50.8446 83.5823 51.751C84.4887 52.6575 85.7181 53.1667 87 53.1667C92.1275 53.1667 97.045 55.2036 100.671 58.8293C104.296 62.455 106.333 67.3725 106.333 72.5C106.333 73.7819 106.843 75.0113 107.749 75.9177C108.655 76.8241 109.885 77.3333 111.167 77.3333C112.449 77.3333 113.678 76.8241 114.584 75.9177C115.491 75.0113 116 73.7819 116 72.5ZM29 38.6667C25.1762 38.6667 21.4383 37.5328 18.259 35.4084C15.0796 33.284 12.6016 30.2646 11.1383 26.7319C9.67504 23.1992 9.29217 19.3119 10.0382 15.5616C10.7841 11.8113 12.6255 8.36643 15.3293 5.66261C18.0331 2.9588 21.478 1.11747 25.2283 0.371493C28.9786 -0.374488 32.8658 0.0083768 36.3985 1.47167C39.9313 2.93497 42.9507 5.41297 45.0751 8.59232C47.1995 11.7717 48.3333 15.5096 48.3333 19.3333C48.3333 24.4609 46.2964 29.3784 42.6707 33.0041C39.045 36.6298 34.1275 38.6667 29 38.6667ZM29 9.66668C27.0881 9.66668 25.2192 10.2336 23.6295 11.2958C22.0398 12.358 20.8008 13.8677 20.0692 15.6341C19.3375 17.4004 19.1461 19.3441 19.5191 21.2192C19.8921 23.0944 20.8127 24.8168 22.1646 26.1687C23.5165 27.5206 25.239 28.4413 27.1141 28.8143C28.9893 29.1873 30.9329 28.9958 32.6993 28.2642C34.4656 27.5325 35.9754 26.2935 37.0375 24.7039C38.0997 23.1142 38.6667 21.2452 38.6667 19.3333C38.6667 16.7696 37.6482 14.3108 35.8354 12.498C34.0225 10.6851 31.5638 9.66668 29 9.66668ZM9.66667 72.5C9.66667 67.3725 11.7036 62.455 15.3293 58.8293C18.955 55.2036 23.8725 53.1667 29 53.1667C30.2819 53.1667 31.5113 52.6575 32.4177 51.751C33.3241 50.8446 33.8333 49.6152 33.8333 48.3333C33.8333 47.0515 33.3241 45.8221 32.4177 44.9157C31.5113 44.0092 30.2819 43.5 29 43.5C21.3111 43.5077 13.9393 46.5655 8.50238 52.0024C3.06549 57.4393 0.00767741 64.8111 0 72.5C0 73.7819 0.509225 75.0113 1.41565 75.9177C2.32208 76.8241 3.55145 77.3333 4.83333 77.3333C6.11521 77.3333 7.34459 76.8241 8.25102 75.9177C9.15744 75.0113 9.66667 73.7819 9.66667 72.5Z"})))}var sP,uP=e.forwardRef(oP),cP=(n.p,["title","titleId"]);function lP(){return lP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lP.apply(this,arguments)}function fP(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function hP(t,n){var r=t.title,i=t.titleId,a=fP(t,cP);return e.createElement("svg",lP({width:108,height:108,viewBox:"0 0 108 108",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":i},a),r?e.createElement("title",{id:i},r):null,sP||(sP=e.createElement("path",{d:"M100.768 81C97.0459 87.4602 88.7913 89.6797 82.3311 85.9575C82.3267 85.9549 82.3224 85.9524 82.318 85.9499L80.3156 84.7933C76.5356 88.0274 72.1907 90.5354 67.4997 92.1913V94.5C67.4997 101.956 61.4555 108 53.9997 108C46.5439 108 40.4997 101.956 40.4997 94.5V92.1915C35.808 90.5329 31.4629 88.0219 27.6837 84.7844L25.6722 85.9454C19.2106 89.6733 10.9501 87.4572 7.22215 80.9954C3.49426 74.5337 5.71037 66.2732 12.1722 62.5453L14.1702 61.3934C13.2708 56.4994 13.2708 51.4825 14.1702 46.5883L12.1722 45.4364C5.71058 41.7085 3.49426 33.4481 7.22215 26.9863C10.9501 20.5246 19.2104 18.3083 25.6722 22.0362L27.6747 23.1928C31.4585 19.9627 35.8063 17.4593 40.4997 15.8085V13.5C40.4997 6.0442 46.5439 0 53.9997 0C61.4555 0 67.4997 6.0442 67.4997 13.5V15.8085C72.1913 17.4671 76.5364 19.9781 80.3156 23.2156L82.3271 22.0501C88.7889 18.322 97.0493 20.5384 100.777 27C104.505 33.4616 102.289 41.7222 95.8271 45.4501L93.8291 46.602C94.7285 51.496 94.7285 56.5129 93.8291 61.4071L95.8271 62.559C102.271 66.2968 104.48 74.5411 100.768 81ZM53.9997 36.0001C44.0586 36.0001 35.9997 44.0589 35.9997 54C35.9997 63.9411 44.0586 71.9999 53.9997 71.9999C63.9407 71.9999 71.9996 63.9411 71.9996 54C71.9996 44.0589 63.9407 36.0001 53.9997 36.0001Z",fill:"white"})))}var dP,pP,vP=e.forwardRef(hP),mP=(n.p,["title","titleId"]);function yP(){return yP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yP.apply(this,arguments)}function gP(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function bP(t,n){var r=t.title,i=t.titleId,a=gP(t,mP);return e.createElement("svg",yP({width:116,height:116,viewBox:"0 0 116 116",fill:"current",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":i},a),r?e.createElement("title",{id:i},r):null,dP||(dP=e.createElement("g",{clipPath:"url(#clip0_168_95)"},e.createElement("path",{d:"M82.167 67.6666C82.167 68.9485 81.6578 70.1779 80.7514 71.0843C79.8449 71.9908 78.6155 72.5 77.3337 72.5H38.667C37.3851 72.5 36.1557 71.9908 35.2493 71.0843C34.3429 70.1779 33.8337 68.9485 33.8337 67.6666C33.8337 66.3848 34.3429 65.1554 35.2493 64.249C36.1557 63.3425 37.3851 62.8333 38.667 62.8333H77.3337C78.6155 62.8333 79.8449 63.3425 80.7514 64.249C81.6578 65.1554 82.167 66.3848 82.167 67.6666ZM62.8337 82.1666H38.667C37.3851 82.1666 36.1557 82.6759 35.2493 83.5823C34.3429 84.4887 33.8337 85.7181 33.8337 87C33.8337 88.2819 34.3429 89.5112 35.2493 90.4177C36.1557 91.3241 37.3851 91.8333 38.667 91.8333H62.8337C64.1155 91.8333 65.3449 91.3241 66.2513 90.4177C67.1578 89.5112 67.667 88.2819 67.667 87C67.667 85.7181 67.1578 84.4887 66.2513 83.5823C65.3449 82.6759 64.1155 82.1666 62.8337 82.1666ZM106.334 50.6775V91.8333C106.326 98.2404 103.777 104.383 99.2469 108.913C94.7165 113.444 88.574 115.992 82.167 116H33.8337C27.4266 115.992 21.2842 113.444 16.7537 108.913C12.2233 104.383 9.67467 98.2404 9.66699 91.8333V24.1667C9.67467 17.7596 12.2233 11.6172 16.7537 7.08672C21.2842 2.55625 27.4266 0.00766398 33.8337 -1.06684e-05H55.6562C60.101 -0.0114508 64.504 0.85833 68.6106 2.55904C72.7172 4.25975 76.4459 6.75766 79.5812 9.90832L96.4205 26.7573C99.573 29.8905 102.072 33.618 103.774 37.724C105.476 41.83 106.346 46.2329 106.334 50.6775ZM72.7468 16.7427C71.2257 15.2693 69.5178 14.0018 67.667 12.9727V33.8333C67.667 35.1152 68.1762 36.3446 69.0826 37.251C69.9891 38.1574 71.2184 38.6667 72.5003 38.6667H93.361C92.3313 36.8164 91.0621 35.11 89.5862 33.5917L72.7468 16.7427ZM96.667 50.6775C96.667 49.88 96.5123 49.1163 96.4398 48.3333H72.5003C68.6547 48.3333 64.9666 46.8056 62.2473 44.0864C59.528 41.3671 58.0003 37.679 58.0003 33.8333V9.89382C57.2173 9.82132 56.4488 9.66666 55.6562 9.66666H33.8337C29.988 9.66666 26.2999 11.1943 23.5806 13.9136C20.8613 16.6329 19.3337 20.321 19.3337 24.1667V91.8333C19.3337 95.679 20.8613 99.3671 23.5806 102.086C26.2999 104.806 29.988 106.333 33.8337 106.333H82.167C86.0126 106.333 89.7008 104.806 92.42 102.086C95.1393 99.3671 96.667 95.679 96.667 91.8333V50.6775Z"}))),pP||(pP=e.createElement("defs",null,e.createElement("clipPath",{id:"clip0_168_95"},e.createElement("rect",{width:116,height:116})))))}var kP=e.forwardRef(bP),wP=(n.p,n(184));function _P(){var e=mR();return(0,wP.jsxs)("div",{children:[(0,wP.jsx)("div",{className:"bg-primary w-full h-1/3 -z-10 top-0 absolute"}),(0,wP.jsxs)("div",{className:"w-full",children:[(0,wP.jsx)("div",{className:"mb-5",children:(0,wP.jsx)("p",{className:"text-center text-5xl text-white font-extrabold block",children:"Bienvenido de nuevo!"})}),(0,wP.jsxs)("div",{className:"flex justify-evenly mx-28 border-b pb-14",children:[(0,wP.jsxs)(MR,{to:"/PatientList",children:[(0,wP.jsx)("button",{className:"filledSecondary p-8 m-4 md:px-24 md:py-20 text-center rounded-3xl",type:"button",title:"Crear Nuevo Eestudio",children:(0,wP.jsx)(uP,{className:"svg195 fill-primary"})}),(0,wP.jsx)("br",{}),(0,wP.jsx)("h3",{className:"text-center text-4xl font-bold mt-9",children:"Lista de pacientes"})]}),(0,wP.jsx)("div",{children:(0,wP.jsxs)(MR,{to:"/StudyList",children:[(0,wP.jsx)("button",{className:"filledSecondary p-8 m-4 md:px-24 md:py-20 text-center rounded-3xl",type:"button",title:"Lista de Estudios",children:(0,wP.jsx)(nP,{className:"svg195 fill-primary"})}),(0,wP.jsx)("h3",{className:"text-center text-4xl font-bold mt-9",children:"Lista de Estudios"})]})})]})]}),(0,wP.jsxs)("div",{children:[(0,wP.jsx)("div",{className:"my-5",children:(0,wP.jsx)("p",{className:"text-center text-4xl font-bold block",children:"Accesos r\xe1pidos"})}),(0,wP.jsxs)("div",{className:"flex flex-col items-center sm:flex-row sm:justify-center",children:[(0,wP.jsxs)("button",{className:"filledPrimary py-4 px-8 mx-12 my-2 rounded-3xl w-[285px] h-[205px]",type:"button",title:"Configuraci\xf3n",children:[(0,wP.jsx)(vP,{className:"svg120 fill-white !mb-5"}),"Configuraci\xf3n"]}),(0,wP.jsx)(MR,{to:"/PatientForm",children:(0,wP.jsxs)("button",{className:"filledPrimary py-4 px-8 mx-12 my-2 rounded-3xl w-[285px] h-[205px]",type:"button",title:"Pacientes",children:[(0,wP.jsx)(YR,{className:"svg120 fill-white !mb-5"}),"Nuevo paciente"]})}),(0,wP.jsxs)("button",{className:"filledPrimary py-4 px-8 mx-12 my-2 rounded-3xl w-[285px] h-[205px]",type:"button",title:"Estad\xedsticas",onClick:function(){return e("/RegisterStudy/",{state:{patientId:"undefined"}})},children:[(0,wP.jsx)(kP,{className:"svg120 fill-white !mb-5"}),"Nuevo estudio"]})]})]})]})}var xP,CP=function(){var e=qa(),t=function(){return function(e){return Te(e).signOut()}(e)};return(0,wP.jsxs)("div",{className:"w-full bg-primary p-4 flex justify-between items-center text-white sticky top-0 left-0 z-[1]",children:[(0,wP.jsx)(MR,{to:"/",children:(0,wP.jsx)("label",{className:"text-4xl font-thin cursor-pointer",children:"LATRIK RIS"})}),(0,wP.jsxs)("div",{className:"flex items-center",children:[(0,wP.jsx)("button",{onClick:function(){return t()},children:"Cerrar sesi\xf3n"}),(0,wP.jsx)("div",{className:"rounded-full h-14 w-14 mx-2 bg-white"}),(0,wP.jsx)("label",{children:"user 01"})]})]})},SP=function(){return(0,wP.jsxs)(wP.Fragment,{children:[(0,wP.jsx)(CP,{}),(0,wP.jsx)(IR,{})]})},EP=["title","titleId"];function TP(){return TP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},TP.apply(this,arguments)}function IP(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function RP(t,n){var r=t.title,i=t.titleId,a=IP(t,EP);return e.createElement("svg",TP({fill:"current",xmlns:"http://www.w3.org/2000/svg",id:"Outline",viewBox:"0 0 24 24",width:512,height:512,ref:n,"aria-labelledby":i},a),r?e.createElement("title",{id:i},r):null,xP||(xP=e.createElement("path",{fill:"current",d:"M19,11H9l3.29-3.29a1,1,0,0,0,0-1.42,1,1,0,0,0-1.41,0l-4.29,4.3A2,2,0,0,0,6,12H6a2,2,0,0,0,.59,1.4l4.29,4.3a1,1,0,1,0,1.41-1.42L9,13H19a1,1,0,0,0,0-2Z"})))}var PP=e.forwardRef(RP);n.p;function OP(e){var t=e.goTo,n=mR();return(0,wP.jsx)("button",{onClick:function(){return n(t)},className:"filledPrimary round w-fit h-fit m-4 rounded-3xl",type:"button",title:"Back",children:(0,wP.jsx)(PP,{className:"w-16 h-14 rounder3xl fill-white"})})}var NP,AP,DP,FP,jP=n(1358);!function(e){e[e.Male=0]="Male",e[e.Female=1]="Female",e[e.Other=2]="Other",e[e.Na=3]="Na"}(NP||(NP={})),function(e){e[e.LOW=0]="LOW",e[e.NORMAL=1]="NORMAL",e[e.URGENT=2]="URGENT",e[e.EMERGENCY=3]="EMERGENCY"}(AP||(AP={})),function(e){e[e.PENDING=0]="PENDING",e[e.IN_PROCESS=1]="IN_PROCESS",e[e.TO_REPORT=2]="TO_REPORT",e[e.REPORTING=3]="REPORTING",e[e.REPORTED=4]="REPORTED",e[e.FINISHED=5]="FINISHED",e[e.SUSPENDED=6]="SUSPENDED",e[e.CANCELED=7]="CANCELED"}(DP||(DP={})),function(e){e[e.CR=0]="CR",e[e.DX=1]="DX",e[e.CT=2]="CT",e[e.MR=3]="MR",e[e.XA=4]="XA",e[e.MG=5]="MG",e[e.US=6]="US",e[e.PT=7]="PT",e[e.NM=8]="NM",e[e.RF=9]="RF",e[e.RG=10]="RG",e[e.PX=11]="PX",e[e.ES=12]="ES",e[e.XC=13]="XC",e[e.GM=14]="GM",e[e.SC=15]="SC",e[e.OT=16]="OT",e[e.SR=17]="SR"}(FP||(FP={}));var LP=function(){var t=rI(P_(Q_(),"Studies")),n=d(e.useState([]),2),r=n[0],i=n[1],a=mR();e.useEffect((function(){if(t.data){var e=t.data;i(e)}}),[t.data]);var o=e.useMemo((function(){return r}),[r]),s=e.useMemo((function(){return[{Header:"id",accessor:"id",show:!1},{Header:"Nombre",accessor:"patient.name"},{Header:"Doc de identidad",accessor:"patient.patientId"},{Header:"Fecha del estudio",accessor:"studyDate"},{Header:"Modalidad",accessor:"modality",Cell:function(e){var t=e.value;return(0,wP.jsx)("label",{children:FP[parseInt(t)]})}},{Header:"Procedimiento",accessor:"procedure"},{Header:"Estatus",accessor:"status",Cell:function(e){var t=e.value;return(0,wP.jsx)("label",{children:DP[t]})}},{Header:"Prioridad",accessor:"priority",Cell:function(e){var t=e.value;return(0,wP.jsx)("label",{children:AP[parseInt(t)]})}},{Header:"M\xe9dico referente",accessor:"referringPhysician"}]}),[]),u=(0,jP.useTable)({columns:s,data:o,initialState:{hiddenColumns:["id"]}},(function(e){e.visibleColumns.push((function(e){return[].concat(C(e),[{id:"Action",Header:"Acci\xf3n",Cell:function(e){var t=e.row;return(0,wP.jsx)("button",{onClick:function(){return a("/StudyDetail",{state:{studyId:t.values.id}})},className:"underline text-tertiary font-bold",type:"button",children:"Detalle"})}}])}))})),c=u.getTableProps,l=u.getTableBodyProps,f=u.headerGroups,h=u.rows,p=u.prepareRow;return(0,wP.jsxs)(wP.Fragment,{children:[(0,wP.jsx)(OP,{goTo:"/"}),(0,wP.jsx)("div",{className:"mx-6 mb-6",children:(0,wP.jsx)("h3",{className:"font-bold text-4xl",children:"Lista de Estudios"})}),(0,wP.jsx)("div",{className:"m-10",children:(0,wP.jsxs)("table",ze(ze({},c()),{},{className:"w-full rounded-lg m-auto bg-white",children:[(0,wP.jsx)("thead",{children:f.map((function(e){return(0,wP.jsx)("tr",ze(ze({},e.getHeaderGroupProps()),{},{className:"bg-primary text-white",children:e.headers.map((function(e){return(0,wP.jsx)("th",ze(ze({},e.getHeaderProps()),{},{className:"p-3",children:e.render("Header")}))}))}))}))}),(0,wP.jsx)("tbody",ze(ze({},l()),{},{children:h.map((function(e){return p(e),(0,wP.jsx)("tr",ze(ze({},e.getRowProps()),{},{className:"hover:shadow-tableRowShadow",children:e.cells.map((function(e){return(0,wP.jsx)("td",ze(ze({},e.getCellProps()),{},{className:"px-5 border border-tertiary p-3",children:e.render("Cell")}))}))}))}))}))]}))})]})};var MP=function(){var t=rI(P_(Q_(),"Patients")),n=mR(),r=d(e.useState([]),2),i=r[0],a=r[1];e.useEffect((function(){if(t.data){var e=t.data;a(e)}}),[t.data]);var o=e.useMemo((function(){return i}),[i]),s=e.useMemo((function(){return[{Header:"id",accessor:"id",show:!1},{Header:"Nombre",accessor:"name"},{Header:"Doc. de identidad",accessor:"patientId"},{Header:"Genero",accessor:"gender",Cell:function(e){var t=e.value;return(0,wP.jsx)("label",{children:NP[parseInt(t)]})}},{Header:"Fecha de nacimiento",accessor:"birthDate"}]}),[]),u=(0,jP.useTable)({columns:s,data:o,initialState:{hiddenColumns:["id"]}},(function(e){e.visibleColumns.push((function(e){return[].concat(C(e),[{id:"Action",Header:"Acci\xf3n",Cell:function(e){var t=e.row;return(0,wP.jsx)("button",{onClick:function(){return n("/RegisterStudy/",{state:{patientId:t.values.id}})},className:"underline text-tertiary font-bold",type:"button",children:"Realizar estudio"})}}])}))})),c=u.getTableProps,l=u.getTableBodyProps,f=u.headerGroups,h=u.rows,p=u.prepareRow;return(0,wP.jsxs)(wP.Fragment,{children:[(0,wP.jsx)(OP,{goTo:"/"}),(0,wP.jsxs)("div",{className:"mx-6 mb-6 flex justify-between",children:[(0,wP.jsx)("h3",{className:"font-bold text-4xl",children:"Lista de Pacientes"}),(0,wP.jsx)(MR,{to:"/PatientForm",children:(0,wP.jsx)("button",{className:"filledPrimary rounded-xl w-44 h-12",type:"button",children:"Registrar paciente"})})]}),(0,wP.jsx)("div",{className:"m-10",children:(0,wP.jsxs)("table",ze(ze({},c()),{},{className:"w-full rounded-lg m-auto bg-white",children:[(0,wP.jsx)("thead",{className:"h-8",children:f.map((function(e){return(0,wP.jsx)("tr",ze(ze({},e.getHeaderGroupProps()),{},{className:"bg-primary text-white",children:e.headers.map((function(e){return(0,wP.jsx)("th",ze(ze({},e.getHeaderProps()),{},{className:"p-3",children:e.render("Header")}))}))}))}))}),(0,wP.jsx)("tbody",ze(ze({},l()),{},{children:h.map((function(e){return p(e),(0,wP.jsx)("tr",ze(ze({},e.getRowProps()),{},{className:"hover:shadow-tableRowShadow",children:e.cells.map((function(e){return(0,wP.jsx)("td",ze(ze({},e.getCellProps()),{},{className:"px-5 border border-tertiary p-3",onClick:function(){console.log(e)},children:e.render("Cell")}))}))}))}))}))]}))})]})},UP={"aria-busy":!0,role:"status"},VP=n(7441),zP=n(9613),BP=n.n(zP);var qP=function(e){function t(e,r,u,c,h){for(var d,p,v,m,k,_=0,x=0,C=0,S=0,E=0,N=0,D=v=d=0,j=0,L=0,M=0,U=0,V=u.length,z=V-1,B="",q="",H="",W="";j<V;){if(p=u.charCodeAt(j),j===z&&0!==x+S+C+_&&(0!==x&&(p=47===x?10:47),S=C=_=0,V++,z++),0===x+S+C+_){if(j===z&&(0<L&&(B=B.replace(f,"")),0<B.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:B+=u.charAt(j)}p=59}switch(p){case 123:for(d=(B=B.trim()).charCodeAt(0),v=1,U=++j;j<V;){switch(p=u.charCodeAt(j)){case 123:v++;break;case 125:v--;break;case 47:switch(p=u.charCodeAt(j+1)){case 42:case 47:e:{for(D=j+1;D<z;++D)switch(u.charCodeAt(D)){case 47:if(42===p&&42===u.charCodeAt(D-1)&&j+2!==D){j=D+1;break e}break;case 10:if(47===p){j=D+1;break e}}j=D}}break;case 91:p++;case 40:p++;case 34:case 39:for(;j++<z&&u.charCodeAt(j)!==p;);}if(0===v)break;j++}if(v=u.substring(U,j),0===d&&(d=(B=B.replace(l,"").trim()).charCodeAt(0)),64===d){switch(0<L&&(B=B.replace(f,"")),p=B.charCodeAt(1)){case 100:case 109:case 115:case 45:L=r;break;default:L=O}if(U=(v=t(r,L,v,p,h+1)).length,0<A&&(k=s(3,v,L=n(O,B,M),r,I,T,U,p,h,c),B=L.join(""),void 0!==k&&0===(U=(v=k.trim()).length)&&(p=0,v="")),0<U)switch(p){case 115:B=B.replace(w,o);case 100:case 109:case 45:v=B+"{"+v+"}";break;case 107:v=(B=B.replace(y,"$1 $2"))+"{"+v+"}",v=1===P||2===P&&a("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=B+v,112===c&&(q+=v,v="")}else v=""}else v=t(r,n(r,B,M),v,c,h+1);H+=v,v=M=L=D=d=0,B="",p=u.charCodeAt(++j);break;case 125:case 59:if(1<(U=(B=(0<L?B.replace(f,""):B).trim()).length))switch(0===D&&(d=B.charCodeAt(0),45===d||96<d&&123>d)&&(U=(B=B.replace(" ",":")).length),0<A&&void 0!==(k=s(1,B,r,e,I,T,q.length,c,h,c))&&0===(U=(B=k.trim()).length)&&(B="\0\0"),d=B.charCodeAt(0),p=B.charCodeAt(1),d){case 0:break;case 64:if(105===p||99===p){W+=B+u.charAt(j);break}default:58!==B.charCodeAt(U-1)&&(q+=i(B,d,p,B.charCodeAt(2)))}M=L=D=d=0,B="",p=u.charCodeAt(++j)}}switch(p){case 13:case 10:47===x?x=0:0===1+d&&107!==c&&0<B.length&&(L=1,B+="\0"),0<A*F&&s(0,B,r,e,I,T,q.length,c,h,c),T=1,I++;break;case 59:case 125:if(0===x+S+C+_){T++;break}default:switch(T++,m=u.charAt(j),p){case 9:case 32:if(0===S+_+x)switch(E){case 44:case 58:case 9:case 32:m="";break;default:32!==p&&(m=" ")}break;case 0:m="\\0";break;case 12:m="\\f";break;case 11:m="\\v";break;case 38:0===S+x+_&&(L=M=1,m="\f"+m);break;case 108:if(0===S+x+_+R&&0<D)switch(j-D){case 2:112===E&&58===u.charCodeAt(j-3)&&(R=E);case 8:111===N&&(R=N)}break;case 58:0===S+x+_&&(D=j);break;case 44:0===x+C+S+_&&(L=1,m+="\r");break;case 34:case 39:0===x&&(S=S===p?0:0===S?p:S);break;case 91:0===S+x+C&&_++;break;case 93:0===S+x+C&&_--;break;case 41:0===S+x+_&&C--;break;case 40:if(0===S+x+_){if(0===d)if(2*E+3*N===533);else d=1;C++}break;case 64:0===x+C+S+_+D+v&&(v=1);break;case 42:case 47:if(!(0<S+_+C))switch(x){case 0:switch(2*p+3*u.charCodeAt(j+1)){case 235:x=47;break;case 220:U=j,x=42}break;case 42:47===p&&42===E&&U+2!==j&&(33===u.charCodeAt(U+2)&&(q+=u.substring(U,j+1)),m="",x=0)}}0===x&&(B+=m)}N=E,E=p,j++}if(0<(U=q.length)){if(L=r,0<A&&(void 0!==(k=s(2,q,L,e,I,T,U,c,h,c))&&0===(q=k).length))return W+q+H;if(q=L.join(",")+"{"+q+"}",0!==P*R){switch(2!==P||a(q,2)||(R=0),R){case 111:q=q.replace(b,":-moz-$1")+q;break;case 112:q=q.replace(g,"::-webkit-input-$1")+q.replace(g,"::-moz-$1")+q.replace(g,":-ms-input-$1")+q}R=0}}return W+q+H}function n(e,t,n){var i=t.trim().split(v);t=i;var a=i.length,o=e.length;switch(o){case 0:case 1:var s=0;for(e=0===o?"":e[0]+" ";s<a;++s)t[s]=r(e,t[s],n).trim();break;default:var u=s=0;for(t=[];s<a;++s)for(var c=0;c<o;++c)t[u++]=r(e[c]+" ",i[s],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(m,"$1"+e.trim());case 58:return e.trim()+t.replace(m,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(m,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var o=e+";",s=2*t+3*n+4*r;if(944===s){e=o.indexOf(":",9)+1;var u=o.substring(e,o.length-1).trim();return u=o.substring(0,e).trim()+u+";",1===P||2===P&&a(u,1)?"-webkit-"+u+u:u}if(0===P||2===P&&!a(o,1))return o;switch(s){case 1015:return 97===o.charCodeAt(10)?"-webkit-"+o+o:o;case 951:return 116===o.charCodeAt(3)?"-webkit-"+o+o:o;case 963:return 110===o.charCodeAt(5)?"-webkit-"+o+o:o;case 1009:if(100!==o.charCodeAt(4))break;case 969:case 942:return"-webkit-"+o+o;case 978:return"-webkit-"+o+"-moz-"+o+o;case 1019:case 983:return"-webkit-"+o+"-moz-"+o+"-ms-"+o+o;case 883:if(45===o.charCodeAt(8))return"-webkit-"+o+o;if(0<o.indexOf("image-set(",11))return o.replace(E,"$1-webkit-$2")+o;break;case 932:if(45===o.charCodeAt(4))switch(o.charCodeAt(5)){case 103:return"-webkit-box-"+o.replace("-grow","")+"-webkit-"+o+"-ms-"+o.replace("grow","positive")+o;case 115:return"-webkit-"+o+"-ms-"+o.replace("shrink","negative")+o;case 98:return"-webkit-"+o+"-ms-"+o.replace("basis","preferred-size")+o}return"-webkit-"+o+"-ms-"+o+o;case 964:return"-webkit-"+o+"-ms-flex-"+o+o;case 1023:if(99!==o.charCodeAt(8))break;return"-webkit-box-pack"+(u=o.substring(o.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+o+"-ms-flex-pack"+u+o;case 1005:return d.test(o)?o.replace(h,":-webkit-")+o.replace(h,":-moz-")+o:o;case 1e3:switch(t=(u=o.substring(13).trim()).indexOf("-")+1,u.charCodeAt(0)+u.charCodeAt(t)){case 226:u=o.replace(k,"tb");break;case 232:u=o.replace(k,"tb-rl");break;case 220:u=o.replace(k,"lr");break;default:return o}return"-webkit-"+o+"-ms-"+u+o;case 1017:if(-1===o.indexOf("sticky",9))break;case 975:switch(t=(o=e).length-10,s=(u=(33===o.charCodeAt(t)?o.substring(0,t):o).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|u.charCodeAt(7))){case 203:if(111>u.charCodeAt(8))break;case 115:o=o.replace(u,"-webkit-"+u)+";"+o;break;case 207:case 102:o=o.replace(u,"-webkit-"+(102<s?"inline-":"")+"box")+";"+o.replace(u,"-webkit-"+u)+";"+o.replace(u,"-ms-"+u+"box")+";"+o}return o+";";case 938:if(45===o.charCodeAt(5))switch(o.charCodeAt(6)){case 105:return u=o.replace("-items",""),"-webkit-"+o+"-webkit-box-"+u+"-ms-flex-"+u+o;case 115:return"-webkit-"+o+"-ms-flex-item-"+o.replace(x,"")+o;default:return"-webkit-"+o+"-ms-flex-line-pack"+o.replace("align-content","").replace(x,"")+o}break;case 973:case 989:if(45!==o.charCodeAt(3)||122===o.charCodeAt(4))break;case 931:case 953:if(!0===S.test(e))return 115===(u=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):o.replace(u,"-webkit-"+u)+o.replace(u,"-moz-"+u.replace("fill-",""))+o;break;case 962:if(o="-webkit-"+o+(102===o.charCodeAt(5)?"-ms-"+o:"")+o,211===n+r&&105===o.charCodeAt(13)&&0<o.indexOf("transform",10))return o.substring(0,o.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+o}return o}function a(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),D(2!==t?r:r.replace(C,"$1"),n,t)}function o(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(_," or ($1)").substring(4):"("+t+")"}function s(e,t,n,r,i,a,o,s,u,l){for(var f,h=0,d=t;h<A;++h)switch(f=N[h].call(c,e,d,n,r,i,a,o,s,u,l)){case void 0:case!1:case!0:case null:break;default:d=f}if(d!==t)return d}function u(e){return void 0!==(e=e.prefix)&&(D=null,e?"function"!==typeof e?P=1:(P=2,D=e):P=0),u}function c(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<A){var i=s(-1,n,r,r,I,T,0,0,0,0);void 0!==i&&"string"===typeof i&&(n=i)}var a=t(O,r,n,0,0);return 0<A&&(void 0!==(i=s(-2,a,r,r,I,T,a.length,0,0,0))&&(a=i)),"",R=0,T=I=1,a}var l=/^\0+/g,f=/[\0\r\f]/g,h=/: */g,d=/zoo|gra/,p=/([,: ])(transform)/g,v=/,\r+?/g,m=/([\t\r\n ])*\f?&/g,y=/@(k\w+)\s*(\S*)\s*/,g=/::(place)/g,b=/:(read-only)/g,k=/[svh]\w+-[tblr]{2}/,w=/\(\s*(.*)\s*\)/g,_=/([\s\S]*?);/g,x=/-self|flex-/g,C=/[^]*?(:[rp][el]a[\w-]+)[^]*/,S=/stretch|:\s*\w+\-(?:conte|avail)/,E=/([^-])(image-set\()/,T=1,I=1,R=0,P=1,O=[],N=[],A=0,D=null,F=0;return c.use=function e(t){switch(t){case void 0:case null:A=N.length=0;break;default:if("function"===typeof t)N[A++]=t;else if("object"===typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else F=0|!!t}return e},c.set=u,void 0!==e&&u(e),c},HP={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var WP=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},GP=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,KP=WP((function(e){return GP.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),$P=KP,QP=n(2110),YP=n.n(QP);function XP(){return(XP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var JP=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},ZP=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,VP.typeOf)(e)},eO=Object.freeze([]),tO=Object.freeze({});function nO(e){return"function"==typeof e}function rO(e){return e.displayName||e.name||"Component"}function iO(e){return e&&"string"==typeof e.styledComponentId}var aO="undefined"!=typeof process&&({NODE_ENV:"production",PUBLIC_URL:"/latrik.ris.interface",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"/latrik.ris.interface",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_ATTR)||"data-styled",oO="undefined"!=typeof window&&"HTMLElement"in window,sO=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/latrik.ris.interface",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/latrik.ris.interface",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"/latrik.ris.interface",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/latrik.ris.interface",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/latrik.ris.interface",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/latrik.ris.interface",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"/latrik.ris.interface",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/latrik.ris.interface",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY));function uO(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var cO=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&uO(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var a=r;a<i;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(e+1),s=0,u=t.length;s<u;s++)this.tag.insertRule(o,t[s])&&(this.groupSizes[e]++,o++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,a=r;a<i;a++)t+=this.tag.getRule(a)+"/*!sc*/\n";return t},e}(),lO=new Map,fO=new Map,hO=1,dO=function(e){if(lO.has(e))return lO.get(e);for(;fO.has(hO);)hO++;var t=hO++;return lO.set(e,t),fO.set(t,e),t},pO=function(e){return fO.get(e)},vO=function(e,t){t>=hO&&(hO=t+1),lO.set(e,t),fO.set(t,e)},mO="style["+aO+'][data-styled-version="5.3.6"]',yO=new RegExp("^"+aO+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),gO=function(e,t,n){for(var r,i=n.split(","),a=0,o=i.length;a<o;a++)(r=i[a])&&e.registerName(t,r)},bO=function(e,t){for(var n=(t.textContent||"").split("/*!sc*/\n"),r=[],i=0,a=n.length;i<a;i++){var o=n[i].trim();if(o){var s=o.match(yO);if(s){var u=0|parseInt(s[1],10),c=s[2];0!==u&&(vO(c,u),gO(e,c,s[3]),e.getTag().insertRules(u,r)),r.length=0}else r.push(o)}}},kO=function(){return n.nc},wO=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(aO))return r}}(n),a=void 0!==i?i.nextSibling:null;r.setAttribute(aO,"active"),r.setAttribute("data-styled-version","5.3.6");var o=kO();return o&&r.setAttribute("nonce",o),n.insertBefore(r,a),r},_O=function(){function e(e){var t=this.element=wO(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}uO(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),xO=function(){function e(e){var t=this.element=wO(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),CO=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),SO=oO,EO={isServer:!oO,useCSSOMInjection:!sO},TO=function(){function e(e,t,n){void 0===e&&(e=tO),void 0===t&&(t={}),this.options=XP({},EO,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&oO&&SO&&(SO=!1,function(e){for(var t=document.querySelectorAll(mO),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(aO)&&(bO(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return dO(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(XP({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new CO(i):r?new _O(i):new xO(i),new cO(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(dO(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(dO(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(dO(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var a=pO(i);if(void 0!==a){var o=e.names.get(a),s=t.getGroup(i);if(o&&s&&o.size){var u=aO+".g"+i+'[id="'+a+'"]',c="";void 0!==o&&o.forEach((function(e){e.length>0&&(c+=e+",")})),r+=""+s+u+'{content:"'+c+'"}/*!sc*/\n'}}}return r}(this)},e}(),IO=/(a)(d)/gi,RO=function(e){return String.fromCharCode(e+(e>25?39:97))};function PO(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=RO(t%52)+n;return(RO(t%52)+n).replace(IO,"$1-$2")}var OO=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},NO=function(e){return OO(5381,e)};function AO(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(nO(n)&&!iO(n))return!1}return!0}var DO=NO("5.3.6"),FO=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&AO(e),this.componentId=t,this.baseHash=OO(DO,t),this.baseStyle=n,TO.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var a=ZO(this.rules,e,t,n).join(""),o=PO(OO(this.baseHash,a)>>>0);if(!t.hasNameForId(r,o)){var s=n(a,"."+o,void 0,r);t.insertRules(r,o,s)}i.push(o),this.staticRulesId=o}else{for(var u=this.rules.length,c=OO(this.baseHash,n.hash),l="",f=0;f<u;f++){var h=this.rules[f];if("string"==typeof h)l+=h;else if(h){var d=ZO(h,e,t,n),p=Array.isArray(d)?d.join(""):d;c=OO(c,p+f),l+=p}}if(l){var v=PO(c>>>0);if(!t.hasNameForId(r,v)){var m=n(l,"."+v,void 0,r);t.insertRules(r,v,m)}i.push(v)}}return i.join(" ")},e}(),jO=/^\s*\/\/.*$/gm,LO=[":","[",".","#"];function MO(e){var t,n,r,i,a=void 0===e?tO:e,o=a.options,s=void 0===o?tO:o,u=a.plugins,c=void 0===u?eO:u,l=new qP(s),f=[],h=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,a,o,s,u,c,l,f){switch(n){case 1:if(0===l&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===c)return r+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(i[0]+r),"";default:return r+(0===f?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){f.push(e)})),d=function(e,r,a){return 0===r&&-1!==LO.indexOf(a[n.length])||a.match(i)?e:"."+t};function p(e,a,o,s){void 0===s&&(s="&");var u=e.replace(jO,""),c=a&&o?o+" "+a+" { "+u+" }":u;return t=s,n=a,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),l(o||!a?"":a,c)}return l.use([].concat(c,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,d))},h,function(e){if(-2===e){var t=f;return f=[],t}}])),p.hash=c.length?c.reduce((function(e,t){return t.name||uO(15),OO(e,t.name)}),5381).toString():"",p}var UO=e.createContext(),VO=(UO.Consumer,e.createContext()),zO=(VO.Consumer,new TO),BO=MO();function qO(){return(0,e.useContext)(UO)||zO}function HO(){return(0,e.useContext)(VO)||BO}function WO(t){var n=(0,e.useState)(t.stylisPlugins),r=n[0],i=n[1],a=qO(),o=(0,e.useMemo)((function(){var e=a;return t.sheet?e=t.sheet:t.target&&(e=e.reconstructWithOptions({target:t.target},!1)),t.disableCSSOMInjection&&(e=e.reconstructWithOptions({useCSSOMInjection:!1})),e}),[t.disableCSSOMInjection,t.sheet,t.target]),s=(0,e.useMemo)((function(){return MO({options:{prefix:!t.disableVendorPrefixes},plugins:r})}),[t.disableVendorPrefixes,r]);return(0,e.useEffect)((function(){BP()(r,t.stylisPlugins)||i(t.stylisPlugins)}),[t.stylisPlugins]),e.createElement(UO.Provider,{value:o},e.createElement(VO.Provider,{value:s},t.children))}var GO=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=BO);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return uO(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=BO),this.name+e.hash},e}(),KO=/([A-Z])/,$O=/([A-Z])/g,QO=/^ms-/,YO=function(e){return"-"+e.toLowerCase()};function XO(e){return KO.test(e)?e.replace($O,YO).replace(QO,"-ms-"):e}var JO=function(e){return null==e||!1===e||""===e};function ZO(e,t,n,r){if(Array.isArray(e)){for(var i,a=[],o=0,s=e.length;o<s;o+=1)""!==(i=ZO(e[o],t,n,r))&&(Array.isArray(i)?a.push.apply(a,i):a.push(i));return a}return JO(e)?"":iO(e)?"."+e.styledComponentId:nO(e)?"function"!=typeof(u=e)||u.prototype&&u.prototype.isReactComponent||!t?e:ZO(e(t),t,n,r):e instanceof GO?n?(e.inject(n,r),e.getName(r)):e:ZP(e)?function e(t,n){var r,i,a=[];for(var o in t)t.hasOwnProperty(o)&&!JO(t[o])&&(Array.isArray(t[o])&&t[o].isCss||nO(t[o])?a.push(XO(o)+":",t[o],";"):ZP(t[o])?a.push.apply(a,e(t[o],o)):a.push(XO(o)+": "+(r=o,(null==(i=t[o])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in HP?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(a,["}"]):a}(e):e.toString();var u}var eN=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function tN(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return nO(e)||ZP(e)?eN(ZO(JP(eO,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:eN(ZO(JP(e,n)))}new Set;var nN=function(e,t,n){return void 0===n&&(n=tO),e.theme!==n.theme&&e.theme||t||n.theme},rN=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,iN=/(^-|-$)/g;function aN(e){return e.replace(rN,"-").replace(iN,"")}var oN=function(e){return PO(NO(e)>>>0)};function sN(e){return"string"==typeof e&&!0}var uN=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},cN=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function lN(e,t,n){var r=e[n];uN(t)&&uN(r)?fN(r,t):e[n]=t}function fN(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];if(uN(o))for(var s in o)cN(s)&&lN(e,o[s],s)}return e}var hN=e.createContext();hN.Consumer;var dN={};function pN(t,n,r){var i=iO(t),a=!sN(t),o=n.attrs,s=void 0===o?eO:o,u=n.componentId,c=void 0===u?function(e,t){var n="string"!=typeof e?"sc":aN(e);dN[n]=(dN[n]||0)+1;var r=n+"-"+oN("5.3.6"+n+dN[n]);return t?t+"-"+r:r}(n.displayName,n.parentComponentId):u,l=n.displayName,f=void 0===l?function(e){return sN(e)?"styled."+e:"Styled("+rO(e)+")"}(t):l,h=n.displayName&&n.componentId?aN(n.displayName)+"-"+n.componentId:n.componentId||c,d=i&&t.attrs?Array.prototype.concat(t.attrs,s).filter(Boolean):s,p=n.shouldForwardProp;i&&t.shouldForwardProp&&(p=n.shouldForwardProp?function(e,r,i){return t.shouldForwardProp(e,r,i)&&n.shouldForwardProp(e,r,i)}:t.shouldForwardProp);var v,m=new FO(r,h,i?t.componentStyle:void 0),y=m.isStatic&&0===s.length,g=function(t,n){return function(t,n,r,i){var a=t.attrs,o=t.componentStyle,s=t.defaultProps,u=t.foldedComponentIds,c=t.shouldForwardProp,l=t.styledComponentId,f=t.target,h=function(e,t,n){void 0===e&&(e=tO);var r=XP({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,a,o=e;for(t in nO(o)&&(o=o(r)),o)r[t]=i[t]="className"===t?(n=i[t],a=o[t],n&&a?n+" "+a:n||a):o[t]})),[r,i]}(nN(n,(0,e.useContext)(hN),s)||tO,n,a),d=h[0],p=h[1],v=function(e,t,n,r){var i=qO(),a=HO();return t?e.generateAndInjectStyles(tO,i,a):e.generateAndInjectStyles(n,i,a)}(o,i,d),m=r,y=p.$as||n.$as||p.as||n.as||f,g=sN(y),b=p!==n?XP({},n,{},p):n,k={};for(var w in b)"$"!==w[0]&&"as"!==w&&("forwardedAs"===w?k.as=b[w]:(c?c(w,$P,y):!g||$P(w))&&(k[w]=b[w]));return n.style&&p.style!==n.style&&(k.style=XP({},n.style,{},p.style)),k.className=Array.prototype.concat(u,l,v!==l?v:null,n.className,p.className).filter(Boolean).join(" "),k.ref=m,(0,e.createElement)(y,k)}(v,t,n,y)};return g.displayName=f,(v=e.forwardRef(g)).attrs=d,v.componentStyle=m,v.displayName=f,v.shouldForwardProp=p,v.foldedComponentIds=i?Array.prototype.concat(t.foldedComponentIds,t.styledComponentId):eO,v.styledComponentId=h,v.target=i?t.target:t,v.withComponent=function(e){var t=n.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(n,["componentId"]),a=t&&t+"-"+(sN(e)?e:aN(rO(e)));return pN(e,XP({},i,{attrs:d,componentId:a}),r)},Object.defineProperty(v,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(e){this._foldedDefaultProps=i?fN({},t.defaultProps,e):e}}),v.toString=function(){return"."+v.styledComponentId},a&&YP()(v,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),v}var vN=function(e){return function e(t,n,r){if(void 0===r&&(r=tO),!(0,VP.isValidElementType)(n))return uO(1,String(n));var i=function(){return t(n,r,tN.apply(void 0,arguments))};return i.withConfig=function(i){return e(t,n,XP({},r,{},i))},i.attrs=function(i){return e(t,n,XP({},r,{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},i}(pN,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){vN[e]=vN(e)}));!function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=AO(e),TO.registerId(this.componentId+1)}var t=e.prototype;t.createStyles=function(e,t,n,r){var i=r(ZO(this.rules,t,n,r).join(""),""),a=this.componentId+e;n.insertRules(a,a,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&TO.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)}}();function mN(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=tN.apply(void 0,[e].concat(n)).join(""),a=oN(i);return new GO(a,i)}!function(){function t(){var t=this;this._emitSheetCSS=function(){var e=t.instance.toString();if(!e)return"";var n=kO();return"<style "+[n&&'nonce="'+n+'"',aO+'="true"','data-styled-version="5.3.6"'].filter(Boolean).join(" ")+">"+e+"</style>"},this.getStyleTags=function(){return t.sealed?uO(2):t._emitSheetCSS()},this.getStyleElement=function(){var n;if(t.sealed)return uO(2);var r=((n={})[aO]="",n["data-styled-version"]="5.3.6",n.dangerouslySetInnerHTML={__html:t.instance.toString()},n),i=kO();return i&&(r.nonce=i),[e.createElement("style",XP({},r,{key:"sc-0-0"}))]},this.seal=function(){t.sealed=!0},this.instance=new TO({isServer:!0}),this.sealed=!1}var n=t.prototype;n.collectStyles=function(t){return this.sealed?uO(2):e.createElement(WO,{sheet:this.instance},t)},n.interleaveWithNodeStream=function(e){return uO(3)}}();var yN,gN,bN=vN,kN=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},wN=242.776657104492,_N=mN(yN||(yN=kN(["\n  12.5% {\n    stroke-dasharray: ","px, ","px;\n    stroke-dashoffset: -","px;\n  }\n  43.75% {\n    stroke-dasharray: ","px, ","px;\n    stroke-dashoffset: -","px;\n  }\n  100% {\n    stroke-dasharray: ","px, ","px;\n    stroke-dashoffset: -","px;\n  }\n"],["\n  12.5% {\n    stroke-dasharray: ","px, ","px;\n    stroke-dashoffset: -","px;\n  }\n  43.75% {\n    stroke-dasharray: ","px, ","px;\n    stroke-dashoffset: -","px;\n  }\n  100% {\n    stroke-dasharray: ","px, ","px;\n    stroke-dashoffset: -","px;\n  }\n"])),.14*wN,wN,.11*wN,.35*wN,wN,.35*wN,.01*wN,wN,.99*wN),xN=(bN.path(gN||(gN=kN(["\n  stroke-dasharray: ","px, ",";\n  stroke-dashoffset: 0;\n  animation: "," ","s linear infinite;\n"],["\n  stroke-dasharray: ","px, ",";\n  stroke-dashoffset: 0;\n  animation: "," ","s linear infinite;\n"])),.01*wN,wN,_N,1.6),function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("undefined"!==typeof n[e])return n[e];if(e&&e.indexOf(".")>0){for(var r=e.split("."),i=r.length,a=n[r[0]],o=1;null!=a&&o<i;)a=a[r[o]],o+=1;if("undefined"!==typeof a)return a}return t}});var CN,SN,EN,TN=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},IN=mN(CN||(CN=TN(["\n to {\n    transform: rotate(360deg);\n  }\n"],["\n to {\n    transform: rotate(360deg);\n  }\n"])));bN.svg(SN||(SN=TN(["\n  animation: "," 0.75s steps(12, end) infinite;\n  animation-duration: ","s;\n"],["\n  animation: "," 0.75s steps(12, end) infinite;\n  animation-duration: ","s;\n"])),IN,xN("speed","0.75")),bN.polyline(EN||(EN=TN(["\n  stroke-width: ","px;\n  stroke-linecap: round;\n\n  &:nth-child(12n + 0) {\n    stroke-opacity: 0.08;\n  }\n\n  &:nth-child(12n + 1) {\n    stroke-opacity: 0.17;\n  }\n\n  &:nth-child(12n + 2) {\n    stroke-opacity: 0.25;\n  }\n\n  &:nth-child(12n + 3) {\n    stroke-opacity: 0.33;\n  }\n\n  &:nth-child(12n + 4) {\n    stroke-opacity: 0.42;\n  }\n\n  &:nth-child(12n + 5) {\n    stroke-opacity: 0.5;\n  }\n\n  &:nth-child(12n + 6) {\n    stroke-opacity: 0.58;\n  }\n\n  &:nth-child(12n + 7) {\n    stroke-opacity: 0.66;\n  }\n\n  &:nth-child(12n + 8) {\n    stroke-opacity: 0.75;\n  }\n\n  &:nth-child(12n + 9) {\n    stroke-opacity: 0.83;\n  }\n\n  &:nth-child(12n + 11) {\n    stroke-opacity: 0.92;\n  }\n"],["\n  stroke-width: ","px;\n  stroke-linecap: round;\n\n  &:nth-child(12n + 0) {\n    stroke-opacity: 0.08;\n  }\n\n  &:nth-child(12n + 1) {\n    stroke-opacity: 0.17;\n  }\n\n  &:nth-child(12n + 2) {\n    stroke-opacity: 0.25;\n  }\n\n  &:nth-child(12n + 3) {\n    stroke-opacity: 0.33;\n  }\n\n  &:nth-child(12n + 4) {\n    stroke-opacity: 0.42;\n  }\n\n  &:nth-child(12n + 5) {\n    stroke-opacity: 0.5;\n  }\n\n  &:nth-child(12n + 6) {\n    stroke-opacity: 0.58;\n  }\n\n  &:nth-child(12n + 7) {\n    stroke-opacity: 0.66;\n  }\n\n  &:nth-child(12n + 8) {\n    stroke-opacity: 0.75;\n  }\n\n  &:nth-child(12n + 9) {\n    stroke-opacity: 0.83;\n  }\n\n  &:nth-child(12n + 11) {\n    stroke-opacity: 0.92;\n  }\n"])),(function(e){return e.width}));var RN,PN,ON,NN=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},AN=mN(RN||(RN=NN(["\n to {\n    stroke-dashoffset: 136;\n  }\n"],["\n to {\n    stroke-dashoffset: 136;\n  }\n"]))),DN=(bN.polygon(PN||(PN=NN(["\n  stroke-dasharray: 17;\n  animation: "," 2.5s cubic-bezier(0.35, 0.04, 0.63, 0.95) infinite;\n"],["\n  stroke-dasharray: 17;\n  animation: "," 2.5s cubic-bezier(0.35, 0.04, 0.63, 0.95) infinite;\n"])),AN),bN.svg(ON||(ON=NN(["\n  transform-origin: 50% 65%;\n"],["\n  transform-origin: 50% 65%;\n"]))),function(e){return{display:e?"flex":"none"}}),FN=function(){return FN=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},FN.apply(this,arguments)},jN=function(t){var n=t.height,r=void 0===n?80:n,i=t.width,a=void 0===i?80:i,o=t.radius,s=void 0===o?48:o,u=t.color,c=void 0===u?"#4fa94d":u,l=t.ariaLabel,f=void 0===l?"watch-loading":l,h=t.wrapperStyle,d=t.wrapperClass,p=t.visible,v=void 0===p||p;return e.createElement("div",FN({style:FN(FN({},DN(v)),h),className:d,"data-testid":"watch-loading","aria-label":f},UP),e.createElement("svg",{width:a,height:r,version:"1.1",id:"L2",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 100 100",enableBackground:"new 0 0 100 100",xmlSpace:"preserve","data-testid":"watch-svg"},e.createElement("circle",{fill:"none",stroke:c,strokeWidth:"4",strokeMiterlimit:"10",cx:"50",cy:"50",r:s}),e.createElement("line",{fill:"none",strokeLinecap:"round",stroke:c,strokeWidth:"4",strokeMiterlimit:"10",x1:"50",y1:"50",x2:"85",y2:"50.5"},e.createElement("animateTransform",{attributeName:"transform",dur:"2s",type:"rotate",from:"0 50 50",to:"360 50 50",repeatCount:"indefinite"})),e.createElement("line",{fill:"none",strokeLinecap:"round",stroke:c,strokeWidth:"4",strokeMiterlimit:"10",x1:"50",y1:"50",x2:"49.5",y2:"74"},e.createElement("animateTransform",{attributeName:"transform",dur:"15s",type:"rotate",from:"0 50 50",to:"360 50 50",repeatCount:"indefinite"}))))};var LN=function(e){var t=e.isLoading;return(0,wP.jsx)(wP.Fragment,{children:!0===t&&(0,wP.jsx)("div",{className:"modal",children:(0,wP.jsx)("div",{className:"w-fit h-fit bg-tertiary rounded-3xl p-3",children:(0,wP.jsx)(jN,{height:"80",width:"80",radius:"48",color:"#000",ariaLabel:"loading",visible:!0})})})})};var MN=function(){var t,n=vR().state.studyId,r=nI(O_(Q_(),"Studies",n)),i=d(e.useState(),2),a=i[0],o=i[1],s=d(e.useState(!1),2),u=s[0],c=s[1];return(0,e.useEffect)((function(){n&&(c(!0),n&&r.data&&(o(r.data),c(!1)))}),[r.data,n]),(0,wP.jsxs)(wP.Fragment,{children:[(0,wP.jsx)(OP,{goTo:"/StudyList"}),(0,wP.jsxs)("section",{className:"mb-6 max-w-7xl mx-auto text-shadow",children:[(0,wP.jsx)("h3",{className:"font-bold text-4xl",children:"Resumen de estudio "}),a&&a.patient&&(0,wP.jsxs)("div",{children:[(0,wP.jsxs)("section",{className:"bg-secondary rounded-[30px] my-10  py-16 px-10  shadow-buttonShadow text-2xl",children:[(0,wP.jsxs)("div",{className:"flex justify-between items-center mb-5",children:[(0,wP.jsxs)("div",{children:[(0,wP.jsx)("h3",{className:"font-bold text-6xl text-black",children:a.patient.name}),(0,wP.jsxs)("p",{className:"text-xl mt-3",children:[(0,wP.jsxs)("label",{className:"font-bold",children:["Documento de identidad:"," "]}),a.patient.patientId]})]}),(0,wP.jsx)("div",{className:"bg-success h-16 w-64 rounded-[20px] flex justify-center items-center  text-white text-3xl font-extrabold shadow-buttonShadow text-shadow-none",children:a.priority})]}),(0,wP.jsxs)("div",{className:"grid grid-cols-2",children:[(0,wP.jsx)("div",{className:"col-span-1",children:(0,wP.jsxs)("div",{children:[(0,wP.jsxs)("p",{children:[(0,wP.jsx)("label",{className:"font-bold",children:"G\xe9nero: "}),a.patient.gender]}),(0,wP.jsxs)("p",{children:[(0,wP.jsxs)("label",{className:"font-bold",children:["Fecha de nacimiento:"," "]}),null===(t=a.patient.birthDate)||void 0===t?void 0:t.toString()]}),(0,wP.jsxs)("p",{children:[(0,wP.jsx)("label",{className:"font-bold",children:"Edad: "}),"24"]}),(0,wP.jsxs)("p",{children:[(0,wP.jsx)("label",{className:"font-bold",children:"Alergias: "}),a.patient.allergies?a.patient.allergies:"Sin detalles"]}),(0,wP.jsxs)("p",{children:[(0,wP.jsxs)("label",{className:"font-bold",children:["Condici\xf3n m\xe9dica:"," "]}),a.patient.medicalCondition?a.patient.medicalCondition:"Sin detalles"]})]})}),(0,wP.jsxs)("div",{className:"col-span-1 ml-5",children:[(0,wP.jsxs)("p",{children:[(0,wP.jsx)("label",{className:"font-bold",children:"Fecha de estudio: "}),a.studyDate]}),(0,wP.jsxs)("p",{children:[(0,wP.jsx)("label",{className:"font-bold",children:"Modalidad: "}),a.modality]}),(0,wP.jsxs)("p",{children:[(0,wP.jsx)("label",{className:"font-bold",children:"Procedimiento: "}),a.procedure]})]})]})]}),(0,wP.jsx)("div",{className:"text-end",children:(0,wP.jsx)("button",{className:"filledPrimary text-4xl font-bold w-fit h-20 px-5 py-3 rounded-xl",type:"button",title:"Finalizar estudio",children:"Finalizar estudio"})})]})]}),(0,wP.jsx)(LN,{isLoading:u})]})},UN=n(77),VN=n.n(UN),zN=function(e){return function(e){return!!e&&"object"===typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===BN}(e)}(e)};var BN="function"===typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function qN(e,t){return!1!==t.clone&&t.isMergeableObject(e)?WN(function(e){return Array.isArray(e)?[]:{}}(e),e,t):e}function HN(e,t,n){return e.concat(t).map((function(e){return qN(e,n)}))}function WN(e,t,n){(n=n||{}).arrayMerge=n.arrayMerge||HN,n.isMergeableObject=n.isMergeableObject||zN;var r=Array.isArray(t);return r===Array.isArray(e)?r?n.arrayMerge(e,t,n):function(e,t,n){var r={};return n.isMergeableObject(e)&&Object.keys(e).forEach((function(t){r[t]=qN(e[t],n)})),Object.keys(t).forEach((function(i){n.isMergeableObject(t[i])&&e[i]?r[i]=WN(e[i],t[i],n):r[i]=qN(t[i],n)})),r}(e,t,n):qN(t,n)}WN.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return WN(e,n,t)}),{})};var GN=WN,KN="object"==typeof global&&global&&global.Object===Object&&global,$N="object"==typeof self&&self&&self.Object===Object&&self,QN=KN||$N||Function("return this")(),YN=QN.Symbol,XN=Object.prototype,JN=XN.hasOwnProperty,ZN=XN.toString,eA=YN?YN.toStringTag:void 0;var tA=function(e){var t=JN.call(e,eA),n=e[eA];try{e[eA]=void 0;var r=!0}catch(zT){}var i=ZN.call(e);return r&&(t?e[eA]=n:delete e[eA]),i},nA=Object.prototype.toString;var rA=function(e){return nA.call(e)},iA=YN?YN.toStringTag:void 0;var aA=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":iA&&iA in Object(e)?tA(e):rA(e)};var oA=function(e,t){return function(n){return e(t(n))}},sA=oA(Object.getPrototypeOf,Object);var uA=function(e){return null!=e&&"object"==typeof e},cA=Function.prototype,lA=Object.prototype,fA=cA.toString,hA=lA.hasOwnProperty,dA=fA.call(Object);var pA=function(e){if(!uA(e)||"[object Object]"!=aA(e))return!1;var t=sA(e);if(null===t)return!0;var n=hA.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&fA.call(n)==dA};var vA=function(){this.__data__=[],this.size=0};var mA=function(e,t){return e===t||e!==e&&t!==t};var yA=function(e,t){for(var n=e.length;n--;)if(mA(e[n][0],t))return n;return-1},gA=Array.prototype.splice;var bA=function(e){var t=this.__data__,n=yA(t,e);return!(n<0)&&(n==t.length-1?t.pop():gA.call(t,n,1),--this.size,!0)};var kA=function(e){var t=this.__data__,n=yA(t,e);return n<0?void 0:t[n][1]};var wA=function(e){return yA(this.__data__,e)>-1};var _A=function(e,t){var n=this.__data__,r=yA(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function xA(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}xA.prototype.clear=vA,xA.prototype.delete=bA,xA.prototype.get=kA,xA.prototype.has=wA,xA.prototype.set=_A;var CA=xA;var SA=function(){this.__data__=new CA,this.size=0};var EA=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};var TA=function(e){return this.__data__.get(e)};var IA=function(e){return this.__data__.has(e)};var RA=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var PA=function(e){if(!RA(e))return!1;var t=aA(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},OA=QN["__core-js_shared__"],NA=function(){var e=/[^.]+$/.exec(OA&&OA.keys&&OA.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var AA=function(e){return!!NA&&NA in e},DA=Function.prototype.toString;var FA=function(e){if(null!=e){try{return DA.call(e)}catch(zT){}try{return e+""}catch(zT){}}return""},jA=/^\[object .+?Constructor\]$/,LA=Function.prototype,MA=Object.prototype,UA=LA.toString,VA=MA.hasOwnProperty,zA=RegExp("^"+UA.call(VA).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var BA=function(e){return!(!RA(e)||AA(e))&&(PA(e)?zA:jA).test(FA(e))};var qA=function(e,t){return null==e?void 0:e[t]};var HA=function(e,t){var n=qA(e,t);return BA(n)?n:void 0},WA=HA(QN,"Map"),GA=HA(Object,"create");var KA=function(){this.__data__=GA?GA(null):{},this.size=0};var $A=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},QA=Object.prototype.hasOwnProperty;var YA=function(e){var t=this.__data__;if(GA){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return QA.call(t,e)?t[e]:void 0},XA=Object.prototype.hasOwnProperty;var JA=function(e){var t=this.__data__;return GA?void 0!==t[e]:XA.call(t,e)};var ZA=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=GA&&void 0===t?"__lodash_hash_undefined__":t,this};function eD(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}eD.prototype.clear=KA,eD.prototype.delete=$A,eD.prototype.get=YA,eD.prototype.has=JA,eD.prototype.set=ZA;var tD=eD;var nD=function(){this.size=0,this.__data__={hash:new tD,map:new(WA||CA),string:new tD}};var rD=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var iD=function(e,t){var n=e.__data__;return rD(t)?n["string"==typeof t?"string":"hash"]:n.map};var aD=function(e){var t=iD(this,e).delete(e);return this.size-=t?1:0,t};var oD=function(e){return iD(this,e).get(e)};var sD=function(e){return iD(this,e).has(e)};var uD=function(e,t){var n=iD(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function cD(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}cD.prototype.clear=nD,cD.prototype.delete=aD,cD.prototype.get=oD,cD.prototype.has=sD,cD.prototype.set=uD;var lD=cD;var fD=function(e,t){var n=this.__data__;if(n instanceof CA){var r=n.__data__;if(!WA||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new lD(r)}return n.set(e,t),this.size=n.size,this};function hD(e){var t=this.__data__=new CA(e);this.size=t.size}hD.prototype.clear=SA,hD.prototype.delete=EA,hD.prototype.get=TA,hD.prototype.has=IA,hD.prototype.set=fD;var dD=hD;var pD=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e},vD=function(){try{var e=HA(Object,"defineProperty");return e({},"",{}),e}catch(zT){}}();var mD=function(e,t,n){"__proto__"==t&&vD?vD(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},yD=Object.prototype.hasOwnProperty;var gD=function(e,t,n){var r=e[t];yD.call(e,t)&&mA(r,n)&&(void 0!==n||t in e)||mD(e,t,n)};var bD=function(e,t,n,r){var i=!n;n||(n={});for(var a=-1,o=t.length;++a<o;){var s=t[a],u=r?r(n[s],e[s],s,n,e):void 0;void 0===u&&(u=e[s]),i?mD(n,s,u):gD(n,s,u)}return n};var kD=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r};var wD=function(e){return uA(e)&&"[object Arguments]"==aA(e)},_D=Object.prototype,xD=_D.hasOwnProperty,CD=_D.propertyIsEnumerable,SD=wD(function(){return arguments}())?wD:function(e){return uA(e)&&xD.call(e,"callee")&&!CD.call(e,"callee")},ED=SD,TD=Array.isArray;var ID=function(){return!1},RD="object"==typeof exports&&exports&&!exports.nodeType&&exports,PD=RD&&"object"==typeof module&&module&&!module.nodeType&&module,OD=PD&&PD.exports===RD?QN.Buffer:void 0,ND=(OD?OD.isBuffer:void 0)||ID,AD=/^(?:0|[1-9]\d*)$/;var DD=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&AD.test(e))&&e>-1&&e%1==0&&e<t};var FD=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},jD={};jD["[object Float32Array]"]=jD["[object Float64Array]"]=jD["[object Int8Array]"]=jD["[object Int16Array]"]=jD["[object Int32Array]"]=jD["[object Uint8Array]"]=jD["[object Uint8ClampedArray]"]=jD["[object Uint16Array]"]=jD["[object Uint32Array]"]=!0,jD["[object Arguments]"]=jD["[object Array]"]=jD["[object ArrayBuffer]"]=jD["[object Boolean]"]=jD["[object DataView]"]=jD["[object Date]"]=jD["[object Error]"]=jD["[object Function]"]=jD["[object Map]"]=jD["[object Number]"]=jD["[object Object]"]=jD["[object RegExp]"]=jD["[object Set]"]=jD["[object String]"]=jD["[object WeakMap]"]=!1;var LD=function(e){return uA(e)&&FD(e.length)&&!!jD[aA(e)]};var MD=function(e){return function(t){return e(t)}},UD="object"==typeof exports&&exports&&!exports.nodeType&&exports,VD=UD&&"object"==typeof module&&module&&!module.nodeType&&module,zD=VD&&VD.exports===UD&&KN.process,BD=function(){try{var e=VD&&VD.require&&VD.require("util").types;return e||zD&&zD.binding&&zD.binding("util")}catch(zT){}}(),qD=BD&&BD.isTypedArray,HD=qD?MD(qD):LD,WD=Object.prototype.hasOwnProperty;var GD=function(e,t){var n=TD(e),r=!n&&ED(e),i=!n&&!r&&ND(e),a=!n&&!r&&!i&&HD(e),o=n||r||i||a,s=o?kD(e.length,String):[],u=s.length;for(var c in e)!t&&!WD.call(e,c)||o&&("length"==c||i&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||DD(c,u))||s.push(c);return s},KD=Object.prototype;var $D=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||KD)},QD=oA(Object.keys,Object),YD=Object.prototype.hasOwnProperty;var XD=function(e){if(!$D(e))return QD(e);var t=[];for(var n in Object(e))YD.call(e,n)&&"constructor"!=n&&t.push(n);return t};var JD=function(e){return null!=e&&FD(e.length)&&!PA(e)};var ZD=function(e){return JD(e)?GD(e):XD(e)};var eF=function(e,t){return e&&bD(t,ZD(t),e)};var tF=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t},nF=Object.prototype.hasOwnProperty;var rF=function(e){if(!RA(e))return tF(e);var t=$D(e),n=[];for(var r in e)("constructor"!=r||!t&&nF.call(e,r))&&n.push(r);return n};var iF=function(e){return JD(e)?GD(e,!0):rF(e)};var aF=function(e,t){return e&&bD(t,iF(t),e)},oF="object"==typeof exports&&exports&&!exports.nodeType&&exports,sF=oF&&"object"==typeof module&&module&&!module.nodeType&&module,uF=sF&&sF.exports===oF?QN.Buffer:void 0,cF=uF?uF.allocUnsafe:void 0;var lF=function(e,t){if(t)return e.slice();var n=e.length,r=cF?cF(n):new e.constructor(n);return e.copy(r),r};var fF=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t};var hF=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a};var dF=function(){return[]},pF=Object.prototype.propertyIsEnumerable,vF=Object.getOwnPropertySymbols,mF=vF?function(e){return null==e?[]:(e=Object(e),hF(vF(e),(function(t){return pF.call(e,t)})))}:dF,yF=mF;var gF=function(e,t){return bD(e,yF(e),t)};var bF=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e},kF=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)bF(t,yF(e)),e=sA(e);return t}:dF,wF=kF;var _F=function(e,t){return bD(e,wF(e),t)};var xF=function(e,t,n){var r=t(e);return TD(e)?r:bF(r,n(e))};var CF=function(e){return xF(e,ZD,yF)};var SF=function(e){return xF(e,iF,wF)},EF=HA(QN,"DataView"),TF=HA(QN,"Promise"),IF=HA(QN,"Set"),RF=HA(QN,"WeakMap"),PF="[object Map]",OF="[object Promise]",NF="[object Set]",AF="[object WeakMap]",DF="[object DataView]",FF=FA(EF),jF=FA(WA),LF=FA(TF),MF=FA(IF),UF=FA(RF),VF=aA;(EF&&VF(new EF(new ArrayBuffer(1)))!=DF||WA&&VF(new WA)!=PF||TF&&VF(TF.resolve())!=OF||IF&&VF(new IF)!=NF||RF&&VF(new RF)!=AF)&&(VF=function(e){var t=aA(e),n="[object Object]"==t?e.constructor:void 0,r=n?FA(n):"";if(r)switch(r){case FF:return DF;case jF:return PF;case LF:return OF;case MF:return NF;case UF:return AF}return t});var zF=VF,BF=Object.prototype.hasOwnProperty;var qF=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&BF.call(e,"index")&&(n.index=e.index,n.input=e.input),n},HF=QN.Uint8Array;var WF=function(e){var t=new e.constructor(e.byteLength);return new HF(t).set(new HF(e)),t};var GF=function(e,t){var n=t?WF(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)},KF=/\w*$/;var $F=function(e){var t=new e.constructor(e.source,KF.exec(e));return t.lastIndex=e.lastIndex,t},QF=YN?YN.prototype:void 0,YF=QF?QF.valueOf:void 0;var XF=function(e){return YF?Object(YF.call(e)):{}};var JF=function(e,t){var n=t?WF(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)};var ZF=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return WF(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return GF(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return JF(e,n);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return $F(e);case"[object Symbol]":return XF(e)}},ej=Object.create,tj=function(){function e(){}return function(t){if(!RA(t))return{};if(ej)return ej(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),nj=tj;var rj=function(e){return"function"!=typeof e.constructor||$D(e)?{}:nj(sA(e))};var ij=function(e){return uA(e)&&"[object Map]"==zF(e)},aj=BD&&BD.isMap,oj=aj?MD(aj):ij;var sj=function(e){return uA(e)&&"[object Set]"==zF(e)},uj=BD&&BD.isSet,cj=uj?MD(uj):sj,lj="[object Arguments]",fj="[object Function]",hj="[object Object]",dj={};dj[lj]=dj["[object Array]"]=dj["[object ArrayBuffer]"]=dj["[object DataView]"]=dj["[object Boolean]"]=dj["[object Date]"]=dj["[object Float32Array]"]=dj["[object Float64Array]"]=dj["[object Int8Array]"]=dj["[object Int16Array]"]=dj["[object Int32Array]"]=dj["[object Map]"]=dj["[object Number]"]=dj[hj]=dj["[object RegExp]"]=dj["[object Set]"]=dj["[object String]"]=dj["[object Symbol]"]=dj["[object Uint8Array]"]=dj["[object Uint8ClampedArray]"]=dj["[object Uint16Array]"]=dj["[object Uint32Array]"]=!0,dj["[object Error]"]=dj[fj]=dj["[object WeakMap]"]=!1;var pj=function e(t,n,r,i,a,o){var s,u=1&n,c=2&n,l=4&n;if(r&&(s=a?r(t,i,a,o):r(t)),void 0!==s)return s;if(!RA(t))return t;var f=TD(t);if(f){if(s=qF(t),!u)return fF(t,s)}else{var h=zF(t),d=h==fj||"[object GeneratorFunction]"==h;if(ND(t))return lF(t,u);if(h==hj||h==lj||d&&!a){if(s=c||d?{}:rj(t),!u)return c?_F(t,aF(s,t)):gF(t,eF(s,t))}else{if(!dj[h])return a?t:{};s=ZF(t,h,u)}}o||(o=new dD);var p=o.get(t);if(p)return p;o.set(t,s),cj(t)?t.forEach((function(i){s.add(e(i,n,r,i,t,o))})):oj(t)&&t.forEach((function(i,a){s.set(a,e(i,n,r,a,t,o))}));var v=f?void 0:(l?c?SF:CF:c?iF:ZD)(t);return pD(v||t,(function(i,a){v&&(i=t[a=i]),gD(s,a,e(i,n,r,a,t,o))})),s};var vj=function(e){return pj(e,4)};var mj=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i};var yj=function(e){return"symbol"==typeof e||uA(e)&&"[object Symbol]"==aA(e)};function gj(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(gj.Cache||lD),n}gj.Cache=lD;var bj=gj;var kj=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,wj=/\\(\\)?/g,_j=function(e){var t=bj(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(kj,(function(e,n,r,i){t.push(r?i.replace(wj,"$1"):n||e)})),t})),xj=_j;var Cj=function(e){if("string"==typeof e||yj(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t},Sj=YN?YN.prototype:void 0,Ej=Sj?Sj.toString:void 0;var Tj=function e(t){if("string"==typeof t)return t;if(TD(t))return mj(t,e)+"";if(yj(t))return Ej?Ej.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n};var Ij=function(e){return null==e?"":Tj(e)};var Rj=function(e){return TD(e)?mj(e,Cj):yj(e)?[e]:fF(xj(Ij(e)))};var Pj=function(e,t){};var Oj=function(e){return pj(e,5)};function Nj(){return Nj=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nj.apply(this,arguments)}function Aj(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function Dj(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function Fj(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var jj=function(e){return Array.isArray(e)&&0===e.length},Lj=function(e){return"function"===typeof e},Mj=function(e){return null!==e&&"object"===typeof e},Uj=function(e){return String(Math.floor(Number(e)))===e},Vj=function(e){return"[object String]"===Object.prototype.toString.call(e)},zj=function(t){return 0===e.Children.count(t)},Bj=function(e){return Mj(e)&&Lj(e.then)};function qj(e,t,n,r){void 0===r&&(r=0);for(var i=Rj(t);e&&r<i.length;)e=e[i[r++]];return void 0===e?n:e}function Hj(e,t,n){for(var r=vj(e),i=r,a=0,o=Rj(t);a<o.length-1;a++){var s=o[a],u=qj(e,o.slice(0,a+1));if(u&&(Mj(u)||Array.isArray(u)))i=i[s]=vj(u);else{var c=o[a+1];i=i[s]=Uj(c)&&Number(c)>=0?[]:{}}}return(0===a?e:i)[o[a]]===n?e:(void 0===n?delete i[o[a]]:i[o[a]]=n,0===a&&void 0===n&&delete r[o[a]],r)}function Wj(e,t,n,r){void 0===n&&(n=new WeakMap),void 0===r&&(r={});for(var i=0,a=Object.keys(e);i<a.length;i++){var o=a[i],s=e[o];Mj(s)?n.get(s)||(n.set(s,!0),r[o]=Array.isArray(s)?[]:{},Wj(s,t,n,r[o])):r[o]=t}return r}var Gj=(0,e.createContext)(void 0);Gj.displayName="FormikContext";var Kj=Gj.Provider,$j=Gj.Consumer;function Qj(){var t=(0,e.useContext)(Gj);return t||Pj(!1),t}function Yj(e,t){switch(t.type){case"SET_VALUES":return Nj({},e,{values:t.payload});case"SET_TOUCHED":return Nj({},e,{touched:t.payload});case"SET_ERRORS":return VN()(e.errors,t.payload)?e:Nj({},e,{errors:t.payload});case"SET_STATUS":return Nj({},e,{status:t.payload});case"SET_ISSUBMITTING":return Nj({},e,{isSubmitting:t.payload});case"SET_ISVALIDATING":return Nj({},e,{isValidating:t.payload});case"SET_FIELD_VALUE":return Nj({},e,{values:Hj(e.values,t.payload.field,t.payload.value)});case"SET_FIELD_TOUCHED":return Nj({},e,{touched:Hj(e.touched,t.payload.field,t.payload.value)});case"SET_FIELD_ERROR":return Nj({},e,{errors:Hj(e.errors,t.payload.field,t.payload.value)});case"RESET_FORM":return Nj({},e,t.payload);case"SET_FORMIK_STATE":return t.payload(e);case"SUBMIT_ATTEMPT":return Nj({},e,{touched:Wj(e.values,!0),isSubmitting:!0,submitCount:e.submitCount+1});case"SUBMIT_FAILURE":case"SUBMIT_SUCCESS":return Nj({},e,{isSubmitting:!1});default:return e}}var Xj={},Jj={};function Zj(t){var n=t.validateOnChange,r=void 0===n||n,i=t.validateOnBlur,a=void 0===i||i,o=t.validateOnMount,s=void 0!==o&&o,u=t.isInitialValid,c=t.enableReinitialize,l=void 0!==c&&c,f=t.onSubmit,h=Dj(t,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),d=Nj({validateOnChange:r,validateOnBlur:a,validateOnMount:s,onSubmit:f},h),p=(0,e.useRef)(d.initialValues),v=(0,e.useRef)(d.initialErrors||Xj),m=(0,e.useRef)(d.initialTouched||Jj),y=(0,e.useRef)(d.initialStatus),g=(0,e.useRef)(!1),b=(0,e.useRef)({});(0,e.useEffect)((function(){return g.current=!0,function(){g.current=!1}}),[]);var k=(0,e.useReducer)(Yj,{values:d.initialValues,errors:d.initialErrors||Xj,touched:d.initialTouched||Jj,status:d.initialStatus,isSubmitting:!1,isValidating:!1,submitCount:0}),w=k[0],_=k[1],x=(0,e.useCallback)((function(e,t){return new Promise((function(n,r){var i=d.validate(e,t);null==i?n(Xj):Bj(i)?i.then((function(e){n(e||Xj)}),(function(e){r(e)})):n(i)}))}),[d.validate]),C=(0,e.useCallback)((function(e,t){var n=d.validationSchema,r=Lj(n)?n(t):n,i=t&&r.validateAt?r.validateAt(t,e):function(e,t,n,r){void 0===n&&(n=!1);void 0===r&&(r={});var i=tL(e);return t[n?"validateSync":"validate"](i,{abortEarly:!1,context:r})}(e,r);return new Promise((function(e,t){i.then((function(){e(Xj)}),(function(n){"ValidationError"===n.name?e(function(e){var t={};if(e.inner){if(0===e.inner.length)return Hj(t,e.path,e.message);var n=e.inner,r=Array.isArray(n),i=0;for(n=r?n:n[Symbol.iterator]();;){var a;if(r){if(i>=n.length)break;a=n[i++]}else{if((i=n.next()).done)break;a=i.value}var o=a;qj(t,o.path)||(t=Hj(t,o.path,o.message))}}return t}(n)):t(n)}))}))}),[d.validationSchema]),S=(0,e.useCallback)((function(e,t){return new Promise((function(n){return n(b.current[e].validate(t))}))}),[]),E=(0,e.useCallback)((function(e){var t=Object.keys(b.current).filter((function(e){return Lj(b.current[e].validate)})),n=t.length>0?t.map((function(t){return S(t,qj(e,t))})):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(n).then((function(e){return e.reduce((function(e,n,r){return"DO_NOT_DELETE_YOU_WILL_BE_FIRED"===n||n&&(e=Hj(e,t[r],n)),e}),{})}))}),[S]),T=(0,e.useCallback)((function(e){return Promise.all([E(e),d.validationSchema?C(e):{},d.validate?x(e):{}]).then((function(e){var t=e[0],n=e[1],r=e[2];return GN.all([t,n,r],{arrayMerge:nL})}))}),[d.validate,d.validationSchema,E,x,C]),I=iL((function(e){return void 0===e&&(e=w.values),_({type:"SET_ISVALIDATING",payload:!0}),T(e).then((function(e){return g.current&&(_({type:"SET_ISVALIDATING",payload:!1}),_({type:"SET_ERRORS",payload:e})),e}))}));(0,e.useEffect)((function(){s&&!0===g.current&&VN()(p.current,d.initialValues)&&I(p.current)}),[s,I]);var R=(0,e.useCallback)((function(e){var t=e&&e.values?e.values:p.current,n=e&&e.errors?e.errors:v.current?v.current:d.initialErrors||{},r=e&&e.touched?e.touched:m.current?m.current:d.initialTouched||{},i=e&&e.status?e.status:y.current?y.current:d.initialStatus;p.current=t,v.current=n,m.current=r,y.current=i;var a=function(){_({type:"RESET_FORM",payload:{isSubmitting:!!e&&!!e.isSubmitting,errors:n,touched:r,status:i,values:t,isValidating:!!e&&!!e.isValidating,submitCount:e&&e.submitCount&&"number"===typeof e.submitCount?e.submitCount:0}})};if(d.onReset){var o=d.onReset(w.values,$);Bj(o)?o.then(a):a()}else a()}),[d.initialErrors,d.initialStatus,d.initialTouched]);(0,e.useEffect)((function(){!0!==g.current||VN()(p.current,d.initialValues)||(l&&(p.current=d.initialValues,R()),s&&I(p.current))}),[l,d.initialValues,R,s,I]),(0,e.useEffect)((function(){l&&!0===g.current&&!VN()(v.current,d.initialErrors)&&(v.current=d.initialErrors||Xj,_({type:"SET_ERRORS",payload:d.initialErrors||Xj}))}),[l,d.initialErrors]),(0,e.useEffect)((function(){l&&!0===g.current&&!VN()(m.current,d.initialTouched)&&(m.current=d.initialTouched||Jj,_({type:"SET_TOUCHED",payload:d.initialTouched||Jj}))}),[l,d.initialTouched]),(0,e.useEffect)((function(){l&&!0===g.current&&!VN()(y.current,d.initialStatus)&&(y.current=d.initialStatus,_({type:"SET_STATUS",payload:d.initialStatus}))}),[l,d.initialStatus,d.initialTouched]);var P=iL((function(e){if(b.current[e]&&Lj(b.current[e].validate)){var t=qj(w.values,e),n=b.current[e].validate(t);return Bj(n)?(_({type:"SET_ISVALIDATING",payload:!0}),n.then((function(e){return e})).then((function(t){_({type:"SET_FIELD_ERROR",payload:{field:e,value:t}}),_({type:"SET_ISVALIDATING",payload:!1})}))):(_({type:"SET_FIELD_ERROR",payload:{field:e,value:n}}),Promise.resolve(n))}return d.validationSchema?(_({type:"SET_ISVALIDATING",payload:!0}),C(w.values,e).then((function(e){return e})).then((function(t){_({type:"SET_FIELD_ERROR",payload:{field:e,value:t[e]}}),_({type:"SET_ISVALIDATING",payload:!1})}))):Promise.resolve()})),O=(0,e.useCallback)((function(e,t){var n=t.validate;b.current[e]={validate:n}}),[]),N=(0,e.useCallback)((function(e){delete b.current[e]}),[]),A=iL((function(e,t){return _({type:"SET_TOUCHED",payload:e}),(void 0===t?a:t)?I(w.values):Promise.resolve()})),D=(0,e.useCallback)((function(e){_({type:"SET_ERRORS",payload:e})}),[]),F=iL((function(e,t){var n=Lj(e)?e(w.values):e;return _({type:"SET_VALUES",payload:n}),(void 0===t?r:t)?I(n):Promise.resolve()})),j=(0,e.useCallback)((function(e,t){_({type:"SET_FIELD_ERROR",payload:{field:e,value:t}})}),[]),L=iL((function(e,t,n){return _({type:"SET_FIELD_VALUE",payload:{field:e,value:t}}),(void 0===n?r:n)?I(Hj(w.values,e,t)):Promise.resolve()})),M=(0,e.useCallback)((function(e,t){var n,r=t,i=e;if(!Vj(e)){e.persist&&e.persist();var a=e.target?e.target:e.currentTarget,o=a.type,s=a.name,u=a.id,c=a.value,l=a.checked,f=(a.outerHTML,a.options),h=a.multiple;r=t||(s||u),i=/number|range/.test(o)?(n=parseFloat(c),isNaN(n)?"":n):/checkbox/.test(o)?function(e,t,n){if("boolean"===typeof e)return Boolean(t);var r=[],i=!1,a=-1;if(Array.isArray(e))r=e,i=(a=e.indexOf(n))>=0;else if(!n||"true"==n||"false"==n)return Boolean(t);if(t&&n&&!i)return r.concat(n);if(!i)return r;return r.slice(0,a).concat(r.slice(a+1))}(qj(w.values,r),l,c):f&&h?function(e){return Array.from(e).filter((function(e){return e.selected})).map((function(e){return e.value}))}(f):c}r&&L(r,i)}),[L,w.values]),U=iL((function(e){if(Vj(e))return function(t){return M(t,e)};M(e)})),V=iL((function(e,t,n){return void 0===t&&(t=!0),_({type:"SET_FIELD_TOUCHED",payload:{field:e,value:t}}),(void 0===n?a:n)?I(w.values):Promise.resolve()})),z=(0,e.useCallback)((function(e,t){e.persist&&e.persist();var n=e.target,r=n.name,i=n.id,a=(n.outerHTML,t||(r||i));V(a,!0)}),[V]),B=iL((function(e){if(Vj(e))return function(t){return z(t,e)};z(e)})),q=(0,e.useCallback)((function(e){Lj(e)?_({type:"SET_FORMIK_STATE",payload:e}):_({type:"SET_FORMIK_STATE",payload:function(){return e}})}),[]),H=(0,e.useCallback)((function(e){_({type:"SET_STATUS",payload:e})}),[]),W=(0,e.useCallback)((function(e){_({type:"SET_ISSUBMITTING",payload:e})}),[]),G=iL((function(){return _({type:"SUBMIT_ATTEMPT"}),I().then((function(e){var t=e instanceof Error;if(!t&&0===Object.keys(e).length){var n;try{if(void 0===(n=Q()))return}catch(so){throw so}return Promise.resolve(n).then((function(e){return g.current&&_({type:"SUBMIT_SUCCESS"}),e})).catch((function(e){if(g.current)throw _({type:"SUBMIT_FAILURE"}),e}))}if(g.current&&(_({type:"SUBMIT_FAILURE"}),t))throw e}))})),K=iL((function(e){e&&e.preventDefault&&Lj(e.preventDefault)&&e.preventDefault(),e&&e.stopPropagation&&Lj(e.stopPropagation)&&e.stopPropagation(),G().catch((function(e){console.warn("Warning: An unhandled error was caught from submitForm()",e)}))})),$={resetForm:R,validateForm:I,validateField:P,setErrors:D,setFieldError:j,setFieldTouched:V,setFieldValue:L,setStatus:H,setSubmitting:W,setTouched:A,setValues:F,setFormikState:q,submitForm:G},Q=iL((function(){return f(w.values,$)})),Y=iL((function(e){e&&e.preventDefault&&Lj(e.preventDefault)&&e.preventDefault(),e&&e.stopPropagation&&Lj(e.stopPropagation)&&e.stopPropagation(),R()})),X=(0,e.useCallback)((function(e){return{value:qj(w.values,e),error:qj(w.errors,e),touched:!!qj(w.touched,e),initialValue:qj(p.current,e),initialTouched:!!qj(m.current,e),initialError:qj(v.current,e)}}),[w.errors,w.touched,w.values]),J=(0,e.useCallback)((function(e){return{setValue:function(t,n){return L(e,t,n)},setTouched:function(t,n){return V(e,t,n)},setError:function(t){return j(e,t)}}}),[L,V,j]),Z=(0,e.useCallback)((function(e){var t=Mj(e),n=t?e.name:e,r=qj(w.values,n),i={name:n,value:r,onChange:U,onBlur:B};if(t){var a=e.type,o=e.value,s=e.as,u=e.multiple;"checkbox"===a?void 0===o?i.checked=!!r:(i.checked=!(!Array.isArray(r)||!~r.indexOf(o)),i.value=o):"radio"===a?(i.checked=r===o,i.value=o):"select"===s&&u&&(i.value=i.value||[],i.multiple=!0)}return i}),[B,U,w.values]),ee=(0,e.useMemo)((function(){return!VN()(p.current,w.values)}),[p.current,w.values]),te=(0,e.useMemo)((function(){return"undefined"!==typeof u?ee?w.errors&&0===Object.keys(w.errors).length:!1!==u&&Lj(u)?u(d):u:w.errors&&0===Object.keys(w.errors).length}),[u,ee,w.errors,d]);return Nj({},w,{initialValues:p.current,initialErrors:v.current,initialTouched:m.current,initialStatus:y.current,handleBlur:B,handleChange:U,handleReset:Y,handleSubmit:K,resetForm:R,setErrors:D,setFormikState:q,setFieldTouched:V,setFieldValue:L,setFieldError:j,setStatus:H,setSubmitting:W,setTouched:A,setValues:F,submitForm:G,validateForm:I,validateField:P,isValid:te,dirty:ee,unregisterField:N,registerField:O,getFieldProps:Z,getFieldMeta:X,getFieldHelpers:J,validateOnBlur:a,validateOnChange:r,validateOnMount:s})}function eL(t){var n=Zj(t),r=t.component,i=t.children,a=t.render,o=t.innerRef;return(0,e.useImperativeHandle)(o,(function(){return n})),(0,e.createElement)(Kj,{value:n},r?(0,e.createElement)(r,n):a?a(n):i?Lj(i)?i(n):zj(i)?null:e.Children.only(i):null)}function tL(e){var t=Array.isArray(e)?[]:{};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=String(n);!0===Array.isArray(e[r])?t[r]=e[r].map((function(e){return!0===Array.isArray(e)||pA(e)?tL(e):""!==e?e:void 0})):pA(e[r])?t[r]=tL(e[r]):t[r]=""!==e[r]?e[r]:void 0}return t}function nL(e,t,n){var r=e.slice();return t.forEach((function(t,i){if("undefined"===typeof r[i]){var a=!1!==n.clone&&n.isMergeableObject(t);r[i]=a?GN(Array.isArray(t)?[]:{},t,n):t}else n.isMergeableObject(t)?r[i]=GN(e[i],t,n):-1===e.indexOf(t)&&r.push(t)})),r}var rL="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?e.useLayoutEffect:e.useEffect;function iL(t){var n=(0,e.useRef)(t);return rL((function(){n.current=t})),(0,e.useCallback)((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.current.apply(void 0,t)}),[])}function aL(t){var n=t.validate,r=t.name,i=t.render,a=t.children,o=t.as,s=t.component,u=Dj(t,["validate","name","render","children","as","component"]),c=Dj(Qj(),["validate","validationSchema"]);var l=c.registerField,f=c.unregisterField;(0,e.useEffect)((function(){return l(r,{validate:n}),function(){f(r)}}),[l,f,r,n]);var h=c.getFieldProps(Nj({name:r},u)),d=c.getFieldMeta(r),p={field:h,form:c};if(i)return i(Nj({},p,{meta:d}));if(Lj(a))return a(Nj({},p,{meta:d}));if(s){if("string"===typeof s){var v=u.innerRef,m=Dj(u,["innerRef"]);return(0,e.createElement)(s,Nj({ref:v},h,m),a)}return(0,e.createElement)(s,Nj({field:h,form:c},u),a)}var y=o||"input";if("string"===typeof y){var g=u.innerRef,b=Dj(u,["innerRef"]);return(0,e.createElement)(y,Nj({ref:g},h,b),a)}return(0,e.createElement)(y,Nj({},h,u),a)}var oL=(0,e.forwardRef)((function(t,n){var r=t.action,i=Dj(t,["action"]),a=null!=r?r:"#",o=Qj(),s=o.handleReset,u=o.handleSubmit;return(0,e.createElement)("form",Object.assign({onSubmit:u,ref:n,onReset:s,action:a},i))}));function sL(t){var n=function(n){return(0,e.createElement)($j,null,(function(r){return r||Pj(!1),(0,e.createElement)(t,Object.assign({},n,{formik:r}))}))},r=t.displayName||t.name||t.constructor&&t.constructor.name||"Component";return n.WrappedComponent=t,n.displayName="FormikConnect("+r+")",YP()(n,t)}oL.displayName="Form";var uL=function(e,t,n){var r=cL(e);return r.splice(t,0,n),r},cL=function(e){if(e){if(Array.isArray(e))return[].concat(e);var t=Object.keys(e).map((function(e){return parseInt(e)})).reduce((function(e,t){return t>e?t:e}),0);return Array.from(Nj({},e,{length:t+1}))}return[]},lL=function(t){function n(e){var n;return(n=t.call(this,e)||this).updateArrayField=function(e,t,r){var i=n.props,a=i.name;(0,i.formik.setFormikState)((function(n){var i="function"===typeof r?r:e,o="function"===typeof t?t:e,s=Hj(n.values,a,e(qj(n.values,a))),u=r?i(qj(n.errors,a)):void 0,c=t?o(qj(n.touched,a)):void 0;return jj(u)&&(u=void 0),jj(c)&&(c=void 0),Nj({},n,{values:s,errors:r?Hj(n.errors,a,u):n.errors,touched:t?Hj(n.touched,a,c):n.touched})}))},n.push=function(e){return n.updateArrayField((function(t){return[].concat(cL(t),[Oj(e)])}),!1,!1)},n.handlePush=function(e){return function(){return n.push(e)}},n.swap=function(e,t){return n.updateArrayField((function(n){return function(e,t,n){var r=cL(e),i=r[t];return r[t]=r[n],r[n]=i,r}(n,e,t)}),!0,!0)},n.handleSwap=function(e,t){return function(){return n.swap(e,t)}},n.move=function(e,t){return n.updateArrayField((function(n){return function(e,t,n){var r=cL(e),i=r[t];return r.splice(t,1),r.splice(n,0,i),r}(n,e,t)}),!0,!0)},n.handleMove=function(e,t){return function(){return n.move(e,t)}},n.insert=function(e,t){return n.updateArrayField((function(n){return uL(n,e,t)}),(function(t){return uL(t,e,null)}),(function(t){return uL(t,e,null)}))},n.handleInsert=function(e,t){return function(){return n.insert(e,t)}},n.replace=function(e,t){return n.updateArrayField((function(n){return function(e,t,n){var r=cL(e);return r[t]=n,r}(n,e,t)}),!1,!1)},n.handleReplace=function(e,t){return function(){return n.replace(e,t)}},n.unshift=function(e){var t=-1;return n.updateArrayField((function(n){var r=n?[e].concat(n):[e];return t<0&&(t=r.length),r}),(function(e){var n=e?[null].concat(e):[null];return t<0&&(t=n.length),n}),(function(e){var n=e?[null].concat(e):[null];return t<0&&(t=n.length),n})),t},n.handleUnshift=function(e){return function(){return n.unshift(e)}},n.handleRemove=function(e){return function(){return n.remove(e)}},n.handlePop=function(){return function(){return n.pop()}},n.remove=n.remove.bind(Fj(n)),n.pop=n.pop.bind(Fj(n)),n}Aj(n,t);var r=n.prototype;return r.componentDidUpdate=function(e){this.props.validateOnChange&&this.props.formik.validateOnChange&&!VN()(qj(e.formik.values,e.name),qj(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},r.remove=function(e){var t;return this.updateArrayField((function(n){var r=n?cL(n):[];return t||(t=r[e]),Lj(r.splice)&&r.splice(e,1),r}),!0,!0),t},r.pop=function(){var e;return this.updateArrayField((function(t){var n=t;return e||(e=n&&n.pop&&n.pop()),n}),!0,!0),e},r.render=function(){var t={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},n=this.props,r=n.component,i=n.render,a=n.children,o=n.name,s=Nj({},t,{form:Dj(n.formik,["validate","validationSchema"]),name:o});return r?(0,e.createElement)(r,s):i?i(s):a?"function"===typeof a?a(s):zj(a)?null:e.Children.only(a):null},n}(e.Component);lL.defaultProps={validateOnChange:!0};var fL,hL,dL=function(t){function n(){return t.apply(this,arguments)||this}Aj(n,t);var r=n.prototype;return r.shouldComponentUpdate=function(e){return qj(this.props.formik.errors,this.props.name)!==qj(e.formik.errors,this.props.name)||qj(this.props.formik.touched,this.props.name)!==qj(e.formik.touched,this.props.name)||Object.keys(this.props).length!==Object.keys(e).length},r.render=function(){var t=this.props,n=t.component,r=t.formik,i=t.render,a=t.children,o=t.name,s=Dj(t,["component","formik","render","children","name"]),u=qj(r.touched,o),c=qj(r.errors,o);return u&&c?i?Lj(i)?i(c):null:a?Lj(a)?a(c):null:n?(0,e.createElement)(n,s,c):c:null},n}(e.Component),pL=sL(dL);e.Component;try{fL=Map}catch(QE){}try{hL=Set}catch(QE){}function vL(e,t,n){if(!e||"object"!==typeof e||"function"===typeof e)return e;if(e.nodeType&&"cloneNode"in e)return e.cloneNode(!0);if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)return new RegExp(e);if(Array.isArray(e))return e.map(mL);if(fL&&e instanceof fL)return new Map(Array.from(e.entries()));if(hL&&e instanceof hL)return new Set(Array.from(e.values()));if(e instanceof Object){t.push(e);var r=Object.create(e);for(var i in n.push(r),e){var a=t.findIndex((function(t){return t===e[i]}));r[i]=a>-1?n[a]:vL(e[i],t,n)}return r}return e}function mL(e){return vL(e,[],[])}var yL=Object.prototype.toString,gL=Error.prototype.toString,bL=RegExp.prototype.toString,kL="undefined"!==typeof Symbol?Symbol.prototype.toString:function(){return""},wL=/^Symbol\((.*)\)(.*)$/;function _L(e){return e!=+e?"NaN":0===e&&1/e<0?"-0":""+e}function xL(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null==e||!0===e||!1===e)return""+e;var n=typeof e;if("number"===n)return _L(e);if("string"===n)return t?'"'.concat(e,'"'):e;if("function"===n)return"[Function "+(e.name||"anonymous")+"]";if("symbol"===n)return kL.call(e).replace(wL,"Symbol($1)");var r=yL.call(e).slice(8,-1);return"Date"===r?isNaN(e.getTime())?""+e:e.toISOString(e):"Error"===r||e instanceof Error?"["+gL.call(e)+"]":"RegExp"===r?bL.call(e):null}function CL(e,t){var n=xL(e,t);return null!==n?n:JSON.stringify(e,(function(e,n){var r=xL(this[e],t);return null!==r?r:n}),2)}var SL={default:"${path} is invalid",required:"${path} is a required field",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:function(e){var t=e.path,n=e.type,r=e.value,i=e.originalValue,a=null!=i&&i!==r,o="".concat(t," must be a `").concat(n,"` type, ")+"but the final value was: `".concat(CL(r,!0),"`")+(a?" (cast from the value `".concat(CL(i,!0),"`)."):".");return null===r&&(o+='\n If "null" is intended as an empty value be sure to mark the schema as `.nullable()`'),o},defined:"${path} must be defined"},EL={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},TL={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},IL={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},RL={isValue:"${path} field must be ${value}"},PL={noUnknown:"${path} field has unspecified keys: ${unknown}"},OL={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},NL=(Object.assign(Object.create(null),{mixed:SL,string:EL,number:TL,date:IL,object:PL,array:OL,boolean:RL}),n(7805)),AL=n.n(NL),DL=function(e){return e&&e.__isYupSchema__},FL=function(){function e(t,n){if(p(this,e),this.fn=void 0,this.refs=t,this.refs=t,"function"!==typeof n){if(!AL()(n,"is"))throw new TypeError("`is:` is required for `when()` conditions");if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");var r=n.is,i=n.then,a=n.otherwise,o="function"===typeof r?r:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.every((function(e){return e===r}))};this.fn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.pop(),s=t.pop(),u=o.apply(void 0,t)?i:a;if(u)return"function"===typeof u?u(s):s.concat(u.resolve(r))}}else this.fn=n}return g(e,[{key:"resolve",value:function(e,t){var n=this.refs.map((function(e){return e.getValue(null==t?void 0:t.value,null==t?void 0:t.parent,null==t?void 0:t.context)})),r=this.fn.apply(e,n.concat(e,t));if(void 0===r||r===e)return e;if(!DL(r))throw new TypeError("conditions must return a schema object");return r.resolve(t)}}]),e}(),jL=FL;function LL(e){return null==e?[]:[].concat(e)}function ML(){return ML=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ML.apply(this,arguments)}var UL=/\$\{\s*(\w+)\s*\}/g,VL=function(e){k(n,e);var t=_(n);function n(e,r,i,a){var o;return p(this,n),(o=t.call(this)).value=void 0,o.path=void 0,o.type=void 0,o.errors=void 0,o.params=void 0,o.inner=void 0,o.name="ValidationError",o.value=r,o.path=i,o.type=a,o.errors=[],o.inner=[],LL(e).forEach((function(e){var t;n.isError(e)?((t=o.errors).push.apply(t,C(e.errors)),o.inner=o.inner.concat(e.inner.length?e.inner:e)):o.errors.push(e)})),o.message=o.errors.length>1?"".concat(o.errors.length," errors occurred"):o.errors[0],Error.captureStackTrace&&Error.captureStackTrace(b(o),n),o}return g(n,null,[{key:"formatError",value:function(e,t){var n=t.label||t.path||"this";return n!==t.path&&(t=ML({},t,{path:n})),"string"===typeof e?e.replace(UL,(function(e,n){return CL(t[n])})):"function"===typeof e?e(t):e}},{key:"isError",value:function(e){return e&&"ValidationError"===e.name}}]),n}(u(Error));function zL(e,t){var n=e.endEarly,r=e.tests,i=e.args,a=e.value,o=e.errors,s=e.sort,u=e.path,c=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(t),l=r.length,f=[];if(o=o||[],!l)return o.length?c(new VL(o,a,u)):c(null,a);for(var h=0;h<r.length;h++){(0,r[h])(i,(function(e){if(e){if(!VL.isError(e))return c(e,a);if(n)return e.value=a,c(e,a);f.push(e)}if(--l<=0){if(f.length&&(s&&f.sort(s),o.length&&f.push.apply(f,C(o)),o=f),o.length)return void c(new VL(o,a,u),a);c(null,a)}}))}}var BL=n(7702),qL=n.n(BL),HL=n(2758),WL="$",GL=".";var KL=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(p(this,e),this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,"string"!==typeof t)throw new TypeError("ref must be a string, got: "+t);if(this.key=t.trim(),""===t)throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===WL,this.isValue=this.key[0]===GL,this.isSibling=!this.isContext&&!this.isValue;var r=this.isContext?WL:this.isValue?GL:"";this.path=this.key.slice(r.length),this.getter=this.path&&(0,HL.getter)(this.path,!0),this.map=n.map}return g(e,[{key:"getValue",value:function(e,t,n){var r=this.isContext?n:this.isValue?e:t;return this.getter&&(r=this.getter(r||{})),this.map&&(r=this.map(r)),r}},{key:"cast",value:function(e,t){return this.getValue(e,null==t?void 0:t.parent,null==t?void 0:t.context)}},{key:"resolve",value:function(){return this}},{key:"describe",value:function(){return{type:"ref",key:this.key}}},{key:"toString",value:function(){return"Ref(".concat(this.key,")")}}],[{key:"isRef",value:function(e){return e&&e.__isYupRef}}]),e}();function $L(){return $L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$L.apply(this,arguments)}function QL(e){function t(t,n){var r=t.value,i=t.path,a=void 0===i?"":i,o=t.label,s=t.options,u=t.originalValue,c=t.sync,l=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["value","path","label","options","originalValue","sync"]),f=e.name,h=e.test,d=e.params,p=e.message,v=s.parent,m=s.context;function y(e){return KL.isRef(e)?e.getValue(r,v,m):e}function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=qL()($L({value:r,originalValue:u,label:o,path:e.path||a},d,e.params),y),n=new VL(VL.formatError(e.message||p,t),r,t.path,e.type||f);return n.params=t,n}var b=$L({path:a,parent:v,type:f,createError:g,resolve:y,options:s,originalValue:u},l);if(c){var k;try{var w;if("function"===typeof(null==(w=k=h.call(b,r,b))?void 0:w.then))throw new Error('Validation test of type: "'.concat(b.type,'" returned a Promise during a synchronous validate. ')+"This test will finish after the validate call has returned")}catch(_){return void n(_)}VL.isError(k)?n(k):k?n(null,k):n(g())}else try{Promise.resolve(h.call(b,r,b)).then((function(e){VL.isError(e)?n(e):e?n(null,e):n(g())})).catch(n)}catch(_){n(_)}}return t.OPTIONS=e,t}KL.prototype.__isYupRef=!0;var YL=function(e){return e.substr(0,e.length-1).substr(1)};function XL(e,t,n){var r,i,a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return t?((0,HL.forEach)(t,(function(s,u,c){var l=u?YL(s):s;if((e=e.resolve({context:o,parent:r,value:n})).innerType){var f=c?parseInt(l,10):0;if(n&&f>=n.length)throw new Error("Yup.reach cannot resolve an array item at index: ".concat(s,", in the path: ").concat(t,". ")+"because there is no value at that index. ");r=n,n=n&&n[f],e=e.innerType}if(!c){if(!e.fields||!e.fields[l])throw new Error("The schema does not contain the path: ".concat(t,". ")+"(failed at: ".concat(a,' which is a type: "').concat(e._type,'")'));r=n,n=n&&n[l],e=e.fields[l]}i=l,a=u?"["+s+"]":"."+s})),{schema:e,parent:r,parentPath:i}):{parent:r,parentPath:t,schema:e}}var JL=function(){function e(){p(this,e),this.list=void 0,this.refs=void 0,this.list=new Set,this.refs=new Map}return g(e,[{key:"size",get:function(){return this.list.size+this.refs.size}},{key:"describe",value:function(){var e,t=[],n=T(this.list);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push(r)}}catch(s){n.e(s)}finally{n.f()}var i,a=T(this.refs);try{for(a.s();!(i=a.n()).done;){var o=d(i.value,2)[1];t.push(o.describe())}}catch(s){a.e(s)}finally{a.f()}return t}},{key:"toArray",value:function(){return Array.from(this.list).concat(Array.from(this.refs.values()))}},{key:"resolveAll",value:function(e){return this.toArray().reduce((function(t,n){return t.concat(KL.isRef(n)?e(n):n)}),[])}},{key:"add",value:function(e){KL.isRef(e)?this.refs.set(e.key,e):this.list.add(e)}},{key:"delete",value:function(e){KL.isRef(e)?this.refs.delete(e.key):this.list.delete(e)}},{key:"clone",value:function(){var t=new e;return t.list=new Set(this.list),t.refs=new Map(this.refs),t}},{key:"merge",value:function(e,t){var n=this.clone();return e.list.forEach((function(e){return n.add(e)})),e.refs.forEach((function(e){return n.add(e)})),t.list.forEach((function(e){return n.delete(e)})),t.refs.forEach((function(e){return n.delete(e)})),n}}]),e}();function ZL(){return ZL=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ZL.apply(this,arguments)}var eM=function(){function e(t){var n=this;p(this,e),this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this._typeError=void 0,this._whitelist=new JL,this._blacklist=new JL,this.exclusiveTests=Object.create(null),this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation((function(){n.typeError(SL.notType)})),this.type=(null==t?void 0:t.type)||"mixed",this.spec=ZL({strip:!1,strict:!1,abortEarly:!0,recursive:!0,nullable:!1,presence:"optional"},null==t?void 0:t.spec)}return g(e,[{key:"_type",get:function(){return this.type}},{key:"_typeCheck",value:function(e){return!0}},{key:"clone",value:function(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;var t=Object.create(Object.getPrototypeOf(this));return t.type=this.type,t._typeError=this._typeError,t._whitelistError=this._whitelistError,t._blacklistError=this._blacklistError,t._whitelist=this._whitelist.clone(),t._blacklist=this._blacklist.clone(),t.exclusiveTests=ZL({},this.exclusiveTests),t.deps=C(this.deps),t.conditions=C(this.conditions),t.tests=C(this.tests),t.transforms=C(this.transforms),t.spec=mL(ZL({},this.spec,e)),t}},{key:"label",value:function(e){var t=this.clone();return t.spec.label=e,t}},{key:"meta",value:function(){if(0===arguments.length)return this.spec.meta;var e=this.clone();return e.spec.meta=Object.assign(e.spec.meta||{},arguments.length<=0?void 0:arguments[0]),e}},{key:"withMutation",value:function(e){var t=this._mutate;this._mutate=!0;var n=e(this);return this._mutate=t,n}},{key:"concat",value:function(e){if(!e||e===this)return this;if(e.type!==this.type&&"mixed"!==this.type)throw new TypeError("You cannot `concat()` schema's of different types: ".concat(this.type," and ").concat(e.type));var t=this,n=e.clone(),r=ZL({},t.spec,n.spec);return n.spec=r,n._typeError||(n._typeError=t._typeError),n._whitelistError||(n._whitelistError=t._whitelistError),n._blacklistError||(n._blacklistError=t._blacklistError),n._whitelist=t._whitelist.merge(e._whitelist,e._blacklist),n._blacklist=t._blacklist.merge(e._blacklist,e._whitelist),n.tests=t.tests,n.exclusiveTests=t.exclusiveTests,n.withMutation((function(t){e.tests.forEach((function(e){t.test(e.OPTIONS)}))})),n.transforms=[].concat(C(t.transforms),C(n.transforms)),n}},{key:"isType",value:function(e){return!(!this.spec.nullable||null!==e)||this._typeCheck(e)}},{key:"resolve",value:function(e){var t=this;if(t.conditions.length){var n=t.conditions;(t=t.clone()).conditions=[],t=(t=n.reduce((function(t,n){return n.resolve(t,e)}),t)).resolve(e)}return t}},{key:"cast",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.resolve(ZL({value:e},t)),r=n._cast(e,t);if(void 0!==e&&!1!==t.assert&&!0!==n.isType(r)){var i=CL(e),a=CL(r);throw new TypeError("The value of ".concat(t.path||"field"," could not be cast to a value ")+'that satisfies the schema type: "'.concat(n._type,'". \n\n')+"attempted value: ".concat(i," \n")+(a!==i?"result of cast: ".concat(a):""))}return r}},{key:"_cast",value:function(e,t){var n=this,r=void 0===e?e:this.transforms.reduce((function(t,r){return r.call(n,t,e,n)}),e);return void 0===r&&(r=this.getDefault()),r}},{key:"_validate",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,i=n.sync,a=n.path,o=n.from,s=void 0===o?[]:o,u=n.originalValue,c=void 0===u?e:u,l=n.strict,f=void 0===l?this.spec.strict:l,h=n.abortEarly,d=void 0===h?this.spec.abortEarly:h,p=e;f||(p=this._cast(p,ZL({assert:!1},n)));var v={value:p,path:a,options:n,originalValue:c,schema:this,label:this.spec.label,sync:i,from:s},m=[];this._typeError&&m.push(this._typeError);var y=[];this._whitelistError&&y.push(this._whitelistError),this._blacklistError&&y.push(this._blacklistError),zL({args:v,value:p,path:a,sync:i,tests:m,endEarly:d},(function(e){e?r(e,p):zL({tests:t.tests.concat(y),args:v,path:a,sync:i,value:p,endEarly:d},r)}))}},{key:"validate",value:function(e,t,n){var r=this.resolve(ZL({},t,{value:e}));return"function"===typeof n?r._validate(e,t,n):new Promise((function(n,i){return r._validate(e,t,(function(e,t){e?i(e):n(t)}))}))}},{key:"validateSync",value:function(e,t){var n;return this.resolve(ZL({},t,{value:e}))._validate(e,ZL({},t,{sync:!0}),(function(e,t){if(e)throw e;n=t})),n}},{key:"isValid",value:function(e,t){return this.validate(e,t).then((function(){return!0}),(function(e){if(VL.isError(e))return!1;throw e}))}},{key:"isValidSync",value:function(e,t){try{return this.validateSync(e,t),!0}catch(n){if(VL.isError(n))return!1;throw n}}},{key:"_getDefault",value:function(){var e=this.spec.default;return null==e?e:"function"===typeof e?e.call(this):mL(e)}},{key:"getDefault",value:function(e){return this.resolve(e||{})._getDefault()}},{key:"default",value:function(e){if(0===arguments.length)return this._getDefault();var t=this.clone({default:e});return t}},{key:"strict",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.clone();return t.spec.strict=e,t}},{key:"_isPresent",value:function(e){return null!=e}},{key:"defined",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:SL.defined;return this.test({message:e,name:"defined",exclusive:!0,test:function(e){return void 0!==e}})}},{key:"required",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:SL.required;return this.clone({presence:"required"}).withMutation((function(t){return t.test({message:e,name:"required",exclusive:!0,test:function(e){return this.schema._isPresent(e)}})}))}},{key:"notRequired",value:function(){var e=this.clone({presence:"optional"});return e.tests=e.tests.filter((function(e){return"required"!==e.OPTIONS.name})),e}},{key:"nullable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.clone({nullable:!1!==e});return t}},{key:"transform",value:function(e){var t=this.clone();return t.transforms.push(e),t}},{key:"test",value:function(){var e;if(void 0===(e=1===arguments.length?"function"===typeof(arguments.length<=0?void 0:arguments[0])?{test:arguments.length<=0?void 0:arguments[0]}:arguments.length<=0?void 0:arguments[0]:2===arguments.length?{name:arguments.length<=0?void 0:arguments[0],test:arguments.length<=1?void 0:arguments[1]}:{name:arguments.length<=0?void 0:arguments[0],message:arguments.length<=1?void 0:arguments[1],test:arguments.length<=2?void 0:arguments[2]}).message&&(e.message=SL.default),"function"!==typeof e.test)throw new TypeError("`test` is a required parameters");var t=this.clone(),n=QL(e),r=e.exclusive||e.name&&!0===t.exclusiveTests[e.name];if(e.exclusive&&!e.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return e.name&&(t.exclusiveTests[e.name]=!!e.exclusive),t.tests=t.tests.filter((function(t){if(t.OPTIONS.name===e.name){if(r)return!1;if(t.OPTIONS.test===n.OPTIONS.test)return!1}return!0})),t.tests.push(n),t}},{key:"when",value:function(e,t){Array.isArray(e)||"string"===typeof e||(t=e,e=".");var n=this.clone(),r=LL(e).map((function(e){return new KL(e)}));return r.forEach((function(e){e.isSibling&&n.deps.push(e.key)})),n.conditions.push(new jL(r,t)),n}},{key:"typeError",value:function(e){var t=this.clone();return t._typeError=QL({message:e,name:"typeError",test:function(e){return!(void 0!==e&&!this.schema.isType(e))||this.createError({params:{type:this.schema._type}})}}),t}},{key:"oneOf",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:SL.oneOf,n=this.clone();return e.forEach((function(e){n._whitelist.add(e),n._blacklist.delete(e)})),n._whitelistError=QL({message:t,name:"oneOf",test:function(e){if(void 0===e)return!0;var t=this.schema._whitelist,n=t.resolveAll(this.resolve);return!!n.includes(e)||this.createError({params:{values:t.toArray().join(", "),resolved:n}})}}),n}},{key:"notOneOf",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:SL.notOneOf,n=this.clone();return e.forEach((function(e){n._blacklist.add(e),n._whitelist.delete(e)})),n._blacklistError=QL({message:t,name:"notOneOf",test:function(e){var t=this.schema._blacklist,n=t.resolveAll(this.resolve);return!n.includes(e)||this.createError({params:{values:t.toArray().join(", "),resolved:n}})}}),n}},{key:"strip",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.clone();return t.spec.strip=e,t}},{key:"describe",value:function(){var e=this.clone(),t=e.spec,n=t.label,r={meta:t.meta,label:n,type:e.type,oneOf:e._whitelist.describe(),notOneOf:e._blacklist.describe(),tests:e.tests.map((function(e){return{name:e.OPTIONS.name,params:e.OPTIONS.params}})).filter((function(e,t,n){return n.findIndex((function(t){return t.name===e.name}))===t}))};return r}}]),e}();eM.prototype.__isYupSchema__=!0;for(var tM=function(){var e=rM[nM];eM.prototype["".concat(e,"At")]=function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=XL(this,t,n,r.context),a=i.parent,o=i.parentPath,s=i.schema;return s[e](a&&a[o],ZL({},r,{parent:a,path:t}))}},nM=0,rM=["validate","validateSync"];nM<rM.length;nM++)tM();for(var iM=0,aM=["equals","is"];iM<aM.length;iM++){var oM=aM[iM];eM.prototype[oM]=eM.prototype.oneOf}for(var sM=0,uM=["not","nope"];sM<uM.length;sM++){var cM=uM[sM];eM.prototype[cM]=eM.prototype.notOneOf}eM.prototype.optional=eM.prototype.notRequired;var lM=eM;lM.prototype;var fM=function(e){return null==e};var hM=function(e){k(n,e);var t=_(n);function n(){var e;return p(this,n),(e=t.call(this,{type:"boolean"})).withMutation((function(){e.transform((function(e){if(!this.isType(e)){if(/^(true|1)$/i.test(String(e)))return!0;if(/^(false|0)$/i.test(String(e)))return!1}return e}))})),e}return g(n,[{key:"_typeCheck",value:function(e){return e instanceof Boolean&&(e=e.valueOf()),"boolean"===typeof e}},{key:"isTrue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:RL.isValue;return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"true"},test:function(e){return fM(e)||!0===e}})}},{key:"isFalse",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:RL.isValue;return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"false"},test:function(e){return fM(e)||!1===e}})}}]),n}(eM);hM.prototype;var dM=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,pM=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,vM=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,mM=function(e){return fM(e)||e===e.trim()},yM={}.toString();function gM(){return new bM}var bM=function(e){k(n,e);var t=_(n);function n(){var e;return p(this,n),(e=t.call(this,{type:"string"})).withMutation((function(){e.transform((function(e){if(this.isType(e))return e;if(Array.isArray(e))return e;var t=null!=e&&e.toString?e.toString():e;return t===yM?e:t}))})),e}return g(n,[{key:"_typeCheck",value:function(e){return e instanceof String&&(e=e.valueOf()),"string"===typeof e}},{key:"_isPresent",value:function(e){return E(i(n.prototype),"_isPresent",this).call(this,e)&&!!e.length}},{key:"length",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:EL.length;return this.test({message:t,name:"length",exclusive:!0,params:{length:e},test:function(t){return fM(t)||t.length===this.resolve(e)}})}},{key:"min",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:EL.min;return this.test({message:t,name:"min",exclusive:!0,params:{min:e},test:function(t){return fM(t)||t.length>=this.resolve(e)}})}},{key:"max",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:EL.max;return this.test({name:"max",exclusive:!0,message:t,params:{max:e},test:function(t){return fM(t)||t.length<=this.resolve(e)}})}},{key:"matches",value:function(e,t){var n,r,i=!1;if(t)if("object"===typeof t){var a=t.excludeEmptyString;i=void 0!==a&&a,n=t.message,r=t.name}else n=t;return this.test({name:r||"matches",message:n||EL.matches,params:{regex:e},test:function(t){return fM(t)||""===t&&i||-1!==t.search(e)}})}},{key:"email",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:EL.email;return this.matches(dM,{name:"email",message:e,excludeEmptyString:!0})}},{key:"url",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:EL.url;return this.matches(pM,{name:"url",message:e,excludeEmptyString:!0})}},{key:"uuid",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:EL.uuid;return this.matches(vM,{name:"uuid",message:e,excludeEmptyString:!1})}},{key:"ensure",value:function(){return this.default("").transform((function(e){return null===e?"":e}))}},{key:"trim",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:EL.trim;return this.transform((function(e){return null!=e?e.trim():e})).test({message:e,name:"trim",test:mM})}},{key:"lowercase",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:EL.lowercase;return this.transform((function(e){return fM(e)?e:e.toLowerCase()})).test({message:e,name:"string_case",exclusive:!0,test:function(e){return fM(e)||e===e.toLowerCase()}})}},{key:"uppercase",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:EL.uppercase;return this.transform((function(e){return fM(e)?e:e.toUpperCase()})).test({message:e,name:"string_case",exclusive:!0,test:function(e){return fM(e)||e===e.toUpperCase()}})}}]),n}(eM);gM.prototype=bM.prototype;function kM(){return new wM}var wM=function(e){k(n,e);var t=_(n);function n(){var e;return p(this,n),(e=t.call(this,{type:"number"})).withMutation((function(){e.transform((function(e){var t=e;if("string"===typeof t){if(""===(t=t.replace(/\s/g,"")))return NaN;t=+t}return this.isType(t)?t:parseFloat(t)}))})),e}return g(n,[{key:"_typeCheck",value:function(e){return e instanceof Number&&(e=e.valueOf()),"number"===typeof e&&!function(e){return e!=+e}(e)}},{key:"min",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:TL.min;return this.test({message:t,name:"min",exclusive:!0,params:{min:e},test:function(t){return fM(t)||t>=this.resolve(e)}})}},{key:"max",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:TL.max;return this.test({message:t,name:"max",exclusive:!0,params:{max:e},test:function(t){return fM(t)||t<=this.resolve(e)}})}},{key:"lessThan",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:TL.lessThan;return this.test({message:t,name:"max",exclusive:!0,params:{less:e},test:function(t){return fM(t)||t<this.resolve(e)}})}},{key:"moreThan",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:TL.moreThan;return this.test({message:t,name:"min",exclusive:!0,params:{more:e},test:function(t){return fM(t)||t>this.resolve(e)}})}},{key:"positive",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:TL.positive;return this.moreThan(0,e)}},{key:"negative",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:TL.negative;return this.lessThan(0,e)}},{key:"integer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:TL.integer;return this.test({name:"integer",message:e,test:function(e){return fM(e)||Number.isInteger(e)}})}},{key:"truncate",value:function(){return this.transform((function(e){return fM(e)?e:0|e}))}},{key:"round",value:function(e){var t,n=["ceil","floor","round","trunc"];if("trunc"===(e=(null==(t=e)?void 0:t.toLowerCase())||"round"))return this.truncate();if(-1===n.indexOf(e.toLowerCase()))throw new TypeError("Only valid options for round() are: "+n.join(", "));return this.transform((function(t){return fM(t)?t:Math[e](t)}))}}]),n}(eM);kM.prototype=wM.prototype;var _M=/^(\d{4}|[+\-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;var xM=new Date("");function CM(){return new SM}var SM=function(e){k(n,e);var t=_(n);function n(){var e;return p(this,n),(e=t.call(this,{type:"date"})).withMutation((function(){e.transform((function(e){return this.isType(e)?e:(e=function(e){var t,n,r=[1,4,5,6,7,10,11],i=0;if(n=_M.exec(e)){for(var a,o=0;a=r[o];++o)n[a]=+n[a]||0;n[2]=(+n[2]||1)-1,n[3]=+n[3]||1,n[7]=n[7]?String(n[7]).substr(0,3):0,void 0!==n[8]&&""!==n[8]||void 0!==n[9]&&""!==n[9]?("Z"!==n[8]&&void 0!==n[9]&&(i=60*n[10]+n[11],"+"===n[9]&&(i=0-i)),t=Date.UTC(n[1],n[2],n[3],n[4],n[5]+i,n[6],n[7])):t=+new Date(n[1],n[2],n[3],n[4],n[5],n[6],n[7])}else t=Date.parse?Date.parse(e):NaN;return t}(e),isNaN(e)?xM:new Date(e))}))})),e}return g(n,[{key:"_typeCheck",value:function(e){return t=e,"[object Date]"===Object.prototype.toString.call(t)&&!isNaN(e.getTime());var t}},{key:"prepareParam",value:function(e,t){var n;if(KL.isRef(e))n=e;else{var r=this.cast(e);if(!this._typeCheck(r))throw new TypeError("`".concat(t,"` must be a Date or a value that can be `cast()` to a Date"));n=r}return n}},{key:"min",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:IL.min,n=this.prepareParam(e,"min");return this.test({message:t,name:"min",exclusive:!0,params:{min:e},test:function(e){return fM(e)||e>=this.resolve(n)}})}},{key:"max",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:IL.max,n=this.prepareParam(e,"max");return this.test({message:t,name:"max",exclusive:!0,params:{max:e},test:function(e){return fM(e)||e<=this.resolve(n)}})}}]),n}(eM);SM.INVALID_DATE=xM,CM.prototype=SM.prototype,CM.INVALID_DATE=xM;var EM=n(7499),TM=n.n(EM),IM=n(567),RM=n.n(IM),PM=n(9029),OM=n.n(PM),NM=n(6514),AM=n.n(NM);function DM(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=new Set,i=new Set(t.map((function(e){var t=d(e,2),n=t[0],r=t[1];return"".concat(n,"-").concat(r)})));function a(e,t){var a=(0,HL.split)(e)[0];r.add(a),i.has("".concat(t,"-").concat(a))||n.push([t,a])}var o=function(t){if(AL()(e,t)){var n=e[t];r.add(t),KL.isRef(n)&&n.isSibling?a(n.path,t):DL(n)&&"deps"in n&&n.deps.forEach((function(e){return a(e,t)}))}};for(var s in e)o(s);return AM().array(Array.from(r),n).reverse()}function FM(e,t){var n=1/0;return e.some((function(e,r){var i;if(-1!==(null==(i=t.path)?void 0:i.indexOf(e)))return n=r,!0})),n}function jM(e){return function(t,n){return FM(e,t)-FM(e,n)}}function LM(){return LM=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},LM.apply(this,arguments)}var MM=function(e){return"[object Object]"===Object.prototype.toString.call(e)};function UM(e,t){var n=Object.keys(e.fields);return Object.keys(t).filter((function(e){return-1===n.indexOf(e)}))}var VM=jM([]),zM=function(e){k(n,e);var t=_(n);function n(e){var r;return p(this,n),(r=t.call(this,{type:"object"})).fields=Object.create(null),r._sortErrors=VM,r._nodes=[],r._excludedEdges=[],r.withMutation((function(){r.transform((function(e){if("string"===typeof e)try{e=JSON.parse(e)}catch(t){e=null}return this.isType(e)?e:null})),e&&r.shape(e)})),r}return g(n,[{key:"_typeCheck",value:function(e){return MM(e)||"function"===typeof e}},{key:"_cast",value:function(e){var t,r=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=E(i(n.prototype),"_cast",this).call(this,e,a);if(void 0===o)return this.getDefault();if(!this._typeCheck(o))return o;var s,u=this.fields,c=null!=(t=a.stripUnknown)?t:this.spec.noUnknown,l=this._nodes.concat(Object.keys(o).filter((function(e){return-1===r._nodes.indexOf(e)}))),f={},h=LM({},a,{parent:f,__validating:a.__validating||!1}),d=!1,p=T(l);try{for(p.s();!(s=p.n()).done;){var v=s.value,m=u[v],y=AL()(o,v);if(m){var g=void 0,b=o[v];h.path=(a.path?"".concat(a.path,"."):"")+v;var k="spec"in(m=m.resolve({value:b,context:a.context,parent:f}))?m.spec:void 0,w=null==k?void 0:k.strict;if(null==k?void 0:k.strip){d=d||v in o;continue}void 0!==(g=a.__validating&&w?o[v]:m.cast(o[v],h))&&(f[v]=g)}else y&&!c&&(f[v]=o[v]);f[v]!==o[v]&&(d=!0)}}catch(_){p.e(_)}finally{p.f()}return d?f:o}},{key:"_validate",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0,o=[],s=r.sync,u=r.from,c=void 0===u?[]:u,l=r.originalValue,f=void 0===l?e:l,h=r.abortEarly,d=void 0===h?this.spec.abortEarly:h,p=r.recursive,v=void 0===p?this.spec.recursive:p;c=[{schema:this,value:f}].concat(C(c)),r.__validating=!0,r.originalValue=f,r.from=c,E(i(n.prototype),"_validate",this).call(this,e,r,(function(e,n){if(e){if(!VL.isError(e)||d)return void a(e,n);o.push(e)}if(v&&MM(n)){f=f||n;var i=t._nodes.map((function(e){return function(i,a){var o=-1===e.indexOf(".")?(r.path?"".concat(r.path,"."):"")+e:"".concat(r.path||"",'["').concat(e,'"]'),s=t.fields[e];s&&"validate"in s?s.validate(n[e],LM({},r,{path:o,from:c,strict:!0,parent:n,originalValue:f[e]}),a):a(null)}}));zL({sync:s,tests:i,value:n,errors:o,endEarly:d,sort:t._sortErrors,path:r.path},a)}else a(o[0]||null,n)}))}},{key:"clone",value:function(e){var t=E(i(n.prototype),"clone",this).call(this,e);return t.fields=LM({},this.fields),t._nodes=this._nodes,t._excludedEdges=this._excludedEdges,t._sortErrors=this._sortErrors,t}},{key:"concat",value:function(e){for(var t=this,r=E(i(n.prototype),"concat",this).call(this,e),a=r.fields,o=0,s=Object.entries(this.fields);o<s.length;o++){var u=d(s[o],2),c=u[0],l=u[1],f=a[c];void 0===f?a[c]=l:f instanceof eM&&l instanceof eM&&(a[c]=l.concat(f))}return r.withMutation((function(){return r.shape(a,t._excludedEdges)}))}},{key:"getDefaultFromShape",value:function(){var e=this,t={};return this._nodes.forEach((function(n){var r=e.fields[n];t[n]="default"in r?r.getDefault():void 0})),t}},{key:"_getDefault",value:function(){return"default"in this.spec?E(i(n.prototype),"_getDefault",this).call(this):this._nodes.length?this.getDefaultFromShape():void 0}},{key:"shape",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=this.clone(),r=Object.assign(n.fields,e);return n.fields=r,n._sortErrors=jM(Object.keys(r)),t.length&&(Array.isArray(t[0])||(t=[t]),n._excludedEdges=[].concat(C(n._excludedEdges),C(t))),n._nodes=DM(r,n._excludedEdges),n}},{key:"pick",value:function(e){var t,n={},r=T(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;this.fields[i]&&(n[i]=this.fields[i])}}catch(a){r.e(a)}finally{r.f()}return this.clone().withMutation((function(e){return e.fields={},e.shape(n)}))}},{key:"omit",value:function(e){var t=this.clone(),n=t.fields;t.fields={};var r,i=T(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete n[a]}}catch(o){i.e(o)}finally{i.f()}return t.withMutation((function(){return t.shape(n)}))}},{key:"from",value:function(e,t,n){var r=(0,HL.getter)(e,!0);return this.transform((function(i){if(null==i)return i;var a=i;return AL()(i,e)&&(a=LM({},i),n||delete a[e],a[t]=r(i)),a}))}},{key:"noUnknown",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:PL.noUnknown;"string"===typeof e&&(t=e,e=!0);var n=this.test({name:"noUnknown",exclusive:!0,message:t,test:function(t){if(null==t)return!0;var n=UM(this.schema,t);return!e||0===n.length||this.createError({params:{unknown:n.join(", ")}})}});return n.spec.noUnknown=e,n}},{key:"unknown",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:PL.noUnknown;return this.noUnknown(!e,t)}},{key:"transformKeys",value:function(e){return this.transform((function(t){return t&&OM()(t,(function(t,n){return e(n)}))}))}},{key:"camelCase",value:function(){return this.transformKeys(RM())}},{key:"snakeCase",value:function(){return this.transformKeys(TM())}},{key:"constantCase",value:function(){return this.transformKeys((function(e){return TM()(e).toUpperCase()}))}},{key:"describe",value:function(){var e=E(i(n.prototype),"describe",this).call(this);return e.fields=qL()(this.fields,(function(e){return e.describe()})),e}}]),n}(eM);function BM(e){return new zM(e)}function qM(){return qM=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qM.apply(this,arguments)}BM.prototype=zM.prototype;var HM,WM,GM=function(e){k(n,e);var t=_(n);function n(e){var r;return p(this,n),(r=t.call(this,{type:"array"})).innerType=void 0,r.innerType=e,r.withMutation((function(){r.transform((function(e){if("string"===typeof e)try{e=JSON.parse(e)}catch(t){e=null}return this.isType(e)?e:null}))})),r}return g(n,[{key:"_typeCheck",value:function(e){return Array.isArray(e)}},{key:"_subType",get:function(){return this.innerType}},{key:"_cast",value:function(e,t){var r=this,a=E(i(n.prototype),"_cast",this).call(this,e,t);if(!this._typeCheck(a)||!this.innerType)return a;var o=!1,s=a.map((function(e,n){var i=r.innerType.cast(e,qM({},t,{path:"".concat(t.path||"","[").concat(n,"]")}));return i!==e&&(o=!0),i}));return o?s:a}},{key:"_validate",value:function(e){var t,r,a=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2?arguments[2]:void 0,u=[],c=o.sync,l=o.path,f=this.innerType,h=null!=(t=o.abortEarly)?t:this.spec.abortEarly,d=null!=(r=o.recursive)?r:this.spec.recursive,p=null!=o.originalValue?o.originalValue:e;E(i(n.prototype),"_validate",this).call(this,e,o,(function(e,t){if(e){if(!VL.isError(e)||h)return void s(e,t);u.push(e)}if(d&&f&&a._typeCheck(t)){p=p||t;for(var n=new Array(t.length),r=function(){var e=t[i],r="".concat(o.path||"","[").concat(i,"]"),a=qM({},o,{path:r,strict:!0,parent:t,index:i,originalValue:p[i]});n[i]=function(t,n){return f.validate(e,a,n)}},i=0;i<t.length;i++)r();zL({sync:c,path:l,value:t,errors:u,endEarly:h,tests:n},s)}else s(u[0]||null,t)}))}},{key:"clone",value:function(e){var t=E(i(n.prototype),"clone",this).call(this,e);return t.innerType=this.innerType,t}},{key:"concat",value:function(e){var t=E(i(n.prototype),"concat",this).call(this,e);return t.innerType=this.innerType,e.innerType&&(t.innerType=t.innerType?t.innerType.concat(e.innerType):e.innerType),t}},{key:"of",value:function(e){var t=this.clone();if(!DL(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+CL(e));return t.innerType=e,t}},{key:"length",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:OL.length;return this.test({message:t,name:"length",exclusive:!0,params:{length:e},test:function(t){return fM(t)||t.length===this.resolve(e)}})}},{key:"min",value:function(e,t){return t=t||OL.min,this.test({message:t,name:"min",exclusive:!0,params:{min:e},test:function(t){return fM(t)||t.length>=this.resolve(e)}})}},{key:"max",value:function(e,t){return t=t||OL.max,this.test({message:t,name:"max",exclusive:!0,params:{max:e},test:function(t){return fM(t)||t.length<=this.resolve(e)}})}},{key:"ensure",value:function(){var e=this;return this.default((function(){return[]})).transform((function(t,n){return e._typeCheck(t)?t:null==n?[]:[].concat(n)}))}},{key:"compact",value:function(e){var t=e?function(t,n,r){return!e(t,n,r)}:function(e){return!!e};return this.transform((function(e){return null!=e?e.filter(t):e}))}},{key:"describe",value:function(){var e=E(i(n.prototype),"describe",this).call(this);return this.innerType&&(e.innerType=this.innerType.describe()),e}},{key:"nullable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return E(i(n.prototype),"nullable",this).call(this,e)}},{key:"defined",value:function(){return E(i(n.prototype),"defined",this).call(this)}},{key:"required",value:function(e){return E(i(n.prototype),"required",this).call(this,e)}}]),n}(eM);GM.prototype;var KM=["title","titleId"];function $M(){return $M=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$M.apply(this,arguments)}function QM(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function YM(t,n){var r=t.title,i=t.titleId,a=QM(t,KM);return e.createElement("svg",$M({width:175,height:165,viewBox:"0 0 175 165",fill:"current",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":i},a),r?e.createElement("title",{id:i},r):null,HM||(HM=e.createElement("g",{filter:"url(#filter0_d_165_356)"},e.createElement("path",{d:"M57.9214 142.111C53.181 142.113 48.6347 140.251 45.2855 136.937L7.08296 99.2057C2.97235 95.143 2.97235 88.5574 7.08296 84.4947C11.1949 80.4333 17.8603 80.4333 21.9723 84.4947L57.9214 120.013L153.028 26.046C157.14 21.9847 163.805 21.9847 167.917 26.046C172.028 30.1087 172.028 36.6944 167.917 40.757L70.5574 136.937C67.2082 140.251 62.6619 142.113 57.9214 142.111Z"}))),WM||(WM=e.createElement("defs",null,e.createElement("filter",{id:"filter0_d_165_356",x:0,y:0,width:175,height:173,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},e.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),e.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),e.createElement("feOffset",{dy:4}),e.createElement("feGaussianBlur",{stdDeviation:2}),e.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),e.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),e.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_165_356"}),e.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_165_356",result:"shape"})))))}var XM=e.forwardRef(YM);n.p;var JM=function(e){var t=e.patientId,n=mR();return(0,wP.jsx)("div",{className:"modal",children:(0,wP.jsxs)("div",{className:"modalContainer",children:[(0,wP.jsxs)("div",{className:"mb-5",children:[(0,wP.jsx)(XM,{className:"svg195 fill-success"}),(0,wP.jsx)("h4",{className:"text-3xl font-bold",children:"Paciente creado correctamente"})]}),(0,wP.jsxs)("div",{className:"flex justify-around mt-5",children:[(0,wP.jsxs)("button",{onClick:function(){return n("/PatientList")},children:[(0,wP.jsx)(YR,{className:"svg120 fill-primary"}),(0,wP.jsx)("h4",{className:"text-2xl font-bold",children:"Lista de pacientes"})]}),(0,wP.jsxs)("button",{onClick:function(){return n("/RegisterStudy/",{state:{patientId:t}})},children:[(0,wP.jsx)(kP,{className:"svg120 fill-primary"}),(0,wP.jsx)("h4",{className:"text-2xl font-bold",children:"Asignar estudio"})]})]})]})})};var ZM,eU,tU=function(){var t=P_(Q_(),"Patients"),n=function(){var e=P(I().mark((function e(n){var r;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ox(t,n);case 2:return r=e.sent,n.id=r.id,s(n),e.abrupt("return",Px(O_(Q_(),"Patients",n.id),n));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r=mR(),i=(new Date).toISOString().split("T")[0],a=d(e.useState(),2),o=a[0],s=a[1],u=d(e.useState(!1),2),c=u[0],l=u[1],f=d(e.useState(!1),2),h=f[0],p=f[1];return(0,wP.jsxs)(wP.Fragment,{children:[(0,wP.jsx)(OP,{goTo:-1}),(0,wP.jsx)(eL,{initialValues:{id:"",patientId:null!=(null===o||void 0===o?void 0:o.patientId)?o.patientId:"",name:null!==o&&void 0!==o&&o.name?o.name:"",email:null!==o&&void 0!==o&&o.email?null===o||void 0===o?void 0:o.email:"",phoneNumber:null!==o&&void 0!==o&&o.phoneNumber?o.phoneNumber:"",birthDate:null!==o&&void 0!==o&&o.birthDate?o.birthDate:"",gender:(null===o||void 0===o?void 0:o.gender)||NP.Other,allergies:null!==o&&void 0!==o&&o.allergies?o.allergies:"",medicalCondition:null!==o&&void 0!==o&&o.medicalCondition?o.medicalCondition:""},onSubmit:function(e,t){var r=t.setSubmitting;r(!0),l(!0),n(e).then((function(e){r(!1),l(!1),p(!0)}),(function(e){r(!1),l(!1),console.log("err",e)}))},validationSchema:BM({patientId:gM().required("Requerido").ensure().trim(),name:gM().required("Requerido").ensure().trim(),email:gM().email("Email inv\xe1lido").required("Requerido").ensure().trim(),gender:kM().required("Requerido"),phoneNumber:gM().max(15,"M\xe1ximo 15 caracteres").ensure().trim(),birthDate:CM().max(i,"Fecha inv\xe1lida").required("Requerido"),allergies:gM().max(30,"M\xe1ximo 30 caracteres").ensure().trim(),medicalCondition:gM().max(30,"M\xe1ximo 30 caracteres").ensure().trim()}),children:function(e){var t=e.isValid,n=e.setValues;return(0,wP.jsxs)(oL,{noValidate:!0,children:[(0,wP.jsxs)("div",{className:"bg-white w-full max-w-xl py-10 px-14 rounded-3xl border-primary border-[3px] m-auto",children:[(0,wP.jsx)("h1",{className:"text-center text-black text-4xl font-extrabold mb-5",children:"Registro de paciente"}),(0,wP.jsx)("label",{htmlFor:"name",children:"Nombre"}),(0,wP.jsx)(aL,{id:"name",name:"name",type:"text"}),(0,wP.jsx)("p",{className:"block mb-3 text-danger",children:(0,wP.jsx)(pL,{name:"name"})}),(0,wP.jsx)("label",{htmlFor:"name",children:"Documento de identidad"}),(0,wP.jsx)(aL,{id:"patientId",name:"patientId",type:"string"}),(0,wP.jsx)("p",{className:"block mb-3 text-danger",children:(0,wP.jsx)(pL,{name:"patientId"})}),(0,wP.jsx)("label",{htmlFor:"email",children:"Email"}),(0,wP.jsx)(aL,{id:"email",name:"email",type:"email"}),(0,wP.jsx)("p",{className:"block mb-3 text-danger",children:(0,wP.jsx)(pL,{name:"email"})}),(0,wP.jsx)("label",{htmlFor:"birthDate",children:"Fecha de nacimiento"}),(0,wP.jsx)(aL,{id:"birthDate",name:"birthDate",type:"date",max:i}),(0,wP.jsx)("p",{className:"block mb-3 text-danger",children:(0,wP.jsx)(pL,{name:"birthDate"})}),(0,wP.jsx)("label",{htmlFor:"gender",children:"G\xe9nero"}),(0,wP.jsxs)(aL,{id:"gender",name:"gender",as:"select",children:[(0,wP.jsx)("option",{value:"0",children:"Male"}),(0,wP.jsx)("option",{value:"1",children:"Female"}),(0,wP.jsx)("option",{value:"2",children:"Other"}),(0,wP.jsx)("option",{value:"3",children:"Na"})]}),(0,wP.jsx)("p",{className:"block mb-3 text-danger",children:(0,wP.jsx)(pL,{name:"gender"})}),(0,wP.jsx)("label",{htmlFor:"phoneNumber",children:"N\xfamero de telefono"}),(0,wP.jsx)(aL,{id:"phoneNumber",name:"phoneNumber",type:"string"}),(0,wP.jsx)("p",{className:"block mb-3 text-danger",children:(0,wP.jsx)(pL,{name:"phoneNumber"})}),(0,wP.jsx)("label",{htmlFor:"allergies",children:"Alergias"}),(0,wP.jsx)(aL,{id:"allergies",name:"allergies"}),(0,wP.jsx)("p",{className:"block mb-3 text-danger",children:(0,wP.jsx)(pL,{name:"allergies"})}),(0,wP.jsx)("label",{htmlFor:"medicalCondition",children:"Condici\xf3n m\xe9dica"}),(0,wP.jsx)(aL,{id:"medicalCondition",name:"medicalCondition"}),(0,wP.jsx)("p",{className:"block mb-3 text-danger",children:(0,wP.jsx)(pL,{name:"medicalCondition"})})]}),(0,wP.jsxs)("div",{className:"flex justify-around my-10 w-4/6 mx-auto",children:[(0,wP.jsx)("button",{type:"button",onClick:function(){r("/")},className:"outlineDanger rounded-xl w-44 h-12 text-2xl",children:"Cancelar"}),(0,wP.jsx)("button",{type:"reset",onClick:function(){var e;e=n,setTimeout((function(){e({patientId:"",name:"",email:"",phoneNumber:"",birthDate:"",gender:NP[0],allergies:"",medicalCondition:""},!1)}),1)},className:"outlinePrimary rounded-xl w-44 h-12 text-2xl",id:"resetFormBtn",children:"Limpiar"}),(0,wP.jsx)("button",{type:"submit",className:"filledPrimary rounded-xl w-44 h-12 disabled:opacity-50 text-2xl",disabled:!t,children:"Continuar"})]})]})}}),h&&o&&(0,wP.jsx)(JM,{patientId:o.id}),(0,wP.jsx)(LN,{isLoading:c})]})},nU=["title","titleId"];function rU(){return rU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rU.apply(this,arguments)}function iU(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function aU(t,n){var r=t.title,i=t.titleId,a=iU(t,nU);return e.createElement("svg",rU({width:190,height:190,viewBox:"0 0 190 190",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":i},a),r?e.createElement("title",{id:i},r):null,ZM||(ZM=e.createElement("g",{clipPath:"url(#clip0_192_394)"},e.createElement("path",{d:"M95 0C76.2108 0 57.8435 5.57165 42.2209 16.0104C26.5982 26.4491 14.4218 41.2861 7.23149 58.6451C0.0411622 76.0041 -1.84015 95.1054 1.82544 113.534C5.49104 131.962 14.5389 148.889 27.8249 162.175C41.1109 175.461 58.0383 184.509 76.4665 188.175C94.8947 191.84 113.996 189.959 131.355 182.769C148.714 175.578 163.551 163.402 173.99 147.779C184.428 132.157 190 113.789 190 95C189.973 69.8128 179.955 45.665 162.145 27.8549C144.335 10.0449 120.187 0.0272419 95 0ZM95 174.167C79.3424 174.167 64.0363 169.524 51.0174 160.825C37.9985 152.126 27.8515 139.762 21.8596 125.296C15.8676 110.83 14.2999 94.9122 17.3545 79.5554C20.4092 64.1985 27.9491 50.0924 39.0208 39.0207C50.0924 27.9491 64.1986 20.4092 79.5554 17.3545C94.9122 14.2998 110.83 15.8676 125.296 21.8595C139.762 27.8515 152.126 37.9985 160.825 51.0174C169.524 64.0363 174.167 79.3423 174.167 95C174.144 115.989 165.796 136.112 150.954 150.954C136.112 165.795 115.989 174.144 95 174.167Z",fill:"#00308F"}),e.createElement("path",{d:"M95.0003 79.1667H87.0837C84.984 79.1667 82.9704 80.0008 81.4857 81.4855C80.0011 82.9702 79.167 84.9838 79.167 87.0834C79.167 89.183 80.0011 91.1967 81.4857 92.6813C82.9704 94.166 84.984 95.0001 87.0837 95.0001H95.0003V142.5C95.0003 144.6 95.8344 146.613 97.3191 148.098C98.8037 149.583 100.817 150.417 102.917 150.417C105.017 150.417 107.03 149.583 108.515 148.098C110 146.613 110.834 144.6 110.834 142.5V95.0001C110.834 90.8008 109.166 86.7736 106.196 83.8042C103.227 80.8349 99.1996 79.1667 95.0003 79.1667Z",fill:"#00308F"}),e.createElement("path",{d:"M95 63.3333C101.558 63.3333 106.875 58.0166 106.875 51.4583C106.875 44.8999 101.558 39.5833 95 39.5833C88.4416 39.5833 83.125 44.8999 83.125 51.4583C83.125 58.0166 88.4416 63.3333 95 63.3333Z",fill:"#00308F"}))),eU||(eU=e.createElement("defs",null,e.createElement("clipPath",{id:"clip0_192_394"},e.createElement("rect",{width:190,height:190,fill:"white"})))))}var oU=e.forwardRef(aU);n.p;var sU=function(e){var t=e.setShowConfirmationModal,n=e.createStudy;return(0,wP.jsx)("div",{className:"modal",children:(0,wP.jsxs)("div",{className:"modalContainer !py-20 w-1/2",children:[(0,wP.jsx)(oU,{className:"svg195 fill-primary !mb-8"}),(0,wP.jsx)("h3",{className:"block font-bold text-4xl",children:"\xbfEst\xe1s seguro que los datos introducidos son correctos?"}),(0,wP.jsxs)("div",{className:"flex justify-around mt-10",children:[(0,wP.jsx)("button",{onClick:function(){return t(!1)},className:"outlinePrimary rounded-xl w-44 h-12 text-2xl",children:"volver"}),(0,wP.jsx)("button",{onClick:function(){return n()},className:"filledPrimary rounded-xl w-44 h-12 text-2xl",children:"Env\xedar"})]})]})})};var uU=function(t){var n=t.patient,r=t.setStudy,i=t.setShowConfirmationModal,a=mR(),o=(new Date).toISOString().split("T")[0],s=d(e.useState([]),2),u=s[0],c=s[1],l=d(e.useState([]),2),f=l[0],h=l[1];e.useEffect((function(){!function(){for(var e=[],t=0;t<4;t++)e[t]={value:t,label:AP[t]};h(e)}(),function(){for(var e=[],t=0;t<18;t++)e[t]={value:t,label:FP[t]};c(e)}()}),[]);var p=e.useCallback((function(e){switch(e){case AP[0]:return"Baja";case AP[1]:return"Normal";case AP[2]:return"Urgente";case AP[3]:return"Emergencia";default:return""}}),[]);return(0,wP.jsxs)("div",{children:[(0,wP.jsx)("hr",{className:"mb-5 mt-10 text-mediumGrey"}),(0,wP.jsx)(eL,{initialValues:{id:"",studyInstanceUID:"",pacsUID:"",referringPhysician:"",patient:n,studyDate:o,modality:FP.CR,procedure:"",status:DP.PENDING,priority:AP.LOW},onSubmit:function(e,t){t.setSubmitting;e.patient=n,e.patient&&(i(!0),r(e))},validationSchema:BM({studyDate:CM().required("Requerido"),modality:kM().required("Requerido"),procedure:gM().max(30,"30 caracteres m\xe1ximo").required("Requerido").ensure().trim(),priority:kM().required("Requerido"),referringPhysician:gM().required("Requerido").max(30,"M\xe1ximo 30 caracteres").ensure().trim()}),children:function(e){e.setValues;return(0,wP.jsxs)(oL,{children:[(0,wP.jsx)("h4",{className:"text-black text-2xl font-bold mb-5",children:"Estudio"}),(0,wP.jsxs)("fieldset",{disabled:void 0===(null===n||void 0===n?void 0:n.id),className:"flex justify-around",children:[(0,wP.jsxs)("div",{className:"w-[45%]",children:[(0,wP.jsx)("label",{htmlFor:"name",children:"Fecha del estudio"}),(0,wP.jsx)(aL,{id:"studyDate",name:"studyDate",type:"date",className:"w-full invalid:border-b-danger"}),(0,wP.jsx)("p",{className:"block mb-3 text-danger",children:(0,wP.jsx)(pL,{name:"studyDate"})}),(0,wP.jsx)("label",{htmlFor:"modality",children:"Modalidad"}),(0,wP.jsx)(aL,{id:"modality",name:"modality",as:"select",className:"w-full",children:u.map((function(e){var t=e.value,n=e.label;return(0,wP.jsx)("option",{value:t,children:n},n)}))}),(0,wP.jsx)("p",{className:"block mb-3 text-danger",children:(0,wP.jsx)(pL,{name:"modality"})}),(0,wP.jsx)("label",{htmlFor:"referringPhysician",children:"M\xe9dico Referente"}),(0,wP.jsx)(aL,{id:"referringPhysician",name:"referringPhysician",className:"w-full"}),(0,wP.jsx)("p",{className:"block mb-3 text-danger",children:(0,wP.jsx)(pL,{name:"referringPhysician"})})]}),(0,wP.jsxs)("div",{className:"w-[45%] h-full",children:[(0,wP.jsx)("label",{htmlFor:"procedure",children:"Proceso"}),(0,wP.jsx)(aL,{id:"procedure",name:"procedure",className:"w-full"}),(0,wP.jsx)("p",{className:"block mb-3 text-danger",children:(0,wP.jsx)(pL,{name:"procedure"})}),(0,wP.jsx)("label",{htmlFor:"priority",children:"Prioridad"}),(0,wP.jsx)(aL,{id:"priority",name:"priority",as:"select",className:"w-full",children:f.map((function(e){var t=e.value,n=e.label;return(0,wP.jsx)("option",{value:t,children:p(n)},n)}))}),(0,wP.jsx)("p",{className:"block mb-3 text-danger",children:(0,wP.jsx)(pL,{name:"priority"})})]})]}),(0,wP.jsxs)("div",{className:"flex justify-evenly mt-5 mx-auto",children:[(0,wP.jsx)("button",{type:"button",className:"outlineDanger rounded-xl w-44 h-12 text-2xl",onClick:function(){return a(-1)},children:"Cancelar"}),(0,wP.jsx)("button",{type:"submit",className:"filledPrimary rounded-xl w-44 h-12 disabled:opacity-50 text-2xl",disabled:void 0===(null===n||void 0===n?void 0:n.id),children:"Continuar"})]})]})}})]})};var cU=function(t){var n=t.patient,r=t.setPatient,i=t.setIsLoading,a=P_(Q_(),"Patients"),o=function(){var e=P(I().mark((function e(t){var n;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ox(a,t);case 2:return n=e.sent,t.id=n.id,r(t),e.abrupt("return",Px(O_(Q_(),"Patients",t.id),t));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=P(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r(t),Px(O_(Q_(),"Patients",t.id),t).then((function(e){}),(function(e){console.log("updatePatient err: ",e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=e.useRef(),c=(new Date).toISOString().split("T")[0];return e.useEffect((function(){n&&u.current.setValues(n)}),[n]),(0,wP.jsx)(eL,{innerRef:u,initialValues:{id:null!==n&&void 0!==n&&n.id?n.id:"",patientId:null!==n&&void 0!==n&&n.patientId?n.patientId:"",name:null!==n&&void 0!==n&&n.name?n.name:"",email:null!==n&&void 0!==n&&n.email?null===n||void 0===n?void 0:n.email:"",phoneNumber:null!==n&&void 0!==n&&n.phoneNumber?n.phoneNumber:"",birthDate:null!==n&&void 0!==n&&n.birthDate?n.birthDate:"",gender:(null===n||void 0===n?void 0:n.gender)||NP.Other,allergies:null!==n&&void 0!==n&&n.allergies?n.allergies:"",medicalCondition:null!==n&&void 0!==n&&n.medicalCondition?n.medicalCondition:""},onSubmit:function(e,t){var n=t.setSubmitting;n(!0),i(!0),void 0!==e.id&&""!==e.id?(s(e),n(!1),i(!1)):void 0!==e.id&&""!==e.id||o(e).then((function(e){n(!1),i(!1)}),(function(e){n(!1),i(!1),console.log("addPatient err: ",e)}))},validationSchema:BM({patientId:gM().required("Requerido").ensure().trim(),name:gM().required("Requerido").ensure().trim(),email:gM().email("Email inv\xe1lido").required("Requerido").ensure().trim(),gender:gM().required("Requerido").ensure().trim(),phoneNumber:gM().max(15,"M\xe1ximo 15 caracteres").ensure().trim(),birthDate:CM().max(c,"Fecha inv\xe1lida").required("Requerido"),allergies:gM().max(30,"M\xe1ximo 30 caracteres").ensure(),medicalCondition:gM().max(30,"M\xe1ximo 30 caracteres").ensure().trim()}),children:function(e){var t=e.setValues;return(0,wP.jsxs)(oL,{noValidate:!0,children:[(0,wP.jsx)("h4",{className:"text-black text-2xl font-extrabold mb-5",children:"Paciente"}),(0,wP.jsxs)("div",{className:"flex justify-around items-center",children:[(0,wP.jsx)("div",{className:"w-[45%]",children:(0,wP.jsxs)("fieldset",{disabled:void 0!==(null===n||void 0===n?void 0:n.id),children:[(0,wP.jsx)("label",{htmlFor:"name",children:"Nombre"}),(0,wP.jsx)(aL,{id:"name",name:"name",type:"text",disabled:void 0!==n}),(0,wP.jsx)("p",{className:"block mb-3 text-danger",children:(0,wP.jsx)(pL,{name:"name"})}),(0,wP.jsx)("label",{htmlFor:"name",children:"Documento de identidad"}),(0,wP.jsx)(aL,{id:"patientId",name:"patientId",type:"string",disabled:void 0!==n}),(0,wP.jsx)("p",{className:"block mb-3 text-danger",children:(0,wP.jsx)(pL,{name:"patientId"})}),(0,wP.jsx)("label",{htmlFor:"birthDate",children:"Fecha de nacimiento"}),(0,wP.jsx)(aL,{id:"birthDate",name:"birthDate",type:"date",max:c,disabled:void 0!==n}),(0,wP.jsx)("p",{className:"block mb-3 text-danger",children:(0,wP.jsx)(pL,{name:"birthDate"})}),(0,wP.jsx)("label",{htmlFor:"gender",children:"G\xe9nero"}),(0,wP.jsxs)(aL,{id:"gender",name:"gender",as:"select",disabled:void 0!==n,children:[(0,wP.jsx)("option",{value:"0",children:"Male"}),(0,wP.jsx)("option",{value:"1",children:"Female"}),(0,wP.jsx)("option",{value:"2",children:"Other"}),(0,wP.jsx)("option",{value:"3",children:"Na"})]}),(0,wP.jsx)("p",{className:"block mb-3 text-danger",children:(0,wP.jsx)(pL,{name:"gender"})})]})}),(0,wP.jsxs)("div",{className:"w-[45%]",children:[(0,wP.jsxs)("fieldset",{disabled:void 0!==(null===n||void 0===n?void 0:n.id),children:[(0,wP.jsx)("label",{htmlFor:"email",children:"Email"}),(0,wP.jsx)(aL,{id:"email",name:"email",type:"email"}),(0,wP.jsx)("p",{className:"block mb-3 text-danger",children:(0,wP.jsx)(pL,{name:"email"})}),(0,wP.jsx)("label",{htmlFor:"phoneNumber",children:"N\xfamero de telefono"}),(0,wP.jsx)(aL,{id:"phoneNumber",name:"phoneNumber",type:"string"}),(0,wP.jsx)("p",{className:"block mb-3 text-danger",children:(0,wP.jsx)(pL,{name:"phoneNumber"})})]}),(0,wP.jsx)("label",{htmlFor:"allergies",children:"Alergias"}),(0,wP.jsx)(aL,{id:"allergies",name:"allergies"}),(0,wP.jsx)("p",{className:"block mb-3 text-danger",children:(0,wP.jsx)(pL,{name:"allergies"})}),(0,wP.jsx)("label",{htmlFor:"medicalCondition",children:"Condici\xf3n m\xe9dica"}),(0,wP.jsx)(aL,{id:"medicalCondition",name:"medicalCondition"}),(0,wP.jsx)("p",{className:"block mb-3 text-danger",children:(0,wP.jsx)(pL,{name:"medicalCondition"})})]})]}),(0,wP.jsxs)("div",{className:"flex justify-evenly my-5",children:[(0,wP.jsx)("button",{type:"submit",className:"outlinePrimary rounded-xl w-44 h-12 disabled:opacity-50 text-2xl",disabled:void 0===(null===n||void 0===n?void 0:n.id),children:"Actualizar"}),(0,wP.jsx)("button",{type:"reset",className:"outlinePrimary rounded-xl w-44 h-12 text-2xl",id:"resetFormBtn",disabled:void 0!==(null===n||void 0===n?void 0:n.id),onClick:function(){var e;e=t,setTimeout((function(){e({patientId:"",name:"",email:"",phoneNumber:"",birthDate:"",gender:NP[0],allergies:"",medicalCondition:""},!1)}),1)},children:"Limpiar"}),(0,wP.jsx)("button",{type:"submit",className:"filledPrimary rounded-xl w-44 h-12 text-2xl",disabled:void 0!==(null===n||void 0===n?void 0:n.id),children:"Crear"})]})]})}})};var lU=function(){var t=vR().state.patientId,n=mR(),r=nI(O_(Q_(),"Patients",t)),i=d(e.useState(),2),a=i[0],o=i[1],s=d(e.useState(),2),u=s[0],c=s[1],l=d(e.useState(!1),2),f=l[0],h=l[1],p=d(e.useState(!1),2),v=p[0],m=p[1];return e.useEffect((function(){t&&r.data&&o(r.data)}),[r,t]),(0,wP.jsxs)(wP.Fragment,{children:[(0,wP.jsx)(OP,{goTo:-1}),(0,wP.jsxs)("div",{className:"border-4 border-primary bg-white w-2/3 rounded-[40px] m-auto mb-10 px-20 py-5",children:[(0,wP.jsx)("h1",{className:"text-center text-black text-4xl font-bold mb-5",children:"Registro de estudio"}),(0,wP.jsx)(cU,{patient:a,setPatient:o,setIsLoading:h}),(0,wP.jsx)(uU,{patient:a,setStudy:c,setShowConfirmationModal:m})]}),v&&(0,wP.jsx)(sU,{setShowConfirmationModal:m,createStudy:function(){if(u&&u.patient){h(!0);var e=P_(Q_(),"Studies"),t=function(){var t=P(I().mark((function t(){var r;return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ox(e,u);case 2:return r=t.sent,u.id=r.id,c(u),t.abrupt("return",Px(O_(Q_(),"Studies",u.id),u).then((function(e){h(!1),n("/StudyDetail",{state:{studyId:u.id}})}),(function(e){console.log("createStudy err: ",e)})));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}}}),(0,wP.jsx)(LN,{isLoading:f})]})};var fU=function(){var t=MT(),n=qa(LT()),r=d(e.useState(""),2),i=r[0],a=r[1],o=d(e.useState(""),2),s=o[0],u=o[1],c=function(){var e=P(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("user: ",t),!i||!s){e.next=4;break}return e.next=4,ei(n,i,s).then((function(e){console.log(e)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,wP.jsx)(wP.Fragment,{children:(0,wP.jsxs)("div",{className:"flex items-center h-[100vh]",children:[(0,wP.jsx)("div",{className:"bg-primary h-full w-1/3 -z-10 absolute top-0 left-0"}),(0,wP.jsx)("div",{className:"w-1/3 min-w-[33.33333%] text-white text-8xl",children:(0,wP.jsxs)("div",{className:"m-auto text-center",children:[(0,wP.jsx)("p",{children:"LAT"}),(0,wP.jsx)("p",{children:"RIK"}),(0,wP.jsx)("p",{children:"RIS"})]})}),(0,wP.jsx)("div",{className:"w-[56%] max-w-[800px] m-auto",children:(0,wP.jsxs)("div",{className:"shadow-buttonShadow p-14 rounded-[40px] bg-white",children:[(0,wP.jsx)("h1",{className:"text-center font-bold text-2xl mb-10",children:"Inicia sesi\xf3n"}),(0,wP.jsxs)("form",{children:[(0,wP.jsx)("label",{htmlFor:"email",className:"font-bold text-2xl",children:"Correo electr\xf3nico"}),(0,wP.jsx)("input",{type:"email",id:"email",onChange:function(e){return a(e.target.value)}}),(0,wP.jsx)("label",{htmlFor:"password",className:"font-bold text-2xl",children:"Contrase\xf1a"}),(0,wP.jsx)("input",{type:"password",id:"password",onChange:function(e){return u(e.target.value)}}),(0,wP.jsx)("button",{type:"button",onClick:function(){return c()},className:"block filledPrimary rounded-3xl m-auto mt-10 w-48 h-10 text-2xl",children:"Ingresar"})]})]})})]})})};var hU=function(){var t,n=function(){var t=e.useContext(hR).matches,n=t[t.length-1];return n?n.params:{}}().studyId,r=d(e.useState(),2),i=r[0],a=r[1],o=d(e.useState(!1),2),s=o[0],u=o[1],c="";c=void 0===n?"undefined":n;var l=nI(O_(Q_(),"Studies",c));return e.useEffect((function(){console.log(i),n&&(u(!0),n&&l.data?(a(l.data),u(!1),console.log(i)):u(!1))}),[l.data]),(0,wP.jsxs)(wP.Fragment,{children:[(0,wP.jsxs)("section",{className:"mb-6 max-w-7xl mx-auto mt-[20vh] text-shadow",children:[(0,wP.jsx)("h3",{className:"font-bold text-4xl",children:"Resumen de estudio "}),i&&i.patient&&(0,wP.jsxs)("div",{children:[(0,wP.jsxs)("section",{className:"bg-secondary rounded-[30px] my-10  py-16 px-10  shadow-buttonShadow text-2xl",children:[(0,wP.jsx)("div",{className:"mb-5",children:(0,wP.jsxs)("div",{children:[(0,wP.jsx)("h3",{className:"font-bold text-6xl text-black",children:i.patient.name}),(0,wP.jsxs)("p",{className:"text-xl mt-3",children:[(0,wP.jsxs)("label",{className:"font-bold",children:["Documento de identidad:"," "]}),i.patient.patientId]})]})}),(0,wP.jsxs)("div",{className:"grid grid-cols-2",children:[(0,wP.jsx)("div",{className:"col-span-1",children:(0,wP.jsxs)("div",{children:[(0,wP.jsxs)("p",{children:[(0,wP.jsx)("label",{className:"font-bold",children:"G\xe9nero: "}),i.patient.gender]}),(0,wP.jsxs)("p",{children:[(0,wP.jsx)("label",{className:"font-bold",children:"Fecha de nacimiento: "}),null===(t=i.patient.birthDate)||void 0===t?void 0:t.toString()]}),(0,wP.jsxs)("p",{children:[(0,wP.jsx)("label",{className:"font-bold",children:"Edad: "}),"24"]}),(0,wP.jsxs)("p",{children:[(0,wP.jsx)("label",{className:"font-bold",children:"Alergias: "}),i.patient.allergies?i.patient.allergies:"Sin detalles"]}),(0,wP.jsxs)("p",{children:[(0,wP.jsx)("label",{className:"font-bold",children:"Condici\xf3n m\xe9dica: "}),i.patient.medicalCondition?i.patient.medicalCondition:"Sin detalles"]})]})}),(0,wP.jsxs)("div",{className:"col-span-1 ml-5",children:[(0,wP.jsxs)("p",{children:[(0,wP.jsx)("label",{className:"font-bold",children:"Fecha de estudio: "}),i.studyDate]}),(0,wP.jsxs)("p",{children:[(0,wP.jsx)("label",{className:"font-bold",children:"Modalidad: "}),i.modality]}),(0,wP.jsxs)("p",{children:[(0,wP.jsx)("label",{className:"font-bold",children:"Procedimiento: "}),i.procedure]})]})]})]}),(0,wP.jsx)("div",{className:"text-end",children:(0,wP.jsx)("button",{className:"filledPrimary text-4xl font-bold w-fit h-20 px-5 py-3 rounded-xl",type:"button",title:"Finalizar estudio",children:"Descargar"})})]})]}),(0,wP.jsx)(LN,{isLoading:s})]})};var dU=function(){var e=MT();return(0,wP.jsxs)(wP.Fragment,{children:[e.data&&(0,wP.jsx)(LR,{basename:"/",children:(0,wP.jsx)(OR,{children:(0,wP.jsxs)(RR,{path:"/",element:(0,wP.jsx)(SP,{}),children:[(0,wP.jsx)(RR,{index:!0,element:(0,wP.jsx)(_P,{})}),(0,wP.jsx)(RR,{path:"PatientForm",element:(0,wP.jsx)(tU,{})}),(0,wP.jsx)(RR,{path:"RegisterStudy",element:(0,wP.jsx)(lU,{})}),(0,wP.jsx)(RR,{path:"StudyList",element:(0,wP.jsx)(LP,{})}),(0,wP.jsx)(RR,{path:"PatientList",element:(0,wP.jsx)(MP,{})}),(0,wP.jsx)(RR,{path:"StudyDetail",element:(0,wP.jsx)(MN,{})}),(0,wP.jsx)(RR,{path:"DownloadStudy/:studyId",element:(0,wP.jsx)(hU,{})}),(0,wP.jsx)(RR,{path:"*",element:(0,wP.jsx)(_P,{})})]})})}),!e.data&&(0,wP.jsx)(LR,{basename:"/",children:(0,wP.jsxs)(OR,{children:[(0,wP.jsx)(RR,{path:"DownloadStudy/:studyId",element:(0,wP.jsx)(hU,{})}),(0,wP.jsx)(RR,{path:"*",element:(0,wP.jsx)(fU,{})})]})})]})};var pU,vU=function(){var e=qa(LT());return(0,wP.jsx)(mI,{sdk:e,children:(0,wP.jsx)(dU,{})})},mU="analytics",yU="firebase_id",gU="origin",bU=6e4,kU="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",wU="https://www.googletagmanager.com/gtag/js",_U=new Ue("@firebase/analytics");function xU(e){return Promise.all(e.map((function(e){return e.catch((function(e){return e}))})))}function CU(e,t){var n=document.createElement("script");n.src="".concat(wU,"?l=").concat(e,"&id=").concat(t),n.async=!0,document.head.appendChild(n)}function SU(e,t,n,r,i,a){return EU.apply(this,arguments)}function EU(){return EU=P(I().mark((function e(t,n,r,i,a,o){var s,u,c;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=i[a],e.prev=1,!s){e.next=7;break}return e.next=5,n[s];case 5:e.next=14;break;case 7:return e.next=9,xU(r);case 9:if(u=e.sent,!(c=u.find((function(e){return e.measurementId===a})))){e.next=14;break}return e.next=14,n[c.appId];case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),_U.error(e.t0);case 19:t("config",a,o);case 20:case"end":return e.stop()}}),e,null,[[1,16]])}))),EU.apply(this,arguments)}function TU(e,t,n,r,i){return IU.apply(this,arguments)}function IU(){return IU=P(I().mark((function e(t,n,r,i,a){var o,s,u,c,l,f;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o=[],!a||!a.send_to){e.next=27;break}return s=a.send_to,Array.isArray(s)||(s=[s]),e.next=7,xU(r);case 7:u=e.sent,c=T(s),e.prev=9,f=I().mark((function e(){var t,r,i;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=l.value,r=u.find((function(e){return e.measurementId===t})),!(i=r&&n[r.appId])){e.next=7;break}o.push(i),e.next=9;break;case 7:return o=[],e.abrupt("return","break");case 9:case"end":return e.stop()}}),e)})),c.s();case 12:if((l=c.n()).done){e.next=19;break}return e.delegateYield(f(),"t0",14);case 14:if("break"!==e.t0){e.next=17;break}return e.abrupt("break",19);case 17:e.next=12;break;case 19:e.next=24;break;case 21:e.prev=21,e.t1=e.catch(9),c.e(e.t1);case 24:return e.prev=24,c.f(),e.finish(24);case 27:return 0===o.length&&(o=Object.values(n)),e.next=30,Promise.all(o);case 30:t("event",i,a||{}),e.next=36;break;case 33:e.prev=33,e.t2=e.catch(0),_U.error(e.t2);case 36:case"end":return e.stop()}}),e,null,[[0,33],[9,21,24,27]])}))),IU.apply(this,arguments)}function RU(e,t,n,r,i){var a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(a=window[i]),window[i]=function(e,t,n,r){function i(){return(i=P(I().mark((function i(a,o,s){return I().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(i.prev=0,"event"!==a){i.next=6;break}return i.next=4,TU(e,t,n,o,s);case 4:i.next=12;break;case 6:if("config"!==a){i.next=11;break}return i.next=9,SU(e,t,n,r,o,s);case 9:i.next=12;break;case 11:"consent"===a?e("consent","update",s):e("set",o);case 12:i.next=17;break;case 14:i.prev=14,i.t0=i.catch(0),_U.error(i.t0);case 17:case"end":return i.stop()}}),i,null,[[0,14]])})))).apply(this,arguments)}return function(e,t,n){return i.apply(this,arguments)}}(a,e,t,n),{gtagCore:a,wrappedGtag:window[i]}}function PU(e){for(var t=window.document.getElementsByTagName("script"),n=0,r=Object.values(t);n<r.length;n++){var i=r[n];if(i.src&&i.src.includes(wU)&&i.src.includes(e))return i}return null}var OU=(O(pU={},"already-exists","A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId."),O(pU,"already-initialized","initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance."),O(pU,"already-initialized-settings","Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect."),O(pU,"interop-component-reg-failed","Firebase Analytics Interop Component failed to instantiate: {$reason}"),O(pU,"invalid-analytics-context","Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}"),O(pU,"indexeddb-unavailable","IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}"),O(pU,"fetch-throttle","The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}."),O(pU,"config-fetch-failed","Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}"),O(pU,"no-api-key",'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.'),O(pU,"no-app-id",'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'),pU),NU=new ae("analytics","Analytics",OU),AU=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;p(this,e),this.throttleMetadata=t,this.intervalMillis=n}return g(e,[{key:"getThrottleMetadata",value:function(e){return this.throttleMetadata[e]}},{key:"setThrottleMetadata",value:function(e,t){this.throttleMetadata[e]=t}},{key:"deleteThrottleMetadata",value:function(e){delete this.throttleMetadata[e]}}]),e}(),DU=new AU;function FU(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function jU(e){return LU.apply(this,arguments)}function LU(){return LU=P(I().mark((function e(t){var n,r,i,a,o,s,u,c;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.appId,i=t.apiKey,a={method:"GET",headers:FU(i)},o=kU.replace("{app-id}",r),e.next=5,fetch(o,a);case 5:if(200===(s=e.sent).status||304===s.status){e.next=18;break}return u="",e.prev=8,e.next=11,s.json();case 11:c=e.sent,(null===(n=c.error)||void 0===n?void 0:n.message)&&(u=c.error.message),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(8);case 17:throw NU.create("config-fetch-failed",{httpStatus:s.status,responseMessage:u});case 18:return e.abrupt("return",s.json());case 19:case"end":return e.stop()}}),e,null,[[8,15]])}))),LU.apply(this,arguments)}function MU(e){return UU.apply(this,arguments)}function UU(){return UU=P(I().mark((function e(t){var n,r,i,a,o,s,u,c,l=arguments;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=l.length>1&&void 0!==l[1]?l[1]:DU,r=l.length>2?l[2]:void 0,i=t.options,a=i.appId,o=i.apiKey,s=i.measurementId,a){e.next=5;break}throw NU.create("no-app-id");case 5:if(o){e.next=9;break}if(!s){e.next=8;break}return e.abrupt("return",{measurementId:s,appId:a});case 8:throw NU.create("no-api-key");case 9:return u=n.getThrottleMetadata(a)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new GU,setTimeout(P(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.abort();case 1:case"end":return e.stop()}}),e)}))),void 0!==r?r:bU),e.abrupt("return",VU({appId:a,apiKey:o,measurementId:s},u,c,n));case 13:case"end":return e.stop()}}),e)}))),UU.apply(this,arguments)}function VU(e,t,n){return zU.apply(this,arguments)}function zU(){return zU=P(I().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h,d,p=arguments;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.throttleEndTimeMillis,a=n.backoffCount,o=p.length>3&&void 0!==p[3]?p[3]:DU,u=t.appId,c=t.measurementId,e.prev=3,e.next=6,BU(r,i);case 6:e.next=14;break;case 8:if(e.prev=8,e.t0=e.catch(3),!c){e.next=13;break}return _U.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(c)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===e.t0||void 0===e.t0?void 0:e.t0.message,"]")),e.abrupt("return",{appId:u,measurementId:c});case 13:throw e.t0;case 14:return e.prev=14,e.next=17,jU(t);case 17:return l=e.sent,o.deleteThrottleMetadata(u),e.abrupt("return",l);case 22:if(e.prev=22,e.t1=e.catch(14),qU(f=e.t1)){e.next=33;break}if(o.deleteThrottleMetadata(u),!c){e.next=32;break}return _U.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(c)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===f||void 0===f?void 0:f.message,"]")),e.abrupt("return",{appId:u,measurementId:c});case 32:throw e.t1;case 33:return h=503===Number(null===(s=null===f||void 0===f?void 0:f.customData)||void 0===s?void 0:s.httpStatus)?Ee(a,o.intervalMillis,30):Ee(a,o.intervalMillis),d={throttleEndTimeMillis:Date.now()+h,backoffCount:a+1},o.setThrottleMetadata(u,d),_U.debug("Calling attemptFetch again in ".concat(h," millis")),e.abrupt("return",VU(t,d,r,o));case 38:case"end":return e.stop()}}),e,null,[[3,8],[14,22]])}))),zU.apply(this,arguments)}function BU(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),a=setTimeout(n,i);e.addEventListener((function(){clearTimeout(a),r(NU.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}function qU(e){if(!(e instanceof ie)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}var HU,WU,GU=function(){function e(){p(this,e),this.listeners=[]}return g(e,[{key:"addEventListener",value:function(e){this.listeners.push(e)}},{key:"abort",value:function(){this.listeners.forEach((function(e){return e()}))}}]),e}();function KU(){return(KU=P(I().mark((function e(t,n,r,i,a){var o,s;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a||!a.global){e.next=5;break}return t("event",r,i),e.abrupt("return");case 5:return e.next=7,n;case 7:o=e.sent,s=Object.assign(Object.assign({},i),{send_to:o}),t("event",r,s);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $U(e){WU=e}function QU(e){HU=e}function YU(){return XU.apply(this,arguments)}function XU(){return(XU=P(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ne()){e.next=5;break}return _U.warn(NU.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),e.abrupt("return",!1);case 5:return e.prev=5,e.next=8,re();case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(5),_U.warn(NU.create("indexeddb-unavailable",{errorInfo:null===e.t0||void 0===e.t0?void 0:e.t0.toString()}).message),e.abrupt("return",!1);case 14:return e.abrupt("return",!0);case 15:case"end":return e.stop()}}),e,null,[[5,10]])})))).apply(this,arguments)}function JU(){return JU=P(I().mark((function e(t,n,r,i,a,o,s){var u,c,l,f,h,p,v,m;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c=MU(t)).then((function(e){r[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&_U.warn("The measurement ID in the local Firebase config (".concat(t.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(e.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(e){return _U.error(e)})),n.push(c),l=YU().then((function(e){return e?i.getId():void 0})),e.next=6,Promise.all([c,l]);case 6:return f=e.sent,h=d(f,2),p=h[0],v=h[1],PU(o)||CU(o,p.measurementId),WU&&(a("consent","default",WU),$U(void 0)),a("js",new Date),(m=null!==(u=null===s||void 0===s?void 0:s.config)&&void 0!==u?u:{})[gU]="firebase",m.update=!0,null!=v&&(m[yU]=v),a("config",p.measurementId,m),HU&&(a("set",HU),QU(void 0)),e.abrupt("return",p.measurementId);case 20:case"end":return e.stop()}}),e)}))),JU.apply(this,arguments)}var ZU,eV,tV=function(){function e(t){p(this,e),this.app=t}return g(e,[{key:"_delete",value:function(){return delete nV[this.app.options.appId],Promise.resolve()}}]),e}(),nV={},rV=[],iV={},aV="dataLayer",oV="gtag",sV=!1;function uV(){var e=[];if(Z()&&e.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){var t=e.map((function(e,t){return"(".concat(t+1,") ").concat(e)})).join(" "),n=NU.create("invalid-analytics-context",{errorInfo:t});_U.warn(n.message)}}function cV(e,t,n){uV();var r=e.options.appId;if(!r)throw NU.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw NU.create("no-api-key");_U.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=nV[r])throw NU.create("already-exists",{id:r});if(!sV){!function(e){var t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(aV);var i=RU(nV,rV,iV,aV,oV),a=i.wrappedGtag,o=i.gtagCore;eV=a,ZU=o,sV=!0}return nV[r]=function(e,t,n,r,i,a,o){return JU.apply(this,arguments)}(e,rV,iV,t,ZU,aV,n),new tV(e)}function lV(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=yt(e,mU);if(n.isInitialized()){var r=n.getImmediate();if(ve(t,n.getOptions()))return r;throw NU.create("already-initialized")}var i=n.initialize({options:t});return i}function fV(e,t,n,r){e=Te(e),function(e,t,n,r,i){return KU.apply(this,arguments)}(eV,nV[e.app.options.appId],t,n,r).catch((function(e){return _U.error(e)}))}var hV="@firebase/analytics",dV="0.9.1";mt(new Ie(mU,(function(e,t){var n=t.options;return cV(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)}),"PUBLIC")),mt(new Ie("analytics-internal",(function(e){try{var t=e.getProvider(mU).getImmediate();return{logEvent:function(e,n,r){return fV(t,e,n,r)}}}catch(zT){throw NU.create("interop-component-reg-failed",{reason:zT})}}),"PRIVATE")),Ct(hV,dV),Ct(hV,dV,"esm2017");var pV={apiKey:"AIzaSyDaJUPAulBLv_nhEw-4QNj10up8JnZzL4c",authDomain:"latrik-bd.firebaseapp.com",projectId:"latrik-bd",storageBucket:"latrik-bd.appspot.com",messagingSenderId:"417235277664",appId:"1:417235277664:web:0d0cf68462a698f0b87005",measurementId:"G-1CR7V7H1HH"},vV=pV,mV=_t(pV);Q_(mV),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xt(),t=yt(e=Te(e),mU);t.isInitialized()?t.getImmediate():lV(e)}(mV);r.createRoot(document.getElementById("root")).render((0,wP.jsx)(e.StrictMode,{children:(0,wP.jsx)(FT,{firebaseConfig:vV,children:(0,wP.jsx)(e.Suspense,{fallback:(0,wP.jsx)("p",{children:"Cargando..."}),children:(0,wP.jsx)(vU,{})})})}))}()}();
//# sourceMappingURL=main.29f1cbe8.js.map